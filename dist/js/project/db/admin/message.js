/* build : 564493634@qq.com 2015-06-03 15:25:58 */
define(["jquery","underscore","jquery.ui"],function(t,e){function i(){var e;t("#makeSure").on("click",function(){e=[],t("input[type=checkbox]:checked").each(function(i,n){e.push(t(n).attr("data-obj"))}),window.sendDialogMessage("ztCategoryModuleList",{data:e}),window.closeDialog()})}function n(e){var i="./ztCategoryModuleList";t("select[name=cid]").on("change",function(){"0"==t(this).val()?t("#addModule").attr("href","javascript:void(0);"):t("#addModule").attr("href",i+"/id/"+t(this).val())}),window.onDialogMessage("ztCategoryModuleList",function(t){})}function a(){var i=e.template(["<tr>","<td></td>","<td>","<% if(!!pid){ %>|——<% } %>",'<input type="text" class="form-control half" name="new[name][<%= id %>][]" />',"</td>","<td>","<% if(!!pid){ %>|——<% } %>",'<input type="text" class="form-control half" name="new[url][<%= id %>][]" />',"</td>","<td>","<% if(!!pid){ %>|——<% } %>",'<input type="text" class="form-control half" name="new[remark][<%= id %>][]" />',"</td>","<td>","<% if(!!pid){ %>|——<% } %>",'<select name="new[status][<%= id %>][]" id="" class="form-control valid" aria-invalid="false">','<option value="1">启用</option>','<option value="0">禁用</option>',"</select>","</td>","<td>","<% if(!pid){ %>",'<a href="javascript:void(0);" class="btn-sm btn-blue childItem">添加子分类</a></td>',"<% } %>","</tr>"].join(""));t("body").on("click","#addCate",function(){var e=i({id:0,pid:!1});t(".sub-tr").before(e)}),t("body").on("click",".childItem",function(){var e=t(this).parent().siblings().eq(0).find("input").val(),n=i({id:e,pid:!0});t(this).parents("tr").after(n)})}return{ztCategoryModuleList:i,ztAdd:n,noticeCategoryIndex:a}});
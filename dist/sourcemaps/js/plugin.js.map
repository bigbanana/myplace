{"version":3,"sources":["activemenu.js","autoComplete.js","clearInput.js","datepicker.js","dateSelect.js","dropdown.js","dropdownSelect.js","focusInput.js","jquery.easing.1.3.js","jquery.validate.core.js","jquery.validate.js","jquery.widget.js","linkDialog.js","linkSelect.js","marquee.js","moveFocus.js","pagination.js","placeholder.js","plax.js","responsivetable.js","shade.js","sliderbox.js","sticky.js","tab.js","tabNavOverflow.js","tabs.js","timepicker.js","validateForm.js","waterfall.js"],"names":["factory","define","amd","jQuery","widget","Waypoint","$","Activemenu","opt","this","options","extend","arguments","callee","$el","el","$navs","children","$panels","panels","init","prototype","percent","activemenuOffset","offset","match","window","height","parseInt","events","that","on","e","$this","index","scrollTo","waypoint","handler","direction","element","select","$panel","eq","stop","animate","scrollTop","top","duration","refresh","refreshAll","length","addClass","activeName","siblings","removeClass","noop","install","_","Effect","AutoComplete","_list","state","autocomplete","wrap","$wrap","parent","$box","$list","find","after","proxy","show","keyCode","preventDefault","stopPropagation","move","debounceReq","data","val","trigger","isTrigger","hide","target","req","key","render","params","field","get","remote","done","res","debounce","list","empty","each","item","i","append","_liTemp","step","active","len","$children","filter","num","type","speed","template","join","ClearInput","_this","outerHeight","$button","css","position","display","width","zIndex","fontSize","Math","ceil","fontWeight","color","lineHeight","verticalAlign","textDecoration","textAlign","appendTo","document","body","clear","action","destory","outerWidth","left","remove","$_fn_datepicker","fn","datepicker","Datepicker","call","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","_datepicker","moment","DateSelect","_date","startOf","date","$year","widths","$month","hasmonth","$date","hasdate","event","updateYear","isNaN","value","updateMonth","setValue","updateDate","cur","opts","year","dropdownSelect","Date","getFullYear","invalide","push","range","unshift","$selectMenu","month","className","$widget","toggle","maxdate","endOf","format","getParent","selector","attr","test","replace","$parent","clearMenus","which","backdrop","relatedTarget","hasClass","tagName","contains","Event","isDefaultPrevented","Plugin","option","Dropdown","toLowerCase","VERSION","is","isActive","documentElement","closest","createElement","insertAfter","keydown","desc","$items","old","dropdown","Constructor","noConflict","DropdownSelect","innerWidth","createWidget","changeValue","$selected","text","$selectName","map","detach","html","_temp","minWidth","name","before","$body","focusInput","inited","disabled","ignore","fx","easing","param","readOnly","$tar","$pre","tar","pre","setTimeout","getCss","opacity","other","cursor","border","times","size","borderWidth","borderRadius","enable","disable","def","swing","x","t","b","c","d","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","s","p","a","abs","asin","easeOutElastic","easeInOutElastic","easeInBack","undefined","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","validate","debug","console","validator","settings","onsubmit","validateDelegate","submitHandler","submitButton","cancelSubmit","submit","handle","hidden","result","currentForm","form","pendingRequest","formSubmitted","focusInvalid","valid","errorList","concat","removeAttrs","attributes","$element","split","removeAttr","rules","command","argument","staticRules","existingRules","filtered","normalizeRule","messages","method","normalizeRules","classRules","attributeRules","dataRules","required","expr","blank","trim","filled","unchecked","prop","defaults","source","args","makeArray","apply","constructor","Array","slice","n","RegExp","groups","errorClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","optional","nodeName","onkeyup","excludedKeys","elementValue","indexOf","lastElement","onclick","parentNode","highlight","findByName","setDefaults","email","url","dateISO","number","digits","creditcard","equalTo","maxlength","minlength","rangelength","max","min","autoCreateRanges","delegate","eventType","labelContainer","errorContext","containers","add","valueCache","pending","invalid","reset","invalidHandler","bind","checkForm","errorMap","triggerHandler","showErrors","prepareForm","elements","currentElements","check","cleanElement","clean","checkElement","validationTargetFor","prepareElement","numberOfInvalids","toHide","errors","message","successList","grep","defaultShowErrors","resetForm","hideErrors","removeData","objectLength","obj","count","not","addWrapper","findLastActive","focus","rulesCache","toShow","validity","badInput","rule","rulesCount","dependencyMismatch","parameters","methods","formatAndAdd","TypeError","id","customDataMessage","charAt","toUpperCase","substring","customMessage","m","String","findDefined","defaultMessage","title","theregex","toToggle","wrapper","error","showLabel","success","validElements","invalidElements","place","group","errorID","elementID","idOrName","describedBy","errorPlacement","parents","testgroup","describer","getLength","depend","dependTypes","boolean","string","function","startRequest","stopRequest","previousValue","classRuleSettings","addClassRules","classes","getAttribute","Number","depends","keepRule","parameter","isFunction","parts","isArray","transformed","addMethod","toString","cDigit","nCheck","nDigit","bEven","unbind","previous","originalMessage","ajax","mode","port","dataType","context","response","pendingRequests","ajaxPrefilter","xhr","abort","ajaxSettings","$others","extension","defaultsHighlight","label","shift","update","Deferred","$widgets","defs","itemDef","widgetDefs","widgets","widgetDef","require","resolve","promise","when","Dialog","Backbone","URLREG","LinkDialog","windowName","href","$dialog","temp","$iframe","dialog","autoOpen","close","destroy","iframe","Events","setTitle","contentWindow","setOption","off","location","reload","open","modal","LinkSelect","replaceWith","names","parseJSON","create","self","createSelect","$select","defer","setDefault","nextAll","getName","func","reject","selectTemp","createOption","$option","optionTemp","src","Marquee","float","showWidth","showHeight","visible","clone","$itemBox","overflow","zoom","hover","start","roll","scrollLeft","timer","setInterval","clearInterval","marquee","MoveFocus","$collection","collection","funName","funMap","up","$first","$ffirst","$active","andSelf","down","$last","current","right","enter","click","37","38","39","40","13","queryString","Pagination","_data","mapObject","v","k","currentPage","pageSize","maxPage","_events","setOptions","pageChange","page","setPage","_createHref","search","hash","setPageSize","totalPage","total","items","style","displayEdges","prev","next","edges","prevStart","nextStart","ellipseText","prevHtml","nextHtml","$els","_createElements","showPages","showNums","prepend","skipPage","_skipPage","pageSizeSelect","_pageSizeSelect","skip","$skip","parse","extract","stringify","_elementTemp","_skipPageTemp","pageSizeArray","_pageSizeSelectTemp","onChange","modernizr","Placeholder","$label","input","placeholder","paddingTop","paddingLeft","insertBefore","set","get3dTranslation","translate","matrix","values","y","z","parseFloat","inViewport","offsetWidth","offsetHeight","clientHeight","rects","getClientRects","l","r","in_viewport","bottom","supports3dTransform","has3d","transforms","webkitTransform","OTransform","msTransform","MozTransform","transform","getComputedStyle","getPropertyValue","removeChild","moveable","ignoreMoveable","DeviceOrientationEvent","valuesFromMotion","gamma","beta","orientation","motionStartX","motionStartY","plaxifier","getTime","lastRender","delay","leftOffset","plaxActivityTarget","topOffset","pageX","pageY","layers","motionDegrees","motionMin","motionMax","layer","hRatio","vRatio","useTransform","background","newX","transformStartX","inversionFactor","xRange","newY","transformStartY","yRange","newZ","transformStartZ","startX","startY","maxfps","plaxify","layerExistsAt","zRange","invert","pos","originX","originY","transformOriginX","transformOriginY","transformOriginZ","transformTranslate","floor","splice","plax","activityTarget","gyroRange","ondeviceorientation","restorePositions","clearLayers","ender","browser","Responsivetable","_wrapTemp","$tableWrap","$elClone","$actions","$head","initColumn","createToolbar","createStickyHeader","updateCheckState","$toolbar","checked","$cells","toggleClass","$sticky","windowResize","$checkGroup","priority","$cell","_tollbarTemp","createCheckGroup","_text","_index","$li","$checkbox","$th","refreshSticky","Shade","client","$content","$overlayer","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","content","SliderBox","displayNumber","initControl","slider","auto","hoverPause","closeAuto","openAuto","control","$controlBox","controlSkip","$ct","createControl","getIndex","endCss","Sticky","stickyoffset","stickyOffset","createWrapper","originalHandler","shouldBeStuck","wrapperHeight","$wrapper","stuckClass","wrapperclass","unwrap","Tab","simpleModel","normalModel","curIndex","$tabNav","fadeIn","$curNav","$curPan","$tabPanels","$tabNavs","$navWrap","prependTo","$panelWrap","tabNavOverflow","$container","TID","KEYMAP","horizontal","itemWidth","vertical","TabNavOverflow","tid","maxWidth","container","rt","_add","keys","$item","$_fn_tabs","tabs","Tabs","$_fn_timepicker","datetimepicker","timepicker","regional","timeOnlyTitle","timeText","hourText","minuteText","secondText","millisecText","microsecText","timezoneText","timeFormat","timeSuffix","amNames","pmNames","isRTL","Timepicker","ValidateForm","$form","Waterfall","_heights","createHeight","column","ar","getHeight","setHeight","getMinHeight","getMaxHeight","getMinIndex","toArray","visibility","itemAttr","minHeight","sort","queue","fromCss","from","toCss","to","dequeue"],"mappings":"CAGC,SAAUA,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,gBAAgB,oBAAoBD,GAEzEA,EAASG,OAAOC,OAAOC,WAEzB,SAASC,EAAEF,EAAOC,GAElB,GAAIE,GAAa,SAASC,GACxBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GAEzDC,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IAC1BN,KAAKO,MAAQP,KAAKK,IAAIG,WACtBR,KAAKS,QAAUZ,EAAEG,KAAKC,QAAQS,QAC9BV,KAAKW,OA4DP,OAzDAd,GAAEK,OAAOJ,EAAWc,WAClBD,KAAM,WACJ,GAAIE,IAEDb,KAAKC,QAAQa,kBAAmD,GAA/Bd,KAAKC,QAAQa,oBAC/Cd,KAAKC,QAAQc,OAASf,KAAKC,QAAQa,mBAElCD,EAAQb,KAAKC,QAAQc,OAAOC,MAAM,eACnChB,KAAKC,QAAQc,OAASlB,EAAEoB,QAAQC,SAASC,SAASN,EAAQ,IAAI,KAEhEb,KAAKoB,UAEPA,OAAQ,WACN,GAAIC,GAAOrB,IAEXA,MAAKK,IAAIiB,GAAG,QAAQ,IAAI,SAASC,GAC/B,GAAIC,GAAQ3B,EAAEG,MACVyB,EAAQD,EAAMC,OAElB,OADAJ,GAAKK,SAASD,IACP,IAGTzB,KAAKS,QAAQkB,UACXZ,OAASf,KAAKC,QAAQc,OACtBa,QAAS,SAASC,GAChB,GAAIJ,GAAQ5B,EAAEG,KAAK8B,SAASL,OACZ,OAAbI,GAAkC,QAAbA,GAAqBJ,IAC7CJ,EAAKU,OAAON,OAIlBC,SAAU,SAASD,GACjB,GAAIO,GAAShC,KAAKS,QAAQwB,GAAGR,GACzBV,EAASiB,EAAOjB,QACpBlB,GAAE,aAAaqC,OAAOC,SAASC,UAAYrB,EAAOsB,IAAIrC,KAAKC,QAAQc,OAAO,GAAGf,KAAKC,QAAQqC,WAE5FC,QAAS,WACP3C,EAAS4C,cAEXT,OAAQ,SAASN,GACZA,EAAM,GAAKA,EAAMzB,KAAKO,MAAMkC,QAC/BzC,KAAKO,MAAM0B,GAAGR,GAAOiB,SAAS1C,KAAKC,QAAQ0C,YAC1CC,SAAS,IAAI5C,KAAKC,QAAQ0C,YAAYE,YAAY7C,KAAKC,QAAQ0C,eAIpE9C,EAAEK,OAAOJ,GACPG,SACEc,OAAQ,EACRuB,SAAU,IACVK,WAAY,SACZf,QAAS/B,EAAEiD,QAIfnD,EAAOoD,QAAQ,aAAajD,GAErBA;CCpER,SAAUP,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,uBAAuB,SAAS,aAAa,gBAAgB,SAAS,SAASD,GAEtFA,EAASG,OAAOsD,EAAErD,OAAOsD,SAE3B,SAASpD,EAAEmD,EAAErD,EAAOsD,GAEpB,GAAIC,GAAe,SAASnD,GAC1BC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKmD,SACLnD,KAAKoD,MAAQ,OACbpD,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKK,IAAI,GAAGgD,aAAe,MAC3BrD,KAAKW,OA4IP,OAzIAd,GAAEK,OAAOgD,EAAatC,WACpBD,KAAM,WACJX,KAAKK,IAAIiD,KAAK,uCACdtD,KAAKuD,MAAQvD,KAAKK,IAAImD,SACtBxD,KAAKyD,KAAO5D,EAAE,iFACdG,KAAK0D,MAAQ1D,KAAKyD,KAAKE,KAAK,yBAC5B3D,KAAKK,IAAIuD,MAAM5D,KAAKyD,MACpBzD,KAAKoB,UAEPA,OAAQ,WACN,GAAIC,GAAOrB,IAEXA,MAAKK,IAAIiB,GAAG,QAAQzB,EAAEgE,MAAM7D,KAAK8D,KAAK9D,OACtCA,KAAKK,IAAIiB,GAAG,gBAAgB,SAASC,GACnC,OAAOA,EAAEwC,SACP,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACH,KAEF,KAAK,IAKH,MAHAxC,GAAEyC,iBACFzC,EAAE0C,kBACF5C,EAAK6C,UACE,CAET,KAAK,IAKH,MAHA3C,GAAEyC,iBACFzC,EAAE0C,kBACF5C,EAAK6C,KAAK,IACH,CAET,SACE7C,EAAK8C,iBAIXnE,KAAKK,IAAIiB,GAAG,qBAAqB,SAASC,EAAE6C,GAC1C/C,EAAKhB,IAAIgE,IAAID,KAEfpE,KAAK0D,MAAMpC,GAAG,QAAQ,MAAM,SAASC,GACnC,GAAIE,GAAQ5B,EAAEG,MAAMyB,OACpBJ,GAAKhB,IAAIiE,QAAQ,qBAAqBjD,EAAK8B,MAAM1B,IAC7CF,EAAEgD,YACJlD,EAAKmD,OACLnD,EAAKhB,IAAIiE,QAAQ,qBAAqBjD,EAAK8B,MAAM1B,OAGrDzB,KAAK0D,MAAMpC,GAAG,QAAQ,SAASC,GAC1BA,EAAEkD,QAAUpD,EAAKhB,IAAI,IACxBgB,EAAKmD,UAGTE,IAAK,SAASC,GACZ,GAAItD,GAAOrB,IACX,KAAI2E,EAEF,WADA3E,MAAK4E,UAAUD,EAGjB,IAAIE,KACJA,GAAO7E,KAAKC,QAAQ6E,OAASH,EAC7B9E,EAAEkF,IAAI/E,KAAKC,QAAQ+E,OAAOnF,EAAEK,OAAO2E,EAAO7E,KAAKC,QAAQ4E,SAASI,KAAK,SAASC,GACxEA,IAAKA,MACT7D,EAAKuD,OAAOM,EAAIP,MAGpBR,YAAanB,EAAEmC,SAAS,WACtBnF,KAAK0E,IAAI1E,KAAKK,IAAIgE,QAClB,KACFO,OAAQ,SAASQ,EAAKT,GACpB,GAAItD,GAAOrB,IACXA,MAAKmD,MAAQiC,EACbpF,KAAK0D,MAAM2B,QACXrC,EAAEsC,KAAKF,EAAK,SAASG,EAAKC,GACxBnE,EAAKqC,MAAM+B,OAAOpE,EAAKqE,SAASH,KAAKA,EAAKZ,IAAIA,OAG9B,GAAfS,EAAK3C,OACNzC,KAAKwE,OAELxE,KAAK8D,QAGTI,KAAM,SAASyB,GACb,GAGIC,GAHAC,EAAM7F,KAAKmD,MAAMV,OACjBqD,EAAY9F,KAAK0D,MAAMlD,WACvBiB,EAAQqE,EAAUC,OAAO,WAAWlD,YAAY,UAAUpB,QACnDuE,EAAMvE,EAAMkE,CACpBK,GAAI,GACFvE,OACDuE,IAEFJ,EAASI,EAAIH,EAAIA,GAEjBD,EAASI,EAAIH,EAEfC,EAAU7D,GAAG2D,GAAQlD,SAAS,UAAU4B,QAAQ,UAElDR,KAAM,WACa,QAAd9D,KAAKoD,OAAwC,GAArBpD,KAAKmD,MAAMV,SACtCzC,KAAKuD,MAAMb,SAAS,QACpB,GAAIO,IACF3C,GAAIN,KAAKyD,KACTwC,KAAM,aACNC,MAAO,SAETlG,KAAKoD,MAAQ,SAEfoB,KAAM,WACJ,GAAInD,GAAOrB,IACM,SAAdA,KAAKoD,OACR,GAAIH,IACF3C,GAAIN,KAAKyD,KACTwC,KAAM,YACNC,MAAO,SACNjB,KAAK,WACN5D,EAAKkC,MAAMV,YAAY,QACvBxB,EAAK+B,MAAQ,UAGjBsC,QAAS1C,EAAEmD,UACT,iFACAC,KAAK,OAGTvG,EAAEK,OAAOgD,GACPjD,SACE6E,MAAO,UACPD,aAIJlF,EAAOoD,QAAQ,eAAeG,GAEvBA;CChKR,SAAU3D,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,iBAAiBD,GAEtDA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GACX,QAAS0G,GAAWtG,GAClBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQmG,EAAWpG,QAAQF,GACnDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKW,OAkEP,MA/DAd,GAAEK,OAAOmG,EAAWzF,WAClBD,KAAO,WACL,GAAI2F,GAAQtG,IACZA,MAAKC,QAAQiB,OAASlB,KAAKK,IAAIkG,aAC/B,IAAIrF,GAASlB,KAAKC,QAAQiB,MAC1BlB,MAAKwG,QAAU3G,EAAE,sCACd4G,KACCC,SAAW,WACXC,QAAU,OACVzF,OAASA,EACT0F,MAAQ1F,EACR2F,OAAS,IACTC,SAAWC,KAAKC,KAAY,GAAP9F,GACrB+F,WAAa,IACbC,MAAQ,OACRC,WAAajG,EAAO,EAAE,KACtBkG,cAAgB,SAChBC,eAAiB,OACjBC,UAAY,WACXC,SAAS1H,EAAE2H,SAASC,OACzBzH,KAAKwG,QAAQlF,GAAG,YAAYzB,EAAEgE,MAAM7D,KAAK0H,MAAM1H,OAC/CA,KAAKK,IAAIiB,GAAG,mCAAmC,SAASC,GACzC,SAAVA,EAAE0E,MAAiBK,EAAMI,WAC5BJ,EAAMqB,WAER3H,KAAKK,IAAIiB,GAAG,OAAOzB,EAAEgE,MAAM7D,KAAKwE,KAAKxE,OACrCA,KAAK0G,WACL1G,KAAKK,IAAIiB,GAAG,SAASzB,EAAEgE,MAAM7D,KAAK4H,QAAQ5H,QAE5C8D,KAAO,WACL9D,KAAKwG,QAAQ1C,QAEfU,KAAO,WACLxE,KAAKwG,QAAQhC,QAEfkC,SAAW,WACT,GAAIE,GAAQ5G,KAAKK,IAAIwH,aACjB9G,EAASf,KAAKK,IAAIU,QACtBA,GAAO+G,KAAO/G,EAAO+G,KAAOlB,EAAQ5G,KAAKC,QAAQiB,OACjDlB,KAAKwG,QAAQC,IAAI1F,IAEnB4G,OAAS,WACe,KAAnB3H,KAAKK,IAAIgE,MACVrE,KAAK8D,OAEL9D,KAAKwE,QAGTkD,MAAQ,WACN1H,KAAKK,IAAIgE,IAAI,IAAIC,QAAQ,UAE3BsD,QAAU,WACR5H,KAAKwG,QAAQuB,YAIjBlI,EAAEK,OAAOmG,GACPpG,aAIFN,EAAOoD,QAAQ,aAAasD,GAErBA;CC5ER,SAAU9G,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,gBAAgB,aAAaD,GAElEA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GAGXsB,OAAO+G,gBAAkBnI,EAAEoI,GAAGC,UAE9B,IAAIC,GAAa,SAASpI,GAmBxB,MAlBAC,MAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IAG1B0H,gBAAgBI,KAAKpI,KAAKK,IAAIR,EAAEK,OAAOF,KAAKC,SAC1CoI,UAAW,KACXC,SAAU,MACVC,SAAU,MACVC,YAAa,KACbC,YAAa,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,OACrEC,iBAAkB,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,MAC1EC,UAAW,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACrDC,eAAgB,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACpDC,aAAc,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,QAI9C7I,KAAK8I,YAAc9I,KAAKK,IAAI+D,KAAK,cAC1BpE,KAAK8I,YAWd,OARAjJ,GAAEK,OAAOiI,EAAWvH,cACpBf,EAAEK,OAAOiI,GACPlI,aAIFN,EAAOoD,QAAQ,aAAaoF,GAErBA;CCtCR,SAAU5I,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,aAAa,SAAS,gBAAgB,yBAAyBD,GAEpGA,EAASG,OAAOsD,EAAE+F,OAAOpJ,SAE3B,SAASE,EAAEmD,EAAE+F,EAAOpJ,GACpBsB,OAAO8H,OAASA,CAChB,IAAIC,GAAa,SAASjJ,GACxBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKW,OA0GP,OAvGAd,GAAEK,OAAO8I,EAAWpI,WAClBD,KAAM,WACJ,GAAIsI,GAAQF,EAAO/I,KAAKK,IAAIgE,OAAO6E,QAAQ,QAC3ClJ,MAAKmJ,MAAQF,EAAMlE,IAAI,QAAQkE,EAAMlE,IAAI,SAASkE,EAAMlE,IAAI,SAC5D/E,KAAKK,IAAIiD,KAAK,sCAAsCkB,OACpDxE,KAAKuD,MAAQvD,KAAKK,IAAImD,SACtBxD,KAAKoJ,MAAQvJ,EAAE,qBAAqB+G,MAAM5G,KAAKC,QAAQoJ,OAAO,IAAI9B,SAASvH,KAAKuD,OAChFvD,KAAKsJ,OAASzJ,EAAE,qBAAqB+G,MAAM5G,KAAKC,QAAQoJ,OAAO,IAC/DrJ,KAAKC,QAAQsJ,UAAYvJ,KAAKsJ,OAAO/B,SAASvH,KAAKuD,OACnDvD,KAAKwJ,MAAQ3J,EAAE,qBAAqB+G,MAAM5G,KAAKC,QAAQoJ,OAAO,IAC9DrJ,KAAKC,QAAQsJ,UAAYvJ,KAAKC,QAAQwJ,SAAWzJ,KAAKwJ,MAAMjC,SAASvH,KAAKuD,OAC1EvD,KAAK0J,QACL1J,KAAK2J,aACLC,MAAM5J,KAAKmJ,KAAK,MAAQnJ,KAAKmJ,KAAK,GAAI,GACtCS,MAAM5J,KAAKmJ,KAAK,MAAQnJ,KAAKmJ,KAAK,GAAI,GACtCnJ,KAAKoJ,MAAM9E,QAAQ,WAErBoF,MAAO,WACL,GAAIrI,GAAOrB,IACXA,MAAKoJ,MAAM9H,GAAG,SAAS,WACrBD,EAAK8H,KAAK,GAAIhI,SAASnB,KAAK6J,OAC5BxI,EAAKsI,aACLtI,EAAKyI,cACLzI,EAAK0I,aAGP/J,KAAKsJ,OAAOhI,GAAG,SAAS,WACtBD,EAAK8H,KAAK,GAAIhI,SAASnB,KAAK6J,OAC5BxI,EAAK2I,aACL3I,EAAK0I,aAEP/J,KAAKwJ,MAAMlI,GAAG,SAAS,WACrBD,EAAK8H,KAAK,GAAIhI,SAASnB,KAAK6J,OAC5BxI,EAAK0I,cAGTJ,WAAY,WACV,GAA4CM,GAAxCC,KAAQC,EAAOnK,KAAKmJ,KAAK,GAAG9H,EAAOrB,IACvCA,MAAKoJ,MAAMgB,eAAe,WAC1BpK,KAAKoJ,MAAM/D,QACX4E,EAAME,EACHP,MAAMO,KACPF,GAAM,GAAII,OAAOC,eAEnBtK,KAAKC,QAAQsK,UAAYlJ,EAAK+H,MAAM3D,OAAO,gCAC3CyE,EAAKM,KAAKP,EACV,KAAI,GAAIzE,GAAE,EAAEA,EAAExF,KAAKC,QAAQwK,MAAM,EAAEjF,IACjC0E,EAAKQ,QAAQT,EAAIzE,GACjB0E,EAAKM,KAAKP,EAAIzE,EAEhBxC,GAAEsC,KAAK4E,EAAK,SAAS3E,GACnBlE,EAAK+H,MAAM3D,OAAO,kBAAkBF,EAAK,KAAKA,GAAM4E,GAAM,aAAa,IAAI5E,EAAK,eAElFvF,KAAKoJ,MAAMgB,iBACXpK,KAAKoJ,MAAMhF,KAAK,kBAAkBuG,YAAY/D,MAAM,KAEtDkD,YAAa,WACX,GAAYc,GAAQ5K,KAAKmJ,KAAK,GAAG9H,EAAOrB,IACxCA,MAAKsJ,OAAOc,eAAe,WAC3BpK,KAAKsJ,OAAOjE,OACZ,KAAI,GAAIG,GAAE,EAAEA,EAAE,GAAGA,IACfnE,EAAKiI,OAAO7D,OAAO,kBAAkBD,EAAE,KAAKA,GAAGoF,GAAO,aAAa,KAAKpF,EAAE,GAAG,YAE/ExF,MAAKsJ,OAAOc,gBAAgBS,UAAU,QAEtC7K,KAAKsJ,OAAOlF,KAAK,kBAAkB0G,QAAQC,QAAQnB,MAAM5J,KAAKmJ,KAAK,MAErEa,WAAY,WACV,GACI3I,GAAOrB,KACPmJ,EAAOnJ,KAAKmJ,KAAK,GACjB6B,EAAUjC,EAAO/I,KAAKmJ,MAAM8B,MAAM,SAASlG,IAAI,OACnD/E,MAAKwJ,MAAMY,eAAe,WAC1BpK,KAAKwJ,MAAMnE,OACX,KAAI,GAAIG,GAAE,EAAEA,EAAEwF,EAAQ,EAAExF,IACtBnE,EAAKmI,MAAM/D,OAAO,kBAAkBD,EAAE,KAAKA,GAAG2D,GAAM,aAAa,IAAI3D,EAAE,YAEzExF,MAAKwJ,MAAMY,gBAAgBS,UAAU,QACrC7K,KAAKwJ,MAAMpF,KAAK,kBAAkBuG,YAAY/D,MAAM,KAEtDmD,SAAU,WACLH,MAAM5J,KAAKmJ,KAAK,IACjBnJ,KAAKK,IAAIgE,IAAI,IAEbrE,KAAKK,IAAIgE,IAAI0E,EAAO/I,KAAKmJ,MAAM+B,OAAOlL,KAAKC,QAAQiL,SAErDlL,KAAKK,IAAIiE,QAAQ,aAIrBzE,EAAEK,OAAO8I,GACP/I,SACEsJ,UAAU,EACVE,SAAS,EACTJ,QAAQ,GAAG,GAAG,IACdkB,UAAU,EACVE,MAAO,GACPS,OAAQ,gBAIZvL,EAAOoD,QAAQ,aAAaiG,GAErBA;CCnHR,SAAUzJ,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,mBAAmB,SAAS,UAAUD,GAE7CA,EAASG,OAAOuD,SAElB,SAAUpD,EAAEoD,GACZ,YAwBA,SAASkI,GAAU3J,GACjB,GAAI4J,GAAW5J,EAAM6J,KAAK,cAErBD,KACHA,EAAW5J,EAAM6J,KAAK,QACtBD,EAAWA,GAAY,YAAYE,KAAKF,IAAaA,EAASG,QAAQ,iBAAkB,IAG1F,IAAIC,GAAUJ,GAAYvL,EAAEuL,EAE5B,OAAOI,IAAWA,EAAQ/I,OAAS+I,EAAUhK,EAAMgC,SAGrD,QAASiI,GAAWlK,GACdA,GAAiB,IAAZA,EAAEmK,QACX7L,EAAE8L,GAAU5D,SACZlI,EAAEkL,GAAQzF,KAAK,WACb,GAAI9D,GAAgB3B,EAAEG,MAClBwL,EAAgBL,EAAU3J,GAC1BoK,GAAkBA,cAAe5L,KAEhCwL,GAAQK,SAAS,UAElBtK,GAAe,SAAVA,EAAE0E,MAAmB,kBAAkBqF,KAAK/J,EAAEkD,OAAOqH,UAAYjM,EAAEkM,SAASP,EAAQ,GAAIjK,EAAEkD,UAEnG+G,EAAQlH,QAAQ/C,EAAI1B,EAAEmM,MAAM,gBAAiBJ,IAEzCrK,EAAE0K,uBAENzK,EAAM6J,KAAK,gBAAiB,SAE5B,GAAIpI,IACF3C,GAAIkL,EAAQ7H,KAAK,qBACjBsC,KAAM,YACNC,MAAO,SACNjB,KAAK,WACNuG,EAAQ3I,YAAY,QAAQyB,QAAQ,kBAAmBsH,WAkF7D,QAASM,GAAOC,GACd,MAAOnM,MAAKsF,KAAK,WACf,GAAI9D,GAAQ3B,EAAEG,MACVoE,EAAQ5C,EAAM4C,KAAK,cAElBA,IAAM5C,EAAM4C,KAAK,cAAgBA,EAAO,GAAIgI,GAASpM,OACrC,gBAAVmM,IAAoB/H,EAAK+H,GAAQ/D,KAAK5G,KA/IrD,GAAImK,GAAW,qBACXZ,EAAW,2BACXqB,EAAW,SAAUtK,GACvB,GAAIT,GAAOrB,KACPK,EAAMR,EAAEiC,EAEZ,OADAzB,GAAIgL,KAAK,cAAc,YACa,SAAjCvJ,EAAQgK,QAAQO,kBACjBhM,GAAIiB,GAAG,oBAAoB,SAASC,GAClC,OAAG4J,EAAU9K,GAAKwL,SAAS,UAC3BxK,EAAK0J,OAAO3C,KAAKpI,KAAKuB,IACf,SAIX1B,GAAEiC,GAASR,GAAG,oBAAqBtB,KAAK+K,QAG1CqB,GAASE,QAAU,QA4CnBF,EAASxL,UAAUmK,OAAS,SAAUxJ,GACpC,GAAIC,GAAQ3B,EAAEG,KACd,KAAIwB,EAAM+K,GAAG,wBAAb,CAEA,GAAIf,GAAWL,EAAU3J,GACrBgL,EAAWhB,EAAQK,SAAS,OAIhC,IAFAJ,KAEKe,EAAU,CACT,gBAAkBhF,UAASiF,kBAAoBjB,EAAQkB,QAAQ,eAAejK,QAEhF5C,EAAE2H,SAASmF,cAAc,QACtBjK,SAAS,qBACTkK,YAAY/M,EAAEG,OACdsB,GAAG,QAASmK,EAGjB,IAAIG,IAAkBA,cAAe5L,KAGrC,IAFAwL,EAAQlH,QAAQ/C,EAAI1B,EAAEmM,MAAM,gBAAiBJ,IAEzCrK,EAAE0K,qBAAsB,MAE5BzK,GACG8C,QAAQ,SACR+G,KAAK,gBAAiB,QAEzBG,EAAQ9I,SAAS,QACd4B,QAAQ,iBAAkBsH,GAE7B,GAAI3I,IACF3C,GAAIkL,EAAQ7H,KAAK,qBACjBsC,KAAM,aACNC,MAAO,SAKX,OAAO,IAGTkG,EAASxL,UAAUiM,QAAU,SAAUtL,GACrC,GAAK,gBAAgB+J,KAAK/J,EAAEmK,SAAU,kBAAkBJ,KAAK/J,EAAEkD,OAAOqH,SAAtE,CAEA,GAAItK,GAAQ3B,EAAEG,KAKd,IAHAuB,EAAEyC,iBACFzC,EAAE0C,mBAEEzC,EAAM+K,GAAG,wBAAb,CAEA,GAAIf,GAAWL,EAAU3J,GACrBgL,EAAWhB,EAAQK,SAAS,OAEhC,KAAKW,GAAuB,IAAXjL,EAAEmK,OAAec,GAAuB,IAAXjL,EAAEmK,MAE9C,MADe,KAAXnK,EAAEmK,OAAaF,EAAQ7H,KAAKoH,GAAQzG,QAAQ,SACzC9C,EAAM8C,QAAQ,QAGvB,IAAIwI,GAAO,+BACPC,EAASvB,EAAQ7H,KAAK,gBAAkBmJ,EAAO,qBAAuBA,EAE1E,IAAKC,EAAOtK,OAAZ,CAEA,GAAIhB,GAAQsL,EAAOtL,MAAMF,EAAEkD,OAEZ,KAAXlD,EAAEmK,OAAejK,EAAQ,GAAmBA,IACjC,IAAXF,EAAEmK,OAAejK,EAAQsL,EAAOtK,OAAS,GAAGhB,KAC1CA,IAA0CA,EAAQ,GAExDsL,EAAO9K,GAAGR,GAAO6C,QAAQ,YAgB3B,IAAI0I,GAAMnN,EAAEoI,GAAGgF,QAuBf,OArBApN,GAAEoI,GAAGgF,SAAuBf,EAC5BrM,EAAEoI,GAAGgF,SAASC,YAAcd,EAM5BvM,EAAEoI,GAAGgF,SAASE,WAAa,WAEzB,MADAtN,GAAEoI,GAAGgF,SAAWD,EACThN,MAKTH,EAAE2H,UACClG,GAAG,6BAA8BmK,GACjCnK,GAAG,6BAA8B,qDAAsD,SAAUC,GAAKA,EAAE0C,oBACxG3C,GAAG,6BAA8ByJ,EAAQqB,EAASxL,UAAUmK,QAC5DzJ,GAAG,+BAAgCyJ,EAAQqB,EAASxL,UAAUiM,SAC9DvL,GAAG,+BAAgC,oBAAqB8K,EAASxL,UAAUiM,SAEvEhN;CCzLR,SAAUN,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,yBAAyB,SAAS,aAAa,gBAAgB,mBAAmBD,GAEzFA,EAASG,OAAOsD,EAAErD,SAEpB,SAASE,EAAEmD,EAAErD,GACb,GAAIyN,GAAiB,SAASrN,GACZ,SAAbA,EAAI2J,QACL3J,EAAI2J,MAAQ,cAEd1J,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKC,QAAQ2G,MAAQ5G,KAAKK,IAAIgN,aAC9BrN,KAAKK,IAAImE,OACTxE,KAAKW,OAmFP,OAhFAd,GAAEK,OAAOkN,EAAexM,WACtBD,KAAO,WAELX,KAAKsN,eACLtN,KAAK0C,WACL1C,KAAKoB,UAEPA,OAAQ,WACN,GAAIC,GAAOrB,IACXA,MAAK8K,QAAQxJ,GAAG,QAAQ,uBAAuB,WAC7C,GAAIuI,GAAQhK,EAAEG,MAAMoE,KAAK,QACzB/C,GAAKhB,IAAIgE,IAAIwF,GACbxI,EAAKhB,IAAIiE,QAAQ,UACjBjD,EAAKhB,IAAIiE,QAAQ,cAEnBtE,KAAKK,IAAIiB,GAAG,SAASzB,EAAEgE,MAAM7D,KAAKuN,YAAYvN,QAEhDuN,YAAa,WACX,GAAIC,GAAYxN,KAAKK,IAAIsD,KAAK,mBAC1BkG,EAAQ2D,EAAUnJ,MAClBoJ,EAAOD,EAAUC,MACrBzN,MAAK0N,YAAYD,KAAKA,GACtBzN,KAAK2K,YAAYhH,KAAK,sBAAsBkG,EAAM,MAAMnH,SAAS,YAChEE,SAAS,aAAaC,YAAY,aAErCyK,aAAc,WACZtN,KAAKoF,KAAOpF,KAAKK,IAAIG,WAAWmN,IAAI,WAClC,GAAInM,GAAQ3B,EAAEG,KACd,QAAQ6J,MAAMrI,EAAM6C,MAAMoJ,KAAKjM,EAAMiM,SAEvC,IAAIhH,IACFG,MAAO5G,KAAKC,QAAQ2G,MAAM,EAExB5G,MAAK8K,SAIP9K,KAAKK,IAAIuN,SACT5N,KAAK8K,QAAQzF,UAJbrF,KAAK8K,QAAUjL,EAAE,wDAAwD+M,YAAY5M,KAAKK,KAC1FL,KAAK8K,QAAQrE,IAAIA,IAKnBzG,KAAK8K,QAAQ+C,KAAK7N,KAAK8N,OAAO1I,KAAKpF,KAAKoF,QAAQK,OAAOzF,KAAKK,KAC5DL,KAAK0N,YAAc1N,KAAK8K,QAAQnH,KAAK,4BACrC3D,KAAK2K,YAAc3K,KAAK8K,QAAQnH,KAAK,qBACrC3D,KAAK2K,YAAYlE,KAAKsH,SAAS/N,KAAKC,QAAQ2G,QAC5C5G,KAAKuN,eAEP7K,SAAU,SAASsL,GACjBA,EAAOA,GAAQhO,KAAKC,QAAQ4K,UAC5B7K,KAAK8K,QAAQpI,SAASsL,IAExBzL,QAAS,WACPvC,KAAKsN,gBAEP1F,QAAS,WACP5H,KAAK8K,QAAQmD,OAAOjO,KAAKK,KACzBL,KAAK8K,QAAQ/C,SACb/H,KAAKK,IAAI+D,KAAK,iBAAiB,MAC/BpE,KAAKK,IAAIyD,QAEXgK,MAAO9K,EAAEmD,UACP,oCACA,qFACA,iCACE,OACA,oCACE,sFACF,WACA,QACF,UACAC,KAAK,OAETvG,EAAEK,OAAOkN,GACPnN,SACE4K,UAAW,GACXnB,MAAO,WAIX/J,EAAOoD,QAAQ,iBAAiBqK,GAEzBA;CCjGR,SAAU7N,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,iBAAiBD,GAEtDA,EAASG,SAEX,SAASG,GAET,GAAIqO,GAAQrO,EAAE2H,SAASC,MAEnB0G,GACFlO,SACEmO,QAAO,EACPC,UAAW,EACXC,OAAQ,eACRC,IACEjM,SAAW,IACXkM,OAAS,cACTvJ,KAAO,WACLpF,EAAEG,MAAM+H,YAIdpH,KAAO,SAAS8N,GACd,GAAInI,GAAQtG,IACTA,MAAKC,QAAQmO,SAChBpO,KAAKC,QAAQmO,QAAS,EACtBvO,EAAEK,QAAO,EAAKF,KAAKC,QAAQwO,GAC3BP,EAAM5M,GAAG,mBAAmB,wDAAwD,SAASC,GAC3F,IAAG+E,EAAMrG,QAAQoO,WACd9M,EAAEkD,OAAO4J,WAAY9M,EAAEkD,OAAOiK,SAAjC,CACA,GAAIC,GAAKC,EAAKC,EAAIC,CAClBH,GAAO9O,EAAE0B,EAAEkD,QACXmK,EAAO/O,EAAE0B,EAAEqK,eACR+C,EAAK9C,SAASvF,EAAMrG,QAAQqO,SAC/BS,WAAW,WACTF,EAAMvI,EAAM0I,OAAOL,GAEjBG,EADCF,EAAKnM,OAAO,EACP6D,EAAM0I,OAAOJ,GAEbtI,EAAM0I,OAAOL,EAAK,KAE1BG,EAAIG,QAAU,EACdJ,EAAII,QAAU,EACd3I,EAAMnE,QAAQ0M,EAAIC,IAClB,QAGN3M,QAAU,SAAS0M,EAAIC,EAAII,GACzB,GAAI7O,GAAMR,EAAE,SAAS0H,SAASC,SAASC,KACvCqH,GAAIpI,SAAW,WACfoI,EAAIK,OAAS,OACbL,EAAIM,OAASP,EAAIO,OACjB/O,EAAIoG,IAAIqI,GACRzO,EAAI8B,QAAQ0M,EAAI7O,KAAKC,QAAQsO,KAE/BS,OAAS,SAAS3O,EAAIgP,GACpBA,EAAQA,GAAS,CACjB,IAAItO,GAAOuO,EAAKC,CAOhB,OANAxO,GAASV,EAAIU,SACbwO,EAAcpO,SAASd,EAAIoG,IAAI,mBAC/B6I,GACE1I,MAAMvG,EAAIwH,aAAyB,EAAZ0H,EACvBrO,OAAOb,EAAIkG,cAA0B,EAAZgJ,IAGzB1I,OAAO,IACPD,MAAM0I,EAAK1I,MAAMyI,EACjBnO,OAAOoO,EAAKpO,OAAOmO,EACnBvH,KAAK/G,EAAO+G,KAAKwH,EAAK1I,OAAOyI,EAAM,GAAG,EACtChN,IAAItB,EAAOsB,IAAIiN,EAAKpO,QAAQmO,EAAM,GAAG,EACrCD,OAAO/O,EAAIoG,IAAI,kBAAkB,IAAIpG,EAAIoG,IAAI,kBAAkB,IAAIpG,EAAIoG,IAAI,kBAC3E+I,aAAanP,EAAIoG,IAAI,yBAGzBgJ,OAAS,WACPzP,KAAKC,QAAQoO,UAAW,GAE1BqB,QAAU,WACR1P,KAAKC,QAAQoO,UAAW,GAgB5B,OAZAxO,GAAEK,QACAiO,WAAa,SAASM,GACpBA,EAAQA,MACY,UAAjB5O,EAAEoG,KAAKwI,IACRN,EAAWxN,KAAK8N,GAEE,UAAjB5O,EAAEoG,KAAKwI,IACR5O,EAAEoG,KAA0B,YAArBkI,EAAWM,KAAyBN,EAAWM,QAKrD5O;CCjER,SAAUN,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,iBAAkB,UAAUD,GAEnCA,EAASG,SAEX,SAASG,GACVA,EAAE2O,OAAe,OAAI3O,EAAE2O,OAAc,MAErC3O,EAAEK,OAAQL,EAAE2O,QACXmB,IAAK,cACLC,MAAO,SAAUC,EAAGC,EAAGC,EAAGC,EAAGC,GAE5B,MAAOvQ,QAAO8O,OAAO9O,OAAO8O,OAAOmB,KAAKE,EAAGC,EAAGC,EAAGC,EAAGC,IAErDC,WAAY,SAAUL,EAAGC,EAAGC,EAAGC,EAAGC,GACjC,MAAOD,IAAGF,GAAGG,GAAGH,EAAIC,GAErBI,YAAa,SAAUN,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,OAAQD,GAAIF,GAAGG,IAAIH,EAAE,GAAKC,GAE3BK,cAAe,SAAUP,EAAGC,EAAGC,EAAGC,EAAGC,GACpC,OAAKH,GAAGG,EAAE,GAAK,EAAUD,EAAE,EAAEF,EAAEA,EAAIC,GAC3BC,EAAE,KAAQF,GAAIA,EAAE,GAAK,GAAKC,GAEnCM,YAAa,SAAUR,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,MAAOD,IAAGF,GAAGG,GAAGH,EAAEA,EAAIC,GAEvBO,aAAc,SAAUT,EAAGC,EAAGC,EAAGC,EAAGC,GACnC,MAAOD,KAAIF,EAAEA,EAAEG,EAAE,GAAGH,EAAEA,EAAI,GAAKC,GAEhCQ,eAAgB,SAAUV,EAAGC,EAAGC,EAAGC,EAAGC,GACrC,OAAKH,GAAGG,EAAE,GAAK,EAAUD,EAAE,EAAEF,EAAEA,EAAEA,EAAIC,EAC9BC,EAAE,IAAIF,GAAG,GAAGA,EAAEA,EAAI,GAAKC,GAE/BS,YAAa,SAAUX,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,MAAOD,IAAGF,GAAGG,GAAGH,EAAEA,EAAEA,EAAIC,GAEzBU,aAAc,SAAUZ,EAAGC,EAAGC,EAAGC,EAAGC,GACnC,OAAQD,IAAMF,EAAEA,EAAEG,EAAE,GAAGH,EAAEA,EAAEA,EAAI,GAAKC,GAErCW,eAAgB,SAAUb,EAAGC,EAAGC,EAAGC,EAAGC,GACrC,OAAKH,GAAGG,EAAE,GAAK,EAAUD,EAAE,EAAEF,EAAEA,EAAEA,EAAEA,EAAIC,GAC/BC,EAAE,IAAMF,GAAG,GAAGA,EAAEA,EAAEA,EAAI,GAAKC,GAEpCY,YAAa,SAAUd,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,MAAOD,IAAGF,GAAGG,GAAGH,EAAEA,EAAEA,EAAEA,EAAIC,GAE3Ba,aAAc,SAAUf,EAAGC,EAAGC,EAAGC,EAAGC,GACnC,MAAOD,KAAIF,EAAEA,EAAEG,EAAE,GAAGH,EAAEA,EAAEA,EAAEA,EAAI,GAAKC,GAEpCc,eAAgB,SAAUhB,EAAGC,EAAGC,EAAGC,EAAGC,GACrC,OAAKH,GAAGG,EAAE,GAAK,EAAUD,EAAE,EAAEF,EAAEA,EAAEA,EAAEA,EAAEA,EAAIC,EAClCC,EAAE,IAAIF,GAAG,GAAGA,EAAEA,EAAEA,EAAEA,EAAI,GAAKC,GAEnCe,WAAY,SAAUjB,EAAGC,EAAGC,EAAGC,EAAGC,GACjC,OAAQD,EAAIjJ,KAAKgK,IAAIjB,EAAEG,GAAKlJ,KAAKiK,GAAG,IAAMhB,EAAID,GAE/CkB,YAAa,SAAUpB,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,MAAOD,GAAIjJ,KAAKmK,IAAIpB,EAAEG,GAAKlJ,KAAKiK,GAAG,IAAMjB,GAE1CoB,cAAe,SAAUtB,EAAGC,EAAGC,EAAGC,EAAGC,GACpC,OAAQD,EAAE,GAAKjJ,KAAKgK,IAAIhK,KAAKiK,GAAGlB,EAAEG,GAAK,GAAKF,GAE7CqB,WAAY,SAAUvB,EAAGC,EAAGC,EAAGC,EAAGC,GACjC,MAAW,IAAHH,EAAQC,EAAIC,EAAIjJ,KAAKsK,IAAI,EAAG,IAAMvB,EAAEG,EAAI,IAAMF,GAEvDuB,YAAa,SAAUzB,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,MAAQH,IAAGG,EAAKF,EAAEC,EAAIA,IAAMjJ,KAAKsK,IAAI,MAASvB,EAAEG,GAAK,GAAKF,GAE3DwB,cAAe,SAAU1B,EAAGC,EAAGC,EAAGC,EAAGC,GACpC,MAAO,IAAHH,EAAaC,EACbD,GAAGG,EAAUF,EAAEC,GACdF,GAAGG,EAAE,GAAK,EAAUD,EAAE,EAAIjJ,KAAKsK,IAAI,EAAG,IAAMvB,EAAI,IAAMC,EACpDC,EAAE,IAAMjJ,KAAKsK,IAAI,QAAWvB,GAAK,GAAKC,GAE9CyB,WAAY,SAAU3B,EAAGC,EAAGC,EAAGC,EAAGC,GACjC,OAAQD,GAAKjJ,KAAK0K,KAAK,GAAK3B,GAAGG,GAAGH,GAAK,GAAKC,GAE7C2B,YAAa,SAAU7B,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,MAAOD,GAAIjJ,KAAK0K,KAAK,GAAK3B,EAAEA,EAAEG,EAAE,GAAGH,GAAKC,GAEzC4B,cAAe,SAAU9B,EAAGC,EAAGC,EAAGC,EAAGC,GACpC,OAAKH,GAAGG,EAAE,GAAK,GAAWD,EAAE,GAAKjJ,KAAK0K,KAAK,EAAI3B,EAAEA,GAAK,GAAKC,EACpDC,EAAE,GAAKjJ,KAAK0K,KAAK,GAAK3B,GAAG,GAAGA,GAAK,GAAKC,GAE9C6B,cAAe,SAAU/B,EAAGC,EAAGC,EAAGC,EAAGC,GACpC,GAAI4B,GAAE,QAAYC,EAAE,EAAMC,EAAE/B,CAC5B,IAAO,GAAHF,EAAM,MAAOC,EAAI,IAAY,IAAPD,GAAGG,GAAO,MAAOF,GAAEC,CAC7C,IADsD8B,IAAGA,EAAI,GAAF7B,GACvD8B,EAAIhL,KAAKiL,IAAIhC,GAAI,CAAE+B,EAAE/B,CAAG,IAAI6B,GAAEC,EAAE,MAC/B,IAAID,GAAIC,GAAG,EAAE/K,KAAKiK,IAAMjK,KAAKkL,KAAMjC,EAAE+B,EAC1C,SAASA,EAAEhL,KAAKsK,IAAI,EAAE,IAAIvB,GAAG,IAAM/I,KAAKmK,KAAMpB,EAAEG,EAAE4B,IAAI,EAAE9K,KAAKiK,IAAIc,IAAO/B,GAEzEmC,eAAgB,SAAUrC,EAAGC,EAAGC,EAAGC,EAAGC,GACrC,GAAI4B,GAAE,QAAYC,EAAE,EAAMC,EAAE/B,CAC5B,IAAO,GAAHF,EAAM,MAAOC,EAAI,IAAY,IAAPD,GAAGG,GAAO,MAAOF,GAAEC,CAC7C,IADsD8B,IAAGA,EAAI,GAAF7B,GACvD8B,EAAIhL,KAAKiL,IAAIhC,GAAI,CAAE+B,EAAE/B,CAAG,IAAI6B,GAAEC,EAAE,MAC/B,IAAID,GAAIC,GAAG,EAAE/K,KAAKiK,IAAMjK,KAAKkL,KAAMjC,EAAE+B,EAC1C,OAAOA,GAAEhL,KAAKsK,IAAI,MAAMvB,GAAK/I,KAAKmK,KAAMpB,EAAEG,EAAE4B,IAAI,EAAE9K,KAAKiK,IAAIc,GAAM9B,EAAID,GAEtEoC,iBAAkB,SAAUtC,EAAGC,EAAGC,EAAGC,EAAGC,GACvC,GAAI4B,GAAE,QAAYC,EAAE,EAAMC,EAAE/B,CAC5B,IAAO,GAAHF,EAAM,MAAOC,EAAI,IAAc,IAATD,GAAGG,EAAE,GAAO,MAAOF,GAAEC,CAC/C,IADwD8B,IAAGA,EAAE7B,GAAG,GAAG,MAC/D8B,EAAIhL,KAAKiL,IAAIhC,GAAI,CAAE+B,EAAE/B,CAAG,IAAI6B,GAAEC,EAAE,MAC/B,IAAID,GAAIC,GAAG,EAAE/K,KAAKiK,IAAMjK,KAAKkL,KAAMjC,EAAE+B,EAC1C,OAAIjC,GAAI,OAAeiC,EAAEhL,KAAKsK,IAAI,EAAE,IAAIvB,GAAG,IAAM/I,KAAKmK,KAAMpB,EAAEG,EAAE4B,IAAI,EAAE9K,KAAKiK,IAAIc,IAAO/B,EAC/EgC,EAAEhL,KAAKsK,IAAI,OAAOvB,GAAG,IAAM/I,KAAKmK,KAAMpB,EAAEG,EAAE4B,IAAI,EAAE9K,KAAKiK,IAAIc,GAAI,GAAK9B,EAAID,GAE9EqC,WAAY,SAAUvC,EAAGC,EAAGC,EAAGC,EAAGC,EAAG4B,GAEpC,MADSQ,SAALR,IAAgBA,EAAI,SACjB7B,GAAGF,GAAGG,GAAGH,IAAI+B,EAAE,GAAG/B,EAAI+B,GAAK9B,GAEnCuC,YAAa,SAAUzC,EAAGC,EAAGC,EAAGC,EAAGC,EAAG4B,GAErC,MADSQ,SAALR,IAAgBA,EAAI,SACjB7B,IAAIF,EAAEA,EAAEG,EAAE,GAAGH,IAAI+B,EAAE,GAAG/B,EAAI+B,GAAK,GAAK9B,GAE5CwC,cAAe,SAAU1C,EAAGC,EAAGC,EAAGC,EAAGC,EAAG4B,GAEvC,MADSQ,SAALR,IAAgBA,EAAI,UACnB/B,GAAGG,EAAE,GAAK,EAAUD,EAAE,GAAGF,EAAEA,KAAK+B,GAAG,OAAS,GAAG/B,EAAI+B,IAAM9B,EACvDC,EAAE,IAAIF,GAAG,GAAGA,KAAK+B,GAAG,OAAS,GAAG/B,EAAI+B,GAAK,GAAK9B,GAEtDyC,aAAc,SAAU3C,EAAGC,EAAGC,EAAGC,EAAGC,GACnC,MAAOD,GAAItQ,OAAO8O,OAAOiE,cAAe5C,EAAGI,EAAEH,EAAG,EAAGE,EAAGC,GAAKF,GAE5D0C,cAAe,SAAU5C,EAAGC,EAAGC,EAAGC,EAAGC,GACpC,OAAKH,GAAGG,GAAM,EAAE,KACRD,GAAG,OAAOF,EAAEA,GAAKC,EACdD,EAAK,EAAE,KACVE,GAAG,QAAQF,GAAI,IAAI,MAAOA,EAAI,KAAOC,EAClCD,EAAK,IAAI,KACZE,GAAG,QAAQF,GAAI,KAAK,MAAOA,EAAI,OAASC,EAExCC,GAAG,QAAQF,GAAI,MAAM,MAAOA,EAAI,SAAWC,GAGpD2C,gBAAiB,SAAU7C,EAAGC,EAAGC,EAAGC,EAAGC,GACtC,MAAIH,GAAIG,EAAE,EAAyD,GAA/CvQ,OAAO8O,OAAOgE,aAAc3C,EAAK,EAAFC,EAAK,EAAGE,EAAGC,GAAUF,EACf,GAAlDrQ,OAAO8O,OAAOiE,cAAe5C,EAAK,EAAFC,EAAIG,EAAG,EAAGD,EAAGC,GAAY,GAAFD,EAAOD;CCrKvE,SAAUxQ,GACa,kBAAXC,SAAyBA,OAAOC,IAC3CD,OAAO,wBAAwB,UAAWD,GAE1CA,EAASG,SAET,SAAUG,GAEZA,EAAEK,OAAOL,EAAEoI,IAEV0K,SAAU,SAAU1S,GAGnB,IAAMD,KAAKyC,OAIV,YAHKxC,GAAWA,EAAQ2S,OAAS3R,OAAO4R,QAOzC,IAAIC,GAAYjT,EAAEuE,KAAMpE,KAAM,GAAK,YACnC,OAAK8S,GACGA,GAIR9S,KAAKqL,KAAM,aAAc,cAEzByH,EAAY,GAAIjT,GAAEiT,UAAW7S,EAASD,KAAM,IAC5CH,EAAEuE,KAAMpE,KAAM,GAAK,YAAa8S,GAE3BA,EAAUC,SAASC,WAEvBhT,KAAKiT,iBAAkB,UAAW,QAAS,SAAUvJ,GAC/CoJ,EAAUC,SAASG,gBACvBJ,EAAUK,aAAezJ,EAAMjF,QAG3B5E,EAAG6J,EAAMjF,QAASoH,SAAU,YAChCiH,EAAUM,cAAe,GAI0Bf,SAA/CxS,EAAG6J,EAAMjF,QAAS4G,KAAM,oBAC5ByH,EAAUM,cAAe,KAK3BpT,KAAKqT,OAAQ,SAAU3J,GAKtB,QAAS4J,KACR,GAAIC,GAAQC,CACZ,QAAKV,EAAUC,SAASG,gBAClBJ,EAAUK,eAEdI,EAAS1T,EAAG,0BACVwL,KAAM,OAAQyH,EAAUK,aAAanF,MACrC3J,IAAKxE,EAAGiT,EAAUK,cAAe9O,OACjCkD,SAAUuL,EAAUW,cAEvBD,EAASV,EAAUC,SAASG,cAAc9K,KAAM0K,EAAWA,EAAUW,YAAa/J,GAC7EoJ,EAAUK,cAEdI,EAAOxL,SAEQsK,SAAXmB,GACGA,GAQV,MA5BKV,GAAUC,SAASH,OAEvBlJ,EAAM1F,iBA0BF8O,EAAUM,cACdN,EAAUM,cAAe,EAClBE,KAEHR,EAAUY,OACTZ,EAAUa,gBACdb,EAAUc,eAAgB,GACnB,GAEDN,KAEPR,EAAUe,gBACH,MAKHf,IAGRgB,MAAO,WACN,GAAIA,GAAOhB,EAAWiB,CActB,OAZKlU,GAAGG,KAAM,IAAMuM,GAAI,QACvBuH,EAAQ9T,KAAK2S,WAAWe,QAExBK,KACAD,GAAQ,EACRhB,EAAYjT,EAAGG,KAAM,GAAI0T,MAAOf,WAChC3S,KAAKsF,KAAM,WACVwO,EAAQhB,EAAUhR,QAAS9B,OAAU8T,EACrCC,EAAYA,EAAUC,OAAQlB,EAAUiB,aAEzCjB,EAAUiB,UAAYA,GAEhBD,GAGRG,YAAa,SAAUC,GACtB,GAAIV,MACHW,EAAWnU,IAKZ,OAJAH,GAAEyF,KAAM4O,EAAWE,MAAO,MAAQ,SAAU3S,EAAOoI,GAClD2J,EAAQ3J,GAAUsK,EAAS9I,KAAMxB,GACjCsK,EAASE,WAAYxK,KAEf2J,GAGRc,MAAO,SAAUC,EAASC,GACzB,GACCzB,GAAU0B,EAAaC,EAAetQ,EAAMqK,EAAOkG,EADhD7S,EAAU9B,KAAM,EAGpB,IAAKuU,EAIJ,OAHAxB,EAAWlT,EAAEuE,KAAMtC,EAAQ4R,KAAM,aAAcX,SAC/C0B,EAAc1B,EAASuB,MACvBI,EAAgB7U,EAAEiT,UAAU2B,YAAa3S,GAChCyS,GACT,IAAK,MACJ1U,EAAEK,OAAQwU,EAAe7U,EAAEiT,UAAU8B,cAAeJ,UAE7CE,GAAcG,SACrBJ,EAAa3S,EAAQkM,MAAS0G,EACzBF,EAASK,WACb9B,EAAS8B,SAAU/S,EAAQkM,MAASnO,EAAEK,OAAQ6S,EAAS8B,SAAU/S,EAAQkM,MAAQwG,EAASK,UAE3F,MACD,KAAK,SACJ,MAAML,IAING,KACA9U,EAAEyF,KAAMkP,EAASJ,MAAO,MAAQ,SAAU3S,EAAOqT,GAChDH,EAAUG,GAAWJ,EAAeI,SAC7BJ,GAAeI,GACN,aAAXA,GACJjV,EAAGiC,GAAUuS,WAAY,mBAGpBM,UAXCF,GAAa3S,EAAQkM,MACrB0G,GAsCV,MAxBAtQ,GAAOvE,EAAEiT,UAAUiC,eACnBlV,EAAEK,UAEDL,EAAEiT,UAAUkC,WAAYlT,GACxBjC,EAAEiT,UAAUmC,eAAgBnT,GAC5BjC,EAAEiT,UAAUoC,UAAWpT,GACvBjC,EAAEiT,UAAU2B,YAAa3S,IACvBA,GAGEsC,EAAK+Q,WACT1G,EAAQrK,EAAK+Q,eACN/Q,GAAK+Q,SACZ/Q,EAAOvE,EAAEK,QAAUiV,SAAU1G,GAASrK,GACtCvE,EAAGiC,GAAUuJ,KAAM,gBAAiB,SAIhCjH,EAAKY,SACTyJ,EAAQrK,EAAKY,aACNZ,GAAKY,OACZZ,EAAOvE,EAAEK,OAAQkE,GAAQY,OAAQyJ,KAG3BrK,KAKTvE,EAAEK,OAAQL,EAAEuV,KAAM,MAEjBC,MAAO,SAAUtD,GAChB,OAAQlS,EAAEyV,KAAM,GAAKzV,EAAGkS,GAAI1N,QAG7BkR,OAAQ,SAAUxD,GACjB,QAASlS,EAAEyV,KAAM,GAAKzV,EAAGkS,GAAI1N,QAG9BmR,UAAW,SAAUzD,GACpB,OAAQlS,EAAGkS,GAAI0D,KAAM,cAKvB5V,EAAEiT,UAAY,SAAU7S,EAASyT,GAChC1T,KAAK+S,SAAWlT,EAAEK,QAAQ,KAAUL,EAAEiT,UAAU4C,SAAUzV,GAC1DD,KAAKyT,YAAcC,EACnB1T,KAAKW,QAINd,EAAEiT,UAAU5H,OAAS,SAAUyK,EAAQ9Q,GACtC,MAA0B,KAArB1E,UAAUsC,OACP,WACN,GAAImT,GAAO/V,EAAEgW,UAAW1V,UAExB,OADAyV,GAAKlL,QAASiL,GACP9V,EAAEiT,UAAU5H,OAAO4K,MAAO9V,KAAM4V,KAGpCzV,UAAUsC,OAAS,GAAKoC,EAAOkR,cAAgBC,QACnDnR,EAAShF,EAAEgW,UAAW1V,WAAY8V,MAAO,IAErCpR,EAAOkR,cAAgBC,QAC3BnR,GAAWA,IAEZhF,EAAEyF,KAAMT,EAAQ,SAAUW,EAAG0Q,GAC5BP,EAASA,EAAOpK,QAAS,GAAI4K,QAAQ,MAAQ3Q,EAAI,MAAO,KAAO,WAC9D,MAAO0Q,OAGFP,IAGR9V,EAAEK,OAAQL,EAAEiT,WAEX4C,UACCb,YACAuB,UACA9B,SACA+B,WAAY,QACZC,WAAY,QACZC,aAAc,QACdC,cAAc,EACd3C,cAAc,EACd4C,eAAgB5W,MAChB6W,oBAAqB7W,MACrBmT,UAAU,EACV1E,OAAQ,UACRqI,aAAa,EACbC,UAAW,SAAU9U,GACpB9B,KAAK6W,WAAa/U,EAGb9B,KAAK+S,SAASyD,eACbxW,KAAK+S,SAAS+D,aAClB9W,KAAK+S,SAAS+D,YAAY1O,KAAMpI,KAAM8B,EAAS9B,KAAK+S,SAASsD,WAAYrW,KAAK+S,SAASuD,YAExFtW,KAAK+W,UAAW/W,KAAKgX,UAAWlV,MAGlCmV,WAAY,SAAUnV,GACf9B,KAAKkX,UAAWpV,MAAeA,EAAQkM,OAAQhO,MAAKmX,YAAcnX,KAAKoX,SAAUtV,GAE1C,UAAlCA,EAAQuV,SAAShL,eAE3BrM,KAAK8B,QAASA,GAHd9B,KAAK8B,QAASA,IAMhBwV,QAAS,SAAUxV,EAAS4H,GAe3B,GAAI6N,IACH,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACxB,GAAI,GAAI,GAAI,GAAI,IAAK,IAGD,KAAhB7N,EAAMgC,OAAgD,KAAjC1L,KAAKwX,aAAc1V,IAAoByV,EAAanR,KAAK,KAAKqR,QAAS/N,EAAM3F,gBAE3FjC,EAAQkM,OAAQhO,MAAKmX,WAAarV,IAAY9B,KAAK0X,cAC9D1X,KAAK8B,QAASA,IAGhB6V,QAAS,SAAU7V,GAEbA,EAAQkM,OAAQhO,MAAKmX,UACzBnX,KAAK8B,QAASA,GAEHA,EAAQ8V,WAAW5J,OAAQhO,MAAKmX,WAC3CnX,KAAK8B,QAASA,EAAQ8V,aAGxBC,UAAW,SAAU/V,EAASuU,EAAYC,GACnB,UAAjBxU,EAAQmE,KACZjG,KAAK8X,WAAYhW,EAAQkM,MAAOtL,SAAU2T,GAAaxT,YAAayT,GAEpEzW,EAAGiC,GAAUY,SAAU2T,GAAaxT,YAAayT,IAGnDQ,YAAa,SAAUhV,EAASuU,EAAYC,GACrB,UAAjBxU,EAAQmE,KACZjG,KAAK8X,WAAYhW,EAAQkM,MAAOnL,YAAawT,GAAa3T,SAAU4T,GAEpEzW,EAAGiC,GAAUe,YAAawT,GAAa3T,SAAU4T,KAMpDyB,YAAa,SAAUhF,GACtBlT,EAAEK,OAAQL,EAAEiT,UAAU4C,SAAU3C,IAGjC8B,UACCM,SAAU,0BACVnQ,OAAQ,yBACRgT,MAAO,sCACPC,IAAK,4BACL9O,KAAM,6BACN+O,QAAS,qCACTC,OAAQ,+BACRC,OAAQ,4BACRC,WAAY,2CACZC,QAAS,qCACTC,UAAW1Y,EAAEiT,UAAU5H,OAAQ,6CAC/BsN,UAAW3Y,EAAEiT,UAAU5H,OAAQ,yCAC/BuN,YAAa5Y,EAAEiT,UAAU5H,OAAQ,6DACjCT,MAAO5K,EAAEiT,UAAU5H,OAAQ,6CAC3BwN,IAAK7Y,EAAEiT,UAAU5H,OAAQ,mDACzByN,IAAK9Y,EAAEiT,UAAU5H,OAAQ,uDAG1B0N,kBAAkB,EAElBhY,WAECD,KAAM,WA0BL,QAASkY,GAAUnP,GAClB,GAAIoJ,GAAYjT,EAAEuE,KAAMpE,KAAM,GAAI0T,KAAM,aACvCoF,EAAY,KAAOpP,EAAMzD,KAAKsF,QAAS,YAAa,IACpDwH,EAAWD,EAAUC,QACjBA,GAAU+F,KAAgB9Y,KAAKuM,GAAIwG,EAASzE,SAChDyE,EAAU+F,GAAY1Q,KAAM0K,EAAW9S,KAAM,GAAK0J,GA9BpD1J,KAAK+Y,eAAiBlZ,EAAGG,KAAK+S,SAAS2D,qBACvC1W,KAAKgZ,aAAehZ,KAAK+Y,eAAetW,QAAUzC,KAAK+Y,gBAAkBlZ,EAAGG,KAAKyT,aACjFzT,KAAKiZ,WAAapZ,EAAGG,KAAK+S,SAAS0D,gBAAiByC,IAAKlZ,KAAK+S,SAAS2D,qBACvE1W,KAAKmX,aACLnX,KAAKmZ,cACLnZ,KAAK2T,eAAiB,EACtB3T,KAAKoZ,WACLpZ,KAAKqZ,WACLrZ,KAAKsZ,OAEL,IACChF,GADG8B,EAAWpW,KAAKoW,SAEpBvW,GAAEyF,KAAMtF,KAAK+S,SAASqD,OAAQ,SAAUzR,EAAKkF,GACtB,gBAAVA,KACXA,EAAQA,EAAMuK,MAAO,OAEtBvU,EAAEyF,KAAMuE,EAAO,SAAUpI,EAAOuM,GAC/BoI,EAAQpI,GAASrJ,MAGnB2P,EAAQtU,KAAK+S,SAASuB,MACtBzU,EAAEyF,KAAMgP,EAAO,SAAU3P,EAAKkF,GAC7ByK,EAAO3P,GAAQ9E,EAAEiT,UAAU8B,cAAe/K,KAW3ChK,EAAGG,KAAKyT,aACNR,iBAAkB,sTAKlB,yBAA0B4F,GAG1B5F,iBAAiB,oDAAqD,QAAS4F,GAE5E7Y,KAAK+S,SAASwG,gBAClB1Z,EAAGG,KAAKyT,aAAc+F,KAAM,wBAAyBxZ,KAAK+S,SAASwG,gBAKpE1Z,EAAGG,KAAKyT,aAAc9P,KAAM,+CAAgD0H,KAAM,gBAAiB,SAIpGqI,KAAM,WAQL,MAPA1T,MAAKyZ,YACL5Z,EAAEK,OAAQF,KAAKmX,UAAWnX,KAAK0Z,UAC/B1Z,KAAKqZ,QAAUxZ,EAAEK,UAAWF,KAAK0Z,UAC3B1Z,KAAK8T,SACVjU,EAAGG,KAAKyT,aAAckG,eAAgB,gBAAkB3Z,OAEzDA,KAAK4Z,aACE5Z,KAAK8T,SAGb2F,UAAW,WACVzZ,KAAK6Z,aACL,KAAM,GAAIrU,GAAI,EAAGsU,EAAa9Z,KAAK+Z,gBAAkB/Z,KAAK8Z,WAAcA,EAAUtU,GAAKA,IACtFxF,KAAKga,MAAOF,EAAUtU,GAEvB,OAAOxF,MAAK8T,SAIbhS,QAAS,SAAUA,GAClB,GAAImY,GAAeja,KAAKka,MAAOpY,GAC9BqY,EAAena,KAAKoa,oBAAqBH,GACzCzG,GAAS,CAyBV,OAvBAxT,MAAK0X,YAAcyC,EAEG9H,SAAjB8H,QACGna,MAAKqZ,QAASY,EAAajM,OAElChO,KAAKqa,eAAgBF,GACrBna,KAAK+Z,gBAAkBla,EAAGsa,GAE1B3G,EAASxT,KAAKga,MAAOG,MAAmB,EACnC3G,QACGxT,MAAKqZ,QAASc,EAAanM,MAElChO,KAAKqZ,QAASc,EAAanM,OAAS,GAItCnO,EAAGiC,GAAUuJ,KAAM,gBAAiBmI,GAE9BxT,KAAKsa,qBAEVta,KAAKua,OAASva,KAAKua,OAAOrB,IAAKlZ,KAAKiZ,aAErCjZ,KAAK4Z,aACEpG,GAIRoG,WAAY,SAAUY,GACrB,GAAKA,EAAS,CAEb3a,EAAEK,OAAQF,KAAK0Z,SAAUc,GACzBxa,KAAK+T,YACL,KAAM,GAAI/F,KAAQwM,GACjBxa,KAAK+T,UAAUvJ,MACdiQ,QAASD,EAAQxM,GACjBlM,QAAS9B,KAAK8X,WAAY9J,GAAQ,IAIpChO,MAAK0a,YAAc7a,EAAE8a,KAAM3a,KAAK0a,YAAa,SAAU5Y,GACtD,QAAUA,EAAQkM,OAAQwM,MAGvBxa,KAAK+S,SAAS6G,WAClB5Z,KAAK+S,SAAS6G,WAAWxR,KAAMpI,KAAMA,KAAK0Z,SAAU1Z,KAAK+T,WAEzD/T,KAAK4a,qBAKPC,UAAW,WACLhb,EAAEoI,GAAG4S,WACThb,EAAGG,KAAKyT,aAAcoH,YAEvB7a,KAAKmX,aACLnX,KAAK0X,YAAc,KACnB1X,KAAK6Z,cACL7Z,KAAK8a,YACL,IAAItV,GAAGsU,EAAW9Z,KAAK8Z,WACrBiB,WAAY,iBACZ1G,WAAY,eAEd,IAAKrU,KAAK+S,SAAS+D,YAClB,IAAMtR,EAAI,EAAGsU,EAAUtU,GAAKA,IAC3BxF,KAAK+S,SAAS+D,YAAY1O,KAAMpI,KAAM8Z,EAAUtU,GAC/CxF,KAAK+S,SAASsD,WAAY,QAG5ByD,GAASjX,YAAa7C,KAAK+S,SAASsD,aAItCiE,iBAAkB,WACjB,MAAOta,MAAKgb,aAAchb,KAAKqZ,UAGhC2B,aAAc,SAAUC,GAEvB,GACCzV,GADG0V,EAAQ,CAEZ,KAAM1V,IAAKyV,GACVC,GAED,OAAOA,IAGRJ,WAAY,WACX9a,KAAK+W,UAAW/W,KAAKua,SAGtBxD,UAAW,SAAUyD,GACpBA,EAAOW,IAAKnb,KAAKiZ,YAAaxL,KAAM,IACpCzN,KAAKob,WAAYZ,GAAShW,QAG3BsP,MAAO,WACN,MAAuB,KAAhB9T,KAAKsP,QAGbA,KAAM,WACL,MAAOtP,MAAK+T,UAAUtR,QAGvBoR,aAAc,WACb,GAAK7T,KAAK+S,SAASc,aAClB,IACChU,EAAGG,KAAKqb,kBAAoBrb,KAAK+T,UAAUtR,QAAUzC,KAAK+T,UAAW,GAAIjS,aACxEiE,OAAQ,YACRuV,QAEAhX,QAAS,WACT,MAAQ/C,MAMZ8Z,eAAgB,WACf,GAAIxE,GAAa7W,KAAK6W,UACtB,OAAOA,IAEO,IAFOhX,EAAE8a,KAAM3a,KAAK+T,UAAW,SAAUmC,GACtD,MAAOA,GAAEpU,QAAQkM,OAAS6I,EAAW7I,OACnCvL,QAAgBoU,GAGpBiD,SAAU,WACT,GAAIhH,GAAY9S,KACfub,IAGD,OAAO1b,GAAGG,KAAKyT,aACd9P,KAAM,2BACNwX,IAAK,uCACLA,IAAKnb,KAAK+S,SAASzE,QACnBvI,OAAQ,WAMR,OALM/F,KAAKgO,MAAQ8E,EAAUC,SAASH,OAAS3R,OAAO4R,UAKjD7S,KAAKgO,OAAQuN,KAAezI,EAAUkI,aAAcnb,EAAGG,MAAOsU,YAInEiH,EAAYvb,KAAKgO,OAAS,GACnB,MAITkM,MAAO,SAAU9O,GAChB,MAAOvL,GAAGuL,GAAY,IAGvBoP,OAAQ,WACP,GAAInE,GAAarW,KAAK+S,SAASsD,WAAWjC,MAAO,KAAMhO,KAAM,IAC7D,OAAOvG,GAAGG,KAAK+S,SAASwD,aAAe,IAAMF,EAAYrW,KAAKgZ,eAG/DM,MAAO,WACNtZ,KAAK0a,eACL1a,KAAK+T,aACL/T,KAAK0Z,YACL1Z,KAAKwb,OAAS3b,MACdG,KAAKua,OAAS1a,MACdG,KAAK+Z,gBAAkBla,OAGxBga,YAAa,WACZ7Z,KAAKsZ,QACLtZ,KAAKua,OAASva,KAAKwa,SAAStB,IAAKlZ,KAAKiZ,aAGvCoB,eAAgB,SAAUvY,GACzB9B,KAAKsZ,QACLtZ,KAAKua,OAASva,KAAKgX,UAAWlV,IAG/B0V,aAAc,SAAU1V,GACvB,GAAIuC,GACH8P,EAAWtU,EAAGiC,GACdmE,EAAOnE,EAAQmE,IAEhB,OAAc,UAATA,GAA6B,aAATA,EACjBjG,KAAK8X,WAAYhW,EAAQkM,MAAOjI,OAAO,YAAY1B,MACtC,WAAT4B,GAAiD,mBAArBnE,GAAQ2Z,UACxC3Z,EAAQ2Z,SAASC,UAAmBvH,EAAS9P,OAGrDA,EAAM8P,EAAS9P,MACK,gBAARA,GACJA,EAAIkH,QAAQ,MAAO,IAEpBlH,IAGR2V,MAAO,SAAUlY,GAChBA,EAAU9B,KAAKoa,oBAAqBpa,KAAKka,MAAOpY,GAEhD,IAMC0R,GAAQsB,EAAQ6G,EANbrH,EAAQzU,EAAGiC,GAAUwS,QACxBsH,EAAa/b,EAAE8N,IAAK2G,EAAO,SAAU4B,EAAG1Q,GACvC,MAAOA,KACL/C,OACHoZ,GAAqB,EACrBxX,EAAMrE,KAAKwX,aAAc1V,EAG1B,KAAMgT,IAAUR,GAAQ,CACvBqH,GAAS7G,OAAQA,EAAQgH,WAAYxH,EAAOQ,GAC5C,KAMC,GAJAtB,EAAS3T,EAAEiT,UAAUiJ,QAASjH,GAAS1M,KAAMpI,KAAMqE,EAAKvC,EAAS6Z,EAAKG,YAItD,wBAAXtI,GAAmD,IAAfoI,EAAmB,CAC3DC,GAAqB,CACrB,UAID,GAFAA,GAAqB,EAEL,YAAXrI,EAEJ,YADAxT,KAAKua,OAASva,KAAKua,OAAOY,IAAKnb,KAAKgX,UAAWlV,IAIhD,KAAM0R,EAEL,MADAxT,MAAKgc,aAAcla,EAAS6Z,IACrB,EAEP,MAAQpa,GAQT,KAPKvB,MAAK+S,SAASH,OAAS3R,OAAO4R,QAG9BtR,YAAa0a,aACjB1a,EAAEkZ,SAAW,+CAAiD3Y,EAAQoa,GAAK,gBAAkBP,EAAK7G,OAAS,aAGtGvT,GAGR,IAAKsa,EAML,MAHK7b,MAAKgb,aAAc1G,IACvBtU,KAAK0a,YAAYlQ,KAAM1I,IAEjB,GAMRqa,kBAAmB,SAAUra,EAASgT,GACrC,MAAOjV,GAAGiC,GAAUsC,KAAM,MAAQ0Q,EAAOsH,OAAQ,GAAIC,cACpDvH,EAAOwH,UAAW,GAAIjQ,gBAAmBxM,EAAGiC,GAAUsC,KAAM,QAI9DmY,cAAe,SAAUvO,EAAM8G,GAC9B,GAAI0H,GAAIxc,KAAK+S,SAAS8B,SAAU7G,EAChC,OAAOwO,KAAOA,EAAEzG,cAAgB0G,OAASD,EAAIA,EAAG1H,KAIjD4H,YAAa,WACZ,IAAM,GAAIlX,GAAI,EAAGA,EAAIrF,UAAUsC,OAAQ+C,IACtC,GAAwB6M,SAAnBlS,UAAWqF,GACf,MAAOrF,WAAWqF,IAMrBmX,eAAgB,SAAU7a,EAASgT,GAClC,MAAO9U,MAAK0c,YACX1c,KAAKuc,cAAeza,EAAQkM,KAAM8G,GAClC9U,KAAKmc,kBAAmBra,EAASgT,IAEhC9U,KAAK+S,SAAS4D,aAAe7U,EAAQ8a,OAASvK,OAC/CxS,EAAEiT,UAAU+B,SAAUC,GACtB,2CAA6ChT,EAAQkM,KAAO,cAI9DgO,aAAc,SAAUla,EAAS6Z,GAChC,GAAIlB,GAAUza,KAAK2c,eAAgB7a,EAAS6Z,EAAK7G,QAChD+H,EAAW,eACY,mBAAZpC,GACXA,EAAUA,EAAQrS,KAAMpI,KAAM2b,EAAKG,WAAYha,GACpC+a,EAASvR,KAAMmP,KAC1BA,EAAU5a,EAAEiT,UAAU5H,OAAQuP,EAAQlP,QAASsR,EAAU,QAAUlB,EAAKG,aAEzE9b,KAAK+T,UAAUvJ,MACdiQ,QAASA,EACT3Y,QAASA,EACTgT,OAAQ6G,EAAK7G,SAGd9U,KAAK0Z,SAAU5X,EAAQkM,MAASyM,EAChCza,KAAKmX,UAAWrV,EAAQkM,MAASyM,GAGlCW,WAAY,SAAU0B,GAIrB,MAHK9c,MAAK+S,SAASgK,UAClBD,EAAWA,EAAS5D,IAAK4D,EAAStZ,OAAQxD,KAAK+S,SAASgK,WAElDD,GAGRlC,kBAAmB,WAClB,GAAIpV,GAAGsU,EAAUkD,CACjB,KAAMxX,EAAI,EAAGxF,KAAK+T,UAAWvO,GAAKA,IACjCwX,EAAQhd,KAAK+T,UAAWvO,GACnBxF,KAAK+S,SAAS8E,WAClB7X,KAAK+S,SAAS8E,UAAUzP,KAAMpI,KAAMgd,EAAMlb,QAAS9B,KAAK+S,SAASsD,WAAYrW,KAAK+S,SAASuD,YAE5FtW,KAAKid,UAAWD,EAAMlb,QAASkb,EAAMvC,QAKtC,IAHKza,KAAK+T,UAAUtR,SACnBzC,KAAKwb,OAASxb,KAAKwb,OAAOtC,IAAKlZ,KAAKiZ,aAEhCjZ,KAAK+S,SAASmK,QAClB,IAAM1X,EAAI,EAAGxF,KAAK0a,YAAalV,GAAKA,IACnCxF,KAAKid,UAAWjd,KAAK0a,YAAalV,GAGpC,IAAKxF,KAAK+S,SAAS+D,YAClB,IAAMtR,EAAI,EAAGsU,EAAW9Z,KAAKmd,gBAAiBrD,EAAUtU,GAAKA,IAC5DxF,KAAK+S,SAAS+D,YAAY1O,KAAMpI,KAAM8Z,EAAUtU,GAAKxF,KAAK+S,SAASsD,WAAYrW,KAAK+S,SAASuD,WAG/FtW,MAAKua,OAASva,KAAKua,OAAOY,IAAKnb,KAAKwb,QACpCxb,KAAK8a,aACL9a,KAAKob,WAAYpb,KAAKwb,QAAS1X,QAGhCqZ,cAAe,WACd,MAAOnd,MAAK+Z,gBAAgBoB,IAAKnb,KAAKod,oBAGvCA,gBAAiB,WAChB,MAAOvd,GAAGG,KAAK+T,WAAYpG,IAAI,WAC9B,MAAO3N,MAAK8B,WAIdmb,UAAW,SAAUnb,EAAS2Y,GAC7B,GAAI4C,GAAOC,EAAOC,EACjBP,EAAQhd,KAAKgX,UAAWlV,GACxB0b,EAAYxd,KAAKyd,SAAU3b,GAC3B4b,EAAc7d,EAAGiC,GAAUuJ,KAAM,mBAC7B2R,GAAMva,QAEVua,EAAMna,YAAa7C,KAAK+S,SAASuD,YAAa5T,SAAU1C,KAAK+S,SAASsD,YAEtE2G,EAAMnP,KAAM4M,KAGZuC,EAAQnd,EAAG,IAAMG,KAAK+S,SAASwD,aAAe,KAC5ClL,KAAM,KAAMmS,EAAY,UACxB9a,SAAU1C,KAAK+S,SAASsD,YACxBxI,KAAM4M,GAAW,IAGnB4C,EAAQL,EACHhd,KAAK+S,SAASgK,UAGlBM,EAAQL,EAAMxY,OAAOV,OAAOR,KAAM,IAAMtD,KAAK+S,SAASgK,QAAU,MAAOvZ,UAEnExD,KAAK+Y,eAAetW,OACxBzC,KAAK+Y,eAAetT,OAAQ4X,GACjBrd,KAAK+S,SAAS4K,eACzB3d,KAAK+S,SAAS4K,eAAgBN,EAAOxd,EAAGiC,IAExCub,EAAMzQ,YAAa9K,GAIfkb,EAAMzQ,GAAI,SAEdyQ,EAAM3R,KAAM,MAAOmS,GACqD,IAA7DR,EAAMY,QAAS,cAAgBJ,EAAY,MAAO/a,SAI7D8a,EAAUP,EAAM3R,KAAM,MAAOE,QAAS,mBAAoB,QAEpDmS,EAEOA,EAAY1c,MAAO,GAAImV,QAAQ,MAAQoH,EAAU,UAE7DG,GAAe,IAAMH,GAHrBG,EAAcH,EAKf1d,EAAGiC,GAAUuJ,KAAM,mBAAoBqS,GAGvCJ,EAAQtd,KAAKoW,OAAQtU,EAAQkM,MACxBsP,GACJzd,EAAEyF,KAAMtF,KAAKoW,OAAQ,SAAUpI,EAAM6P,GAC/BA,IAAcP,GAClBzd,EAAG,UAAYmO,EAAO,KAAMhO,KAAKyT,aAC/BpI,KAAM,mBAAoB2R,EAAM3R,KAAM,YAMvCoP,GAAWza,KAAK+S,SAASmK,UAC9BF,EAAMvP,KAAM,IAC0B,gBAA1BzN,MAAK+S,SAASmK,QACzBF,EAAMta,SAAU1C,KAAK+S,SAASmK,SAE9Bld,KAAK+S,SAASmK,QAASF,EAAOlb,IAGhC9B,KAAKwb,OAASxb,KAAKwb,OAAOtC,IAAK8D,IAGhChG,UAAW,SAAUlV,GACpB,GAAIkM,GAAOhO,KAAKyd,SAAU3b,GACzBgc,EAAYje,EAAGiC,GAAUuJ,KAAM,oBAC/BD,EAAW,cAAgB4C,EAAO,kBAAoBA,EAAO,MAM9D,OAHK8P,KACJ1S,EAAWA,EAAW,MAAQ0S,EAAUvS,QAAS,OAAQ,QAEnDvL,KACLwa,SACAzU,OAAQqF,IAGXqS,SAAU,SAAU3b,GACnB,MAAO9B,MAAKoW,OAAQtU,EAAQkM,QAAYhO,KAAKkX,UAAWpV,GAAYA,EAAQkM,KAAOlM,EAAQoa,IAAMpa,EAAQkM,OAG1GoM,oBAAqB,SAAUtY,GAQ9B,MALK9B,MAAKkX,UAAWpV,KACpBA,EAAU9B,KAAK8X,WAAYhW,EAAQkM,OAI7BnO,EAAGiC,GAAUqZ,IAAKnb,KAAK+S,SAASzE,QAAU,IAGlD4I,UAAW,SAAUpV,GACpB,MAAO,kBAAsBwJ,KAAMxJ,EAAQmE,OAG5C6R,WAAY,SAAU9J,GACrB,MAAOnO,GAAGG,KAAKyT,aAAc9P,KAAM,UAAYqK,EAAO,OAGvD+P,UAAW,SAAUlU,EAAO/H,GAC3B,OAASA,EAAQuV,SAAShL,eAC1B,IAAK,SACJ,MAAOxM,GAAG,kBAAmBiC,GAAUW,MACxC,KAAK,QACJ,GAAKzC,KAAKkX,UAAWpV,GACpB,MAAO9B,MAAK8X,WAAYhW,EAAQkM,MAAOjI,OAAQ,YAAatD,OAG9D,MAAOoH,GAAMpH,QAGdub,OAAQ,SAAUvP,EAAO3M,GACxB,OAAO9B,KAAKie,kBAAmBxP,KAASzO,KAAKie,kBAAmBxP,IAAQA,EAAO3M,IAGhFmc,aACCC,UAAW,SAAUzP,GACpB,MAAOA,IAER0P,OAAU,SAAU1P,EAAO3M,GAC1B,QAASjC,EAAG4O,EAAO3M,EAAQ4R,MAAOjR,QAEnC2b,WAAY,SAAU3P,EAAO3M,GAC5B,MAAO2M,GAAO3M,KAIhBsV,SAAU,SAAUtV,GACnB,GAAIuC,GAAMrE,KAAKwX,aAAc1V,EAC7B,QAAQjC,EAAEiT,UAAUiJ,QAAQ5G,SAAS/M,KAAMpI,KAAMqE,EAAKvC,IAAa,uBAGpEuc,aAAc,SAAUvc,GACjB9B,KAAKoZ,QAAStX,EAAQkM,QAC3BhO,KAAK2T,iBACL3T,KAAKoZ,QAAStX,EAAQkM,OAAS,IAIjCsQ,YAAa,SAAUxc,EAASgS,GAC/B9T,KAAK2T,iBAEA3T,KAAK2T,eAAiB,IAC1B3T,KAAK2T,eAAiB,SAEhB3T,MAAKoZ,QAAStX,EAAQkM,MACxB8F,GAAiC,IAAxB9T,KAAK2T,gBAAwB3T,KAAK4T,eAAiB5T,KAAK0T,QACrE7T,EAAGG,KAAKyT,aAAcJ,SACtBrT,KAAK4T,eAAgB,IACVE,GAAiC,IAAxB9T,KAAK2T,gBAAwB3T,KAAK4T,gBACtD/T,EAAGG,KAAKyT,aAAckG,eAAgB,gBAAkB3Z,OACxDA,KAAK4T,eAAgB,IAIvB2K,cAAe,SAAUzc,GACxB,MAAOjC,GAAEuE,KAAMtC,EAAS,kBAAqBjC,EAAEuE,KAAMtC,EAAS,iBAC7DkL,IAAK,KACL8G,OAAO,EACP2G,QAASza,KAAK2c,eAAgB7a,EAAS,cAM1C0c,mBACCrJ,UAAYA,UAAU,GACtB6C,OAASA,OAAO,GAChBC,KAAOA,KAAK,GACZ9O,MAAQA,MAAM,GACd+O,SAAWA,SAAS,GACpBC,QAAUA,QAAQ,GAClBC,QAAUA,QAAQ,GAClBC,YAAcA,YAAY,IAG3BoG,cAAe,SAAU5T,EAAWyJ,GAC9BzJ,EAAUkL,cAAgB0G,OAC9Bzc,KAAKwe,kBAAmB3T,GAAcyJ,EAEtCzU,EAAEK,OAAQF,KAAKwe,kBAAmB3T,IAIpCmK,WAAY,SAAUlT,GACrB,GAAIwS,MACHoK,EAAU7e,EAAGiC,GAAUuJ,KAAM,QAS9B,OAPKqT,IACJ7e,EAAEyF,KAAMoZ,EAAQtK,MAAO,KAAO,WACxBpU,OAAQH,GAAEiT,UAAU0L,mBACxB3e,EAAEK,OAAQoU,EAAOzU,EAAEiT,UAAU0L,kBAAmBxe,SAI5CsU,GAGRW,eAAgB,SAAUnT,GACzB,GAGCgT,GAAQjL,EAHLyK,KACHH,EAAWtU,EAAGiC,GACdmE,EAAOnE,EAAQ6c,aAAc,OAG9B,KAAM7J,IAAUjV,GAAEiT,UAAUiJ,QAGX,aAAXjH,GACJjL,EAAQ/H,EAAQ6c,aAAc7J,GAGf,KAAVjL,IACJA,GAAQ,GAGTA,IAAUA,GAEVA,EAAQsK,EAAS9I,KAAMyJ,GAKnB,UAAUxJ,KAAMwJ,KAAuB,OAAT7O,GAAiB,oBAAoBqF,KAAMrF,MAC7E4D,EAAQ+U,OAAQ/U,IAGZA,GAAmB,IAAVA,EACbyK,EAAOQ,GAAWjL,EACP5D,IAAS6O,GAAmB,UAAT7O,IAG9BqO,EAAOQ,IAAW,EASpB,OAJKR,GAAMiE,WAAa,uBAAuBjN,KAAMgJ,EAAMiE,kBACnDjE,GAAMiE,UAGPjE,GAGRY,UAAW,SAAUpT,GACpB,GAAIgT,GAAQjL,EACXyK,KAAYH,EAAWtU,EAAGiC,EAC3B,KAAMgT,IAAUjV,GAAEiT,UAAUiJ,QAC3BlS,EAAQsK,EAAS/P,KAAM,OAAS0Q,EAAOsH,OAAQ,GAAIC,cAAgBvH,EAAOwH,UAAW,GAAIjQ,eAC1EgG,SAAVxI,IACJyK,EAAOQ,GAAWjL,EAGpB,OAAOyK,IAGRG,YAAa,SAAU3S,GACtB,GAAIwS,MACHxB,EAAYjT,EAAEuE,KAAMtC,EAAQ4R,KAAM,YAKnC,OAHKZ,GAAUC,SAASuB,QACvBA,EAAQzU,EAAEiT,UAAU8B,cAAe9B,EAAUC,SAASuB,MAAOxS,EAAQkM,YAE/DsG,GAGRS,eAAgB,SAAUT,EAAOxS,GA+DhC,MA7DAjC,GAAEyF,KAAMgP,EAAO,SAAUmB,EAAMpR,GAE9B,GAAKA,KAAQ,EAEZ,kBADOiQ,GAAOmB,EAGf,IAAKpR,EAAIoK,OAASpK,EAAIwa,QAAU,CAC/B,GAAIC,IAAW,CACf,cAAgBza,GAAIwa,SACpB,IAAK,SACJC,IAAajf,EAAGwE,EAAIwa,QAAS/c,EAAQ4R,MAAOjR,MAC5C,MACD,KAAK,WACJqc,EAAWza,EAAIwa,QAAQzW,KAAMtG,EAASA,GAGlCgd,EACJxK,EAAOmB,GAAuBpD,SAAdhO,EAAIoK,OAAsBpK,EAAIoK,YAEvC6F,GAAOmB,MAMjB5V,EAAEyF,KAAMgP,EAAO,SAAUqH,EAAMoD,GAC9BzK,EAAOqH,GAAS9b,EAAEmf,WAAYD,GAAcA,EAAWjd,GAAYid,IAIpElf,EAAEyF,MAAO,YAAa,aAAe,WAC/BgP,EAAOtU,QACXsU,EAAOtU,MAAS4e,OAAQtK,EAAOtU,UAGjCH,EAAEyF,MAAO,cAAe,SAAW,WAClC,GAAI2Z,EACC3K,GAAOtU,QACNH,EAAEqf,QAAS5K,EAAOtU,OACtBsU,EAAOtU,OAAW4e,OAAQtK,EAAOtU,MAAQ,IAAM4e,OAAQtK,EAAOtU,MAAQ,KAClC,gBAAlBsU,GAAOtU,QACzBif,EAAQ3K,EAAOtU,MAAOuL,QAAQ,UAAW,IAAK6I,MAAO,UACrDE,EAAOtU,OAAW4e,OAAQK,EAAO,IAAML,OAAQK,EAAO,SAKpDpf,EAAEiT,UAAU8F,mBAEE,MAAbtE,EAAMqE,KAA4B,MAAbrE,EAAMoE,MAC/BpE,EAAM7J,OAAU6J,EAAMqE,IAAKrE,EAAMoE,WAC1BpE,GAAMqE,UACNrE,GAAMoE,KAEU,MAAnBpE,EAAMkE,WAAwC,MAAnBlE,EAAMiE,YACrCjE,EAAMmE,aAAgBnE,EAAMkE,UAAWlE,EAAMiE,iBACtCjE,GAAMkE,gBACNlE,GAAMiE,YAIRjE,GAIRM,cAAe,SAAUxQ,GACxB,GAAqB,gBAATA,GAAoB,CAC/B,GAAI+a,KACJtf,GAAEyF,KAAMlB,EAAKgQ,MAAO,MAAQ,WAC3B+K,EAAanf,OAAS,IAEvBoE,EAAO+a,EAER,MAAO/a,IAIRgb,UAAW,SAAUpR,EAAM8G,EAAQ2F,GAClC5a,EAAEiT,UAAUiJ,QAAS/N,GAAS8G,EAC9BjV,EAAEiT,UAAU+B,SAAU7G,GAAqBqE,SAAZoI,EAAwBA,EAAU5a,EAAEiT,UAAU+B,SAAU7G,GAClF8G,EAAOrS,OAAS,GACpB5C,EAAEiT,UAAU2L,cAAezQ,EAAMnO,EAAEiT,UAAU8B,cAAe5G,KAI9D+N,SAGC5G,SAAU,SAAUtL,EAAO/H,EAAS2M,GAEnC,IAAMzO,KAAKge,OAAQvP,EAAO3M,GACzB,MAAO,qBAER,IAAwC,WAAnCA,EAAQuV,SAAShL,cAA6B,CAElD,GAAIhI,GAAMxE,EAAGiC,GAAUuC,KACvB,OAAOA,IAAOA,EAAI5B,OAAS,EAE5B,MAAKzC,MAAKkX,UAAWpV,GACb9B,KAAK+d,UAAWlU,EAAO/H,GAAY,EAEpCjC,EAAEyV,KAAMzL,GAAQpH,OAAS,GAIjCuV,MAAO,SAAUnO,EAAO/H,GAKvB,MAAO9B,MAAKoX,SAAUtV,IAAa,wIAAwIwJ,KAAMzB,IAIlLoO,IAAK,SAAUpO,EAAO/H,GAErB,MAAO9B,MAAKoX,SAAUtV,IAAa,uqCAAuqCwJ,KAAMzB,IAIjtCV,KAAM,SAAUU,EAAO/H,GACtB,MAAO9B,MAAKoX,SAAUtV,KAAc,cAAcwJ,KAAM,GAAIjB,MAAMR,GAAQwV,aAI3EnH,QAAS,SAAUrO,EAAO/H,GACzB,MAAO9B,MAAKoX,SAAUtV,IAAa,+DAA+DwJ,KAAMzB,IAIzGsO,OAAQ,SAAUtO,EAAO/H,GACrB,MAAO9B,MAAKoX,SAAUtV,IAAa,8CAA8CwJ,KAAMzB,IAI3FuO,OAAQ,SAAUvO,EAAO/H,GACxB,MAAO9B,MAAKoX,SAAUtV,IAAa,QAAQwJ,KAAMzB,IAKlDwO,WAAY,SAAUxO,EAAO/H,GAC5B,GAAK9B,KAAKoX,SAAUtV,GACnB,MAAO,qBAGR,IAAK,aAAawJ,KAAMzB,GACvB,OAAO,CAER,IAGCqM,GAAGoJ,EAHAC,EAAS,EACZC,EAAS,EACTC,GAAQ,CAOT,IAJA5V,EAAQA,EAAM0B,QAAS,MAAO,IAIzB1B,EAAMpH,OAAS,IAAMoH,EAAMpH,OAAS,GACxC,OAAO,CAGR,KAAMyT,EAAIrM,EAAMpH,OAAS,EAAGyT,GAAK,EAAGA,IACnCoJ,EAASzV,EAAMuS,OAAQlG,GACvBsJ,EAASre,SAAUme,EAAQ,IACtBG,IACGD,GAAU,GAAM,IACtBA,GAAU,GAGZD,GAAUC,EACVC,GAASA,CAGV,OAASF,GAAS,KAAS,GAI5B/G,UAAW,SAAU3O,EAAO/H,EAAS2M,GACpC,GAAIhM,GAAS5C,EAAEqf,QAASrV,GAAUA,EAAMpH,OAASzC,KAAK+d,UAAWlU,EAAO/H,EACxE,OAAO9B,MAAKoX,SAAUtV,IAAaW,GAAUgM,GAI9C8J,UAAW,SAAU1O,EAAO/H,EAAS2M,GACpC,GAAIhM,GAAS5C,EAAEqf,QAASrV,GAAUA,EAAMpH,OAASzC,KAAK+d,UAAWlU,EAAO/H,EACxE,OAAO9B,MAAKoX,SAAUtV,IAAaW,GAAUgM,GAI9CgK,YAAa,SAAU5O,EAAO/H,EAAS2M,GACtC,GAAIhM,GAAS5C,EAAEqf,QAASrV,GAAUA,EAAMpH,OAASzC,KAAK+d,UAAWlU,EAAO/H,EACxE,OAAO9B,MAAKoX,SAAUtV,IAAeW,GAAUgM,EAAO,IAAOhM,GAAUgM,EAAO,IAI/EkK,IAAK,SAAU9O,EAAO/H,EAAS2M,GAC9B,MAAOzO,MAAKoX,SAAUtV,IAAa+H,GAAS4E,GAI7CiK,IAAK,SAAU7O,EAAO/H,EAAS2M,GAC9B,MAAOzO,MAAKoX,SAAUtV,IAAa+H,GAAS4E,GAI7ChE,MAAO,SAAUZ,EAAO/H,EAAS2M,GAChC,MAAOzO,MAAKoX,SAAUtV,IAAe+H,GAAS4E,EAAO,IAAO5E,GAAS4E,EAAO,IAI7E6J,QAAS,SAAUzO,EAAO/H,EAAS2M,GAGlC,GAAIhK,GAAS5E,EAAG4O,EAMhB,OALKzO,MAAK+S,SAASkE,YAClBxS,EAAOib,OAAQ,qBAAsBlG,KAAM,wBAAyB,WACnE3Z,EAAGiC,GAAUgS,UAGRjK,IAAUpF,EAAOJ,OAIzBW,OAAQ,SAAU6E,EAAO/H,EAAS2M,GACjC,GAAKzO,KAAKoX,SAAUtV,GACnB,MAAO,qBAGR,IACCgR,GAAW1O,EADRub,EAAW3f,KAAKue,cAAezc,EAWnC,OARK9B,MAAK+S,SAAS8B,SAAU/S,EAAQkM,QACpChO,KAAK+S,SAAS8B,SAAU/S,EAAQkM,UAEjC2R,EAASC,gBAAkB5f,KAAK+S,SAAS8B,SAAU/S,EAAQkM,MAAOhJ,OAClEhF,KAAK+S,SAAS8B,SAAU/S,EAAQkM,MAAOhJ,OAAS2a,EAASlF,QAEzDhM,EAAyB,gBAAVA,KAAwBwJ,IAAKxJ,IAAWA,EAElDkR,EAAS3S,MAAQnD,EACd8V,EAAS7L,OAGjB6L,EAAS3S,IAAMnD,EACfiJ,EAAY9S,KACZA,KAAKqe,aAAcvc,GACnBsC,KACAA,EAAMtC,EAAQkM,MAASnE,EACvBhK,EAAEggB,KAAMhgB,EAAEK,QAAQ,GACjB+X,IAAKxJ,EACLqR,KAAM,QACNC,KAAM,WAAaje,EAAQkM,KAC3BgS,SAAU,OACV5b,KAAMA,EACN6b,QAASnN,EAAUW,YACnByJ,QAAS,SAAUgD,GAClB,GACC1F,GAAQC,EAAStD,EADdrD,EAAQoM,KAAa,GAAqB,SAAbA,CAGjCpN,GAAUC,SAAS8B,SAAU/S,EAAQkM,MAAOhJ,OAAS2a,EAASC,gBACzD9L,GACJqD,EAAYrE,EAAUc,cACtBd,EAAUuH,eAAgBvY,GAC1BgR,EAAUc,cAAgBuD,EAC1BrE,EAAU4H,YAAYlQ,KAAM1I,SACrBgR,GAAUuG,QAASvX,EAAQkM,MAClC8E,EAAU8G,eAEVY,KACAC,EAAUyF,GAAYpN,EAAU6J,eAAgB7a,EAAS,UACzD0Y,EAAQ1Y,EAAQkM,MAAS2R,EAASlF,QAAU5a,EAAEmf,WAAYvE,GAAYA,EAAS5Q,GAAU4Q,EACzF3H,EAAUuG,QAASvX,EAAQkM,OAAS,EACpC8E,EAAU8G,WAAYY,IAEvBmF,EAAS7L,MAAQA,EACjBhB,EAAUwL,YAAaxc,EAASgS,KAE/BrF,IACI,eAOV5O,EAAEqL,OAAS,WACV,KAAM,uEAOP,IACC2U,GADGM,IAGCtgB,GAAEugB,cACNvgB,EAAEugB,cAAc,SAAUrN,EAAU/P,EAAGqd,GACtC,GAAIN,GAAOhN,EAASgN,IACG,WAAlBhN,EAAS+M,OACRK,EAAgBJ,IACpBI,EAAgBJ,GAAMO,QAEvBH,EAAgBJ,GAAQM,MAK1BR,EAAOhgB,EAAEggB,KACThgB,EAAEggB,KAAO,SAAU9M,GAClB,GAAI+M,IAAS,QAAU/M,GAAWA,EAAWlT,EAAE0gB,cAAeT,KAC7DC,GAAS,QAAUhN,GAAWA,EAAWlT,EAAE0gB,cAAeR,IAC3D,OAAc,UAATD,GACCK,EAAgBJ,IACpBI,EAAgBJ,GAAMO,QAEvBH,EAAgBJ,GAAQF,EAAK/J,MAAM9V,KAAMG,WAClCggB,EAAgBJ,IAEjBF,EAAK/J,MAAM9V,KAAMG,aAO1BN,EAAEK,OAAOL,EAAEoI,IACVgL,iBAAkB,SAAU4F,EAAU5S,EAAMrE,GAC3C,MAAO5B,MAAKwZ,KAAKvT,EAAM,SAAUyD,GAChC,GAAIjF,GAAS5E,EAAE6J,EAAMjF,OACrB,IAAKA,EAAO8H,GAAGsM,GACd,MAAOjX,GAAQkU,MAAMrR,EAAQtE;CC12ChC,SAAUZ,GACa,kBAAXC,SAAyBA,OAAOC,IAC3CD,OAAO,mBAAmB,SAAS,gBAAiB,wBAAyBD,GAE7EA,EAASG,OAAOC,SAEhB,SAAUE,EAAEF,GAKZE,EAAEiT,UAAUsM,UAAU,SAAS,SAASvV,EAAM/H,EAAQ2M,GACpD,MAAOzO,MAAKoX,SAAStV,KAAa,cAAcwJ,KAAKzB,IACrDhK,EAAEiT,UAAU5H,OAAO,YAMrBrL,EAAEiT,UAAUsM,UAAU,SAAS,SAASvV,EAAM/H,EAAQ2M,GACpD,MAAOzO,MAAKoX,SAAStV,IAAY,uBAAuBwJ,KAAKzB,IAC7DhK,EAAEiT,UAAU5H,OAAO,YAKrBrL,EAAEiT,UAAUsM,UAAU,SAAS,SAASvV,EAAM/H,EAAQ2M,GACpD,MAAOzO,MAAKoX,SAAStV,IAAY,sBAAsBwJ,KAAKzB,IAC5DhK,EAAEiT,UAAU5H,OAAO,eAKrBrL,EAAEiT,UAAUsM,UAAU,QAAQ,SAASvV,EAAM/H,EAAQ2M,GACnD,MAAOzO,MAAKoX,SAAStV,IAAY,sBAAsBwJ,KAAKzB,IAC5DhK,EAAEiT,UAAU5H,OAAO,cAKrBrL,EAAEiT,UAAUsM,UAAU,cAAc,SAASvV,EAAM/H,EAAQ2M,GACzD,MAAOzO,MAAKoX,SAAStV,IAAY,sBAAsBwJ,KAAKzB,IAAU,sBAAsByB,KAAKzB,IACjGhK,EAAEiT,UAAU5H,OAAO,iBAMrBrL,EAAEiT,UAAUsM,UAAU,eAAe,SAASvV,EAAM/H,EAAQ2M,GAC1D,GAAIvJ,IAAM,EAAK7D,EAAOrB,KAClBwgB,EAAU3gB,EAAE,iBAAiB4O,EAAM,IAAIzO,KAAKyT,aAAa0H,IAAIrZ,EAmBjE,OAjBIjC,GAAEyV,KAAKzL,GAUTkF,WAAW,WACTyR,EAAQlb,KAAK,WACXjE,EAAKS,QAAQ9B,SAEf,IAbFkF,GAAM,EACNsb,EAAQlb,KAAK,WAEX,GAAGzF,EAAEyV,KAAKzV,EAAEG,MAAMqE,OAEhB,MADAa,IAAM,GACC,KAWNA,GACPrF,EAAEiT,UAAU5H,OAAO,iBAKrBrL,EAAEiT,UAAUsM,UAAU,UAAU,SAASvV,EAAM/H,EAAQ2M,GACrD,MAAOzO,MAAKoX,SAAStV,IAAY,kBAAkBwJ,KAAKzB,IACxDhK,EAAEiT,UAAU5H,OAAO,gBAOrBrL,EAAEK,OAAOL,EAAEiT,UAAU+B,UACnBM,SAAU,SACVnQ,OAAQ,SACRgT,MAAO,eACPC,IAAK,WACL9O,KAAM,WACN+O,QAAS,wBACTC,OAAQ,WACRC,OAAQ,SACRC,WAAY,cACZC,QAAS,UACTmI,UAAW,WACXlI,UAAW1Y,EAAEiT,UAAU5H,OAAO,kBAC9BsN,UAAW3Y,EAAEiT,UAAU5H,OAAO,iBAC9BuN,YAAa5Y,EAAEiT,UAAU5H,OAAO,2BAChCT,MAAO5K,EAAEiT,UAAU5H,OAAO,0BAC1BwN,IAAK7Y,EAAEiT,UAAU5H,OAAO,kBACxByN,IAAK9Y,EAAEiT,UAAU5H,OAAO,mBAM1B,IAAIwV,GAAoB7gB,EAAEiT,UAAU4C,SAASmC,SAkB7C,OAjBAhY,GAAEiT,UAAUiF,aACVzJ,OAAS,UACT+H,WAAa,iBACb6G,QAAU,SAASyD,GAEjBA,EAAMje,SAAS,qBAEjBib,eAAiB,SAASX,EAAMlb,GAC9BA,EAAQ0B,SAASiC,OAAOuX,IAE1BnF,UAAY,SAASvX,EAAG+V,GACtB,GAAIhW,GAAMR,EAAES,EACZD,GAAIuC,SAAS,IAAIyT,GAAYxT,YAAY,oBACzC6d,EAAkB5K,MAAM9V,KAAKG,cAI1BN;CC/HR,SAAUN,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,iBAAiB,UAAUD,GAElCA,EAASG,SAEX,SAASG,GAET,GAAIF,KAuEJ,OArEAE,GAAEK,OAAOP,GACPoD,QAAS,SAASiL,EAAKnD,GACrB,GAAIoQ,KACAjN,IAASnD,IAEboQ,EAAIjN,GAAQ,SAASjO,GACnBA,EAAMA,MAAUkb,IAChB,IAAIrF,GAAOI,MAAMpV,UAAUqV,MAAMH,MAAM3V,UAEvC,OADAyV,GAAKgL,QACE5gB,KAAKsF,KAAK,WACf,GAAI9D,GAAQ3B,EAAEG,MACVoE,EAAO5C,EAAM4C,KAAK4J,EAatB,OAXI5J,KACgB,UAAfvE,EAAEoG,KAAKlG,KACRkb,EAAMpb,EAAEK,OAAO+a,EAAIlb,IAErBkb,EAAMpb,EAAEK,OAAO+a,GAAK3a,GAAGkB,IACvB4C,EAAO,GAAIyG,GAAUoQ,GACrBzZ,EAAM4C,KAAK4J,EAAK5J,IAGfA,GAAuB,UAAfvE,EAAEoG,KAAKlG,IAAkBqE,EAAKrE,GAAK+V,MAAM1R,EAAKwR,GAElD5V,QAGXH,EAAEoI,GAAG/H,OAAO+a,KAEd4F,OAAQ,SAASxgB,GACfA,EAAMA,GAAOR,EAAE2H,SACf,IAAImI,GAAM9P,EAAEihB,WACRC,EAAW1gB,EAAIsD,KAAK,gBACrBtD,GAAIkM,GAAG,mBACRwU,EAAWA,EAAS7H,IAAI7Y,GAE1B,IAAI2gB,GAAOnhB,EAAE8N,IAAIoT,EAAS,SAASzgB,GACjC,GAAI2gB,GAAUphB,EAAEihB,WACZzgB,EAAMR,EAAES,GACR8D,EAAO/D,EAAI+D,OACX8c,KACAC,EAAU/c,EAAKzE,OAAOyU,MAAM,IAYhC,OAVA8M,GAAarhB,EAAE8N,IAAIwT,EAAQ,SAAS5b,GAClC,GAAI6b,GAAYvhB,EAAEihB,UAKlB,OAJAO,UAAS,UAAU9b,GAAM,WACvBlF,EAAIkF,IAASlF,EAAIkF,GAAMnB,GACvBgd,EAAUE,YAELF,EAAUG,YAGnB1hB,EAAE2hB,KAAK1L,MAAM7U,OAAOigB,GAAYjc,KAAKgc,EAAQK,SACtCL,EAAQM,WAIjB,OADA1hB,GAAE2hB,KAAK1L,MAAM7U,OAAO+f,GAAM/b,KAAK0K,EAAI2R,SAC5B3R,EAAI4R,aAIf1hB,EAAEoI,GAAG/H,QACHP,OAAQ,WACN,GAAI6B,GAAQ3B,EAAEG,MACV2P,EAAMhQ,EAAOkhB,OAAOrf,EACxB,OAAOmO,MAIJhQ;CChFR,SAAUJ,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,gBAAgB,gBAAgB,aAAa,YAAYD,GAE9FA,EAAQM,EAAEF,OAAO8hB,OAAOze,EAAE0e,WAE5B,SAAS7hB,EAAEF,EAAO8hB,EAAOze,EAAE0e,GAC3B,GAAIxF,GAAK,EACLyF,EAAS,kBACTzT,EAAQrO,EAAE2H,SAASC,MACnBma,EAAa,SAAS7hB,GAKxB,GAJAmc,IACAlc,KAAKC,QAAUJ,EAAEK,QAAO,GACtB2hB,WAAY,cAAc3F,GAC1B/b,UAAUC,OAAOH,QAAQF,GACtBC,KAAKC,QAAQK,GAAG,CAEnB,GADAN,KAAKK,IAAMR,EAAEE,EAAIO,IACK,GAAnBN,KAAKK,IAAIoC,SAAgBkf,EAAOrW,KAAKtL,KAAKK,IAAI,GAAGyhB,MAAO,MAC3D9hB,MAAKC,QAAQ6hB,KAAO9hB,KAAKC,QAAQ6hB,MAAQ9hB,KAAKK,IAAI,GAAGyhB,KACrD9hB,KAAKC,QAAQ2c,MAAQ5c,KAAKC,QAAQ2c,OAAS5c,KAAKK,IAAI,GAAGuc,MAGzD5c,KAAKW,OACLX,KAAKoB,SAsEP,OAnEAvB,GAAEK,OAAO0hB,EAAWhhB,WAClBD,KAAM,WACJ,GAAIU,GAAOrB,IAEXA,MAAK+hB,QAAUliB,EAAEG,KAAKgiB,KAAKhiB,KAAKC,UAChCD,KAAKiiB,QAAUjiB,KAAK+hB,QAAQvhB,WAC5BR,KAAKiiB,QAAQ7d,KAAK,aAAapE,MAC/BA,KAAKkiB,OAAS,GAAIT,GAAO5hB,EAAEK,UAAUF,KAAKC,SACxCK,GAAIN,KAAK+hB,QACTI,UAAU,EACVC,MAAO,WACL/gB,EAAK6gB,OAAOG,UACZhhB,EAAK0gB,QAAQha,cAInB3G,OAAQ,WACN,GAAIC,GAAOrB,KACPsiB,EAAStiB,KAAKiiB,QAAQ,EAE1Bjf,GAAE9C,OAAOoiB,EAAOZ,EAASa,QACzBD,EAAOhhB,GAAG,OAAO,WACf,IACED,EAAK6gB,OAAOM,SAASxiB,KAAKyiB,cAAcjb,SAASoV,OAClD,MAAMrb,OAET+gB,EAAOhhB,GAAG,QAAQ,WAChBD,EAAKghB,YAEPC,EAAOhhB,GAAG,UAAU,WAClBD,EAAKkB,YAEP+f,EAAOhhB,GAAG,YAAY,SAASvB,GAC7BsB,EAAKqhB,UAAU3iB,MAGnBsiB,QAAS,WACPriB,KAAKiiB,QAAQ,GAAGU,MAChB3iB,KAAKkiB,OAAOG,WAEd9f,QAAS,WACPtB,OAAO2hB,SAASC,UAElBC,KAAM,WACJ9iB,KAAKkiB,OAAOY,QAEdJ,UAAW,SAAS3iB,GAClBC,KAAKkiB,OAAOQ,UAAU3iB,IAExBiiB,KAAMhf,EAAEmD,UAAU,kJAAkJC,KAAK,OAG3KvG,EAAEK,OAAO0hB,GACP3hB,SACE8iB,OAAM,EACNjB,KAAM,MAIV5T,EAAM5M,GAAG,QAAQ,2BAA2B,SAASC,GACnDA,EAAEyC,gBACF,IAAI3D,GAAMR,EAAEG,MACRoE,EAAO/D,EAAI+D,MACfA,GAAK9D,GAAKD,EACV,GAAIuhB,GAAWxd,KAGVwd;CCnFR,SAAUriB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,aAAa,gBAAgB,yBAAyBD,GAE3FA,EAASG,OAAOsD,EAAErD,SAEpB,SAASE,EAAEmD,EAAErD,GACb,GAAIqjB,GAAa,SAASjjB,GACxBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,EACzD,IAAIM,GAAMR,EAAEE,EAAIO,GAChBN,MAAKC,QAAQ4K,UAAYxK,EAAIgL,KAAK,SAC9BrL,KAAKC,QAAQyV,UAA2C,gBAAxB1V,MAAKC,QAAgB,WACvDD,KAAKC,QAAQyV,aAGf1V,KAAKK,IAAMR,EAAE,wCACbQ,EAAI4iB,YAAYjjB,KAAKK,KACrBL,KAAKW,OACLX,KAAKoB,SAkIP,OA/HAvB,GAAEK,OAAO8iB,EAAWpiB,WAClBD,KAAO,WAEAX,KAAKC,QAAQijB,OAAqC,SAA5BrjB,EAAEoG,KAAKjG,KAAKC,QAAQijB,SAC7CljB,KAAKC,QAAQijB,MAAQljB,KAAKC,QAAQijB,MAAM9O,MAAM,MAEd,SAA/BvU,EAAEoG,KAAKjG,KAAKC,QAAQyV,YAErB1V,KAAKC,QAAQyV,SAAW1V,KAAKC,QAAQyV,SAAS2J,WAAW9T,QAAQ,WAAW,QAAQA,QAAQ,MAAM,KAAK6I,MAAM,OAE1GpU,KAAKC,QAAQmE,MAAmC,UAA3BvE,EAAEoG,KAAKjG,KAAKC,QAAQmE,QAC5CpE,KAAKC,QAAQmE,KAAOvE,EAAEsjB,UAAUnjB,KAAKC,QAAQmE,OAG/CpE,KAAKojB,UAEPA,OAAQ,WACN,GAAIC,GAAOrjB,IACXA,MAAKsjB,aAAatjB,KAAKC,SAASgF,KAAK,SAASse,GAC5CF,EAAKhjB,IAAIoF,OAAO8d,GAChBA,EAAQnZ,iBACRmZ,EAAQjf,QAAQ,aAChBtB,EAAEwgB,MAAMxgB,EAAEwW,KAAK6J,EAAKI,WAAWJ,OAGnCjiB,OAAQ,WACN,GAAIiiB,GAAOrjB,IACXA,MAAKK,IAAIiB,GAAG,SAAS,SAAS,WAC5B,GAAIE,GAAQ3B,EAAEG,MACV8K,EAAUtJ,EAAM4C,KAAK,kBAAkB0G,QACvC0C,EAAYhM,EAAMmC,KAAK,mBACvBS,EAAOoJ,EAAUpJ,KAAK,OAC1B0G,GAAQ4Y,UAAU3b,SACd3D,GACJif,EAAKC,aAAalf,GAAMa,KAAK,SAASse,GACpCzY,EAAQlH,MAAM2f,GACdA,EAAQjf,QAAQ,aAChBif,EAAQnZ,sBAIduZ,QAAS,SAAStjB,GAChB,GAAIoB,GAAQzB,KAAKK,IAAIG,WAAWiC,MAChC,OAAGzC,MAAKC,QAAQijB,MAAMzgB,OAAO,EACpBzC,KAAKC,QAAQijB,MAAMzhB,GAEnBzB,KAAKC,QAAQijB,OAGxBnZ,SAAU,SAAStI,EAAM8D,GACvB,GAAIge,GAAUvjB,KAAKK,IAAIG,WAAWyB,GAAGR,GAAOjB,SAAS,SACrD+iB,GAAQlf,IAAIkB,GAAMjB,QAAQ,WAE5Bgf,aAAc,SAASlf,GACrB,GAAIif,GAAOrjB,KACP4jB,EAAOzjB,UAAUC,OACjBuP,EAAM9P,EAAEihB,WACRS,EAAU5R,EAAI4R,SAClB,IAAiB,OAAdnd,EAAKgB,KAEN,MADAuK,GAAIkU,SACGtC,CAET,KAAInd,EAAKgB,KAWP,MAVAhB,GAAKgB,KAAO,KACZpF,KAAK0E,IAAIN,EAAKC,KAAKY,KAAK,SAASC,GACf,GAAbA,EAAI9B,OACLuM,EAAIkU,SAENzf,EAAKgB,KAAOF,EAAId,KAChBwf,EAAKxb,KAAKib,EAAKjf,GAAMa,KAAK,SAASse,GACjC5T,EAAI2R,QAAQiC,OAGThC,CAET,IAAuB,GAApBnd,EAAKgB,KAAK3C,OAEX,MADAkN,GAAIkU,SACGtC,CAET,IAGItG,GAHA7V,EAAOhB,EAAKgB,KACZ+G,EAAStM,EAAEK,UAAUF,KAAKC,SAAS+N,KAAKhO,KAAK2jB,YAC7CJ,EAAU1jB,EAAEG,KAAK8jB,WAAW3X,GAGhC,IAAkB,GAAf/G,EAAK3C,OAAR,CAEA,IADA2C,EAAOA,EAAK4O,SACNiH,EAAI7V,EAAKwb,SACb2C,EAAQ9d,OAAOzF,KAAK+jB,aAAa9I,GAGnC,OADAtL,GAAI2R,QAAQiC,GACLhC,IAETwC,aAAc,SAAS3f,GACrB,GAAI4f,GAAUnkB,EAAEG,KAAKikB,WAAW7f,GAEhC,OADA4f,GAAQ5f,KAAK,OAAOA,GACb4f,GAETP,WAAY,WACV,GAAIpiB,GAAOrB,IACXH,GAAEyF,KAAKtF,KAAKC,QAAQyV,SAAS,SAASjU,EAAM8D,GAC1ClE,EAAK0I,SAAStI,EAAM8D,MAGxBb,IAAK,SAASL,GACZ,IAAIrE,KAAKC,QAAQikB,IAAI,CACnB,GAAIjU,GAAEpQ,EAAEihB,UAER,OADA7Q,GAAE4T,SACK5T,EAAEsR,UAEX,MAAO1hB,GAAEggB,MACP5H,IAAKjY,KAAKC,QAAQikB,IAClBje,KAAM,MACN+Z,SAAU,OACV5b,MAAOC,IAAIA,MAGfyf,WAAY9gB,EAAEmD,UACZ,8FACAC,KAAK,KACP6d,WAAYjhB,EAAEmD,UACZ,mDACAC,KAAK,OAETvG,EAAEK,OAAO8iB,MAETrjB,EAAOoD,QAAQ,aAAaigB,GAErBA;CCzJR,SAAUzjB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,kBAAkB,SAAS,iBAAiBD,GAEnDA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GAEX,QAASwkB,GAAQpkB,GACfC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IAAIoC,SAAS,cAC9B1C,KAAKW,OAsGP,MApGAd,GAAEK,OAAOikB,EAAQvjB,WACfD,KAAO,WACL,GAAIiG,GACA1F,EACAuB,EAEAxC,EAAUD,KAAKC,OAanB,IAVAD,KAAK+M,OAAS/M,KAAKK,IAAIG,WAAWkC,SAAS,iBACd,QAA1B1C,KAAKC,QAAQ4B,WAAqB7B,KAAK+M,OAAOtG,KAAK2d,QAAM,SAC5Dxd,EAAQ5G,KAAK+M,OAAOlF,YAAW,GAAM3G,EAASlB,KAAK+M,OAAOxG,aAAY,GACtE1G,EAAEK,OAAOF,KAAKC,SACZ2G,MAAQA,EACR1F,OAASA,EACTmjB,UAAYzd,EAAM5G,KAAK+M,OAAOtK,OAC9B6hB,WAAapjB,EAAOlB,KAAK+M,OAAOtK,SAElCzC,KAAK+M,OAAOa,SACT5N,KAAK+M,OAAOtK,QAAUxC,EAAQskB,QAM/B,OALAvkB,KAAK+M,OAAS/M,KAAK+M,OAAOmM,IAAIlZ,KAAK+M,OAAOkJ,MAAM,EAAEhW,EAAQskB,SAASC,SACnE/hB,EAASzC,KAAK+M,OAAOtK,OACrBzC,KAAKykB,SAAW5kB,EAAE,uCAAuC4F,OAAOzF,KAAK+M,QAAQxF,SAASvH,KAAKK,KAC3FL,KAAKK,IAAIoG,KAAKie,SAAS,SAASC,KAAK,IACrC3kB,KAAKykB,SAAShe,KAAKie,SAAS,SAASC,KAAK,IACnC1kB,EAAQ4B,WACb,IAAK,OACH7B,KAAKK,IAAIoG,KAAKG,MAAM3G,EAAQskB,QAAQtkB,EAAQ2G,QAC5C5G,KAAKykB,SAAShe,KAAKG,MAAMnE,EAAOxC,EAAQ2G,OACxC,MAEF,KAAK,KACH5G,KAAKK,IAAIoG,KAAKvF,OAAOjB,EAAQskB,QAAQtkB,EAAQiB,SAC7ClB,KAAKykB,SAAShe,KAAKvF,OAAOuB,EAAOxC,EAAQiB,SAM/ClB,KAAKykB,SAASG,MAAM/kB,EAAEgE,MAAM7D,KAAKkC,KAAKlC,MAAMH,EAAEgE,MAAM7D,KAAK6kB,MAAM7kB,OAC/DA,KAAK6kB,SAEPC,KAAO,WACL,GAAI7kB,GAAUD,KAAKC,QACnBI,EAAML,KAAKK,GAEa,SAArBJ,EAAQ4B,YACNxB,EAAI0kB,cAAgB9kB,EAAQokB,UAC7BhkB,EAAI0kB,WAAW,GAEf1kB,EAAI0kB,WAAW1kB,EAAI0kB,aAAa9kB,EAAQ0F,OAIpB,MAArB1F,EAAQ4B,YACNxB,EAAI+B,aAAenC,EAAQqkB,WAC5BjkB,EAAI+B,UAAU,GAEd/B,EAAI+B,UAAU/B,EAAI+B,YAAYnC,EAAQ0F,QAI5Ckf,MAAQ,WACN7kB,KAAKglB,MAAQC,YAAYplB,EAAEgE,MAAM7D,KAAK8kB,KAAK9kB,MAAMA,KAAKC,QAAQiG,QAEhEhE,KAAO,WACLgjB,cAAcllB,KAAKglB,UAGvBnlB,EAAEK,OAAOikB,GACPlkB,SACE4B,UAAY,KACZqE,MAAQ,GACRP,KAAO,EACP4e,QAAU,KAGd1kB,EAAEK,OAAOL,EAAEoI,IACTkd,QAAU,SAASplB,GACjBA,EAAMA,KACN,IAAI6V,GAAOI,MAAMpV,UAAUqV,MAAMH,MAAM3V,UAEvC,OADAyV,GAAKgL,QACE5gB,KAAKsF,KAAK,WACf,GAAI9D,GAAQ3B,EAAEG,MACVoE,EAAO5C,EAAM4C,KAAK,UAStB,OAPkB,UAAfvE,EAAEoG,KAAKlG,KACRA,EAAMF,EAAEK,UAAUH,GAAKO,GAAGkB,IAC1B4C,EAAO,GAAI+f,GAAQpkB,GACnByB,EAAM4C,KAAK,UAAUA,IAEL,UAAfvE,EAAEoG,KAAKlG,IAAkBqE,EAAKrE,GAAK+V,MAAM1R,EAAKwR,GAE1C5V,UAKbL,EAAOoD,QAAQ,UAAUohB,GAElBA;CClHR,SAAU5kB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,oBAAoB,SAAS,iBAAiBD,GAErDA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GACX,QAASylB,GAAUrlB,GACjBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQklB,EAAUnlB,QAAQF,GAClDC,KAAKW,OA0FP,MAvFAd,GAAEK,OAAOklB,EAAUxkB,WACjBD,KAAM,WACJX,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IAC1BN,KAAKK,IAAI,GAAGgD,aAAe,MAC3BrD,KAAKqlB,YAAcxlB,EAAEG,KAAKC,QAAQqlB,YAClCtlB,KAAKoB,UAEPA,OAAQ,WACN,GAAIC,GAAOrB,IACXA,MAAKK,IAAIiB,GAAG,UAAU,SAASC,GAC7BF,EAAKgkB,YAAcxlB,EAAEwB,EAAKpB,QAAQqlB,WAClC,IAAIC,GAAUlkB,EAAKpB,QAAQulB,OAAOjkB,EAAEwC,QACpC,IAAIwhB,EAEJ,MADAlkB,GAAKkkB,MACE,KAGXE,GAAI,WACF,GAAIC,GAAOC,EACPC,EAAU5lB,KAAKqlB,YAAYtf,OAAO,UACjB,IAAlB6f,EAAQnjB,OACTzC,KAAK+B,OAAO/B,KAAKqlB,YAAY5jB,MAAMzB,KAAKqlB,YAAYpjB,OAAOW,WAAWijB,UAAU9f,OAAO,aAGvF2f,EAASE,EAAQhjB,WAAWijB,UAAU9f,OAAO,UAC7C4f,EAAU3lB,KAAKqlB,YAAYpjB,GAAGjC,KAAKqlB,YAAY5jB,MAAMikB,GAAQ,GAAG9iB,WAAWijB,UAAU9f,OAAO,UAC5F/F,KAAK+B,OAAO/B,KAAKqlB,YAAY5jB,MAAMkkB,MAGvCG,KAAM,WACJ,GAAIC,GACAH,EAAU5lB,KAAKqlB,YAAYtf,OAAO,UACjB,IAAlB6f,EAAQnjB,OACTzC,KAAK+B,OAAO,IAGZgkB,EAAQH,EAAQhjB,WAAWijB,UAAU9f,OAAO,SAC5C/F,KAAK+B,OAAO/B,KAAKqlB,YAAY5jB,MAAMskB,GAAO,KAG9Cje,KAAM,WACJ,GAAIke,GACAJ,EAAU5lB,KAAKqlB,YAAYtf,OAAO,UAEpCigB,GADmB,GAAlBJ,EAAQnjB,OACC,EAEAzC,KAAKqlB,YAAY5jB,MAAMmkB,GAEnC5lB,KAAK+B,OAAOikB,EAAQ,IAEtBC,MAAO,WACL,GAAID,GACAJ,EAAU5lB,KAAKqlB,YAAYtf,OAAO,UAEpCigB,GADmB,GAAlBJ,EAAQnjB,UAGCzC,KAAKqlB,YAAY5jB,MAAMmkB,GAEnC5lB,KAAK+B,OAAOikB,EAAQ,IAEtBE,MAAO,WACL,GAAIN,GAAU5lB,KAAKqlB,YAAYtf,OAAO,UAEtC6f,GAAQ,GAAGO,SAEbpkB,OAAQ,SAASN,GACfA,GAAgBzB,KAAKqlB,YAAY5iB,OACjCzC,KAAKqlB,YAAYtf,OAAO,WAAWlD,YAAY,UAC/C7C,KAAKqlB,YAAYpjB,GAAGR,GAAOiB,SAAS,aAIxC7C,EAAEK,OAAOklB,GACPnlB,SACEqlB,WAAY,GACZE,QACEY,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,OACJC,GAAI,YAKV7mB,EAAOoD,QAAQ,YAAYqiB,GAEpBA;CCvFR,SAAU7lB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,aAAa,gBAAgB,eAAeD,GAEjFA,EAASG,OAAOsD,EAAErD,OAAO8mB,cAE3B,SAAS5mB,EAAEmD,EAAErD,EAAO8mB,GACpB,QAASC,GAAW3mB,GAClBC,KAAKK,IAAMR,EAAEE,EAAIO,GACjB,IAAIqmB,GAAQ3mB,KAAKK,IAAI+D,OAAOA,IAE5BpB,GAAE4jB,UAAUD,EAAM,SAASE,EAAEC,GAC3B,OAAOA,GACL,IAAK,OACH1iB,EAAK2iB,YAAc5lB,SAAS0lB,EAC5B,MAEF,KAAK,OACHziB,EAAK4iB,SAAW7lB,SAAS0lB,EACzB,MAEF,KAAK,MACHziB,EAAK6iB,QAAU9lB,SAAS0lB,EACxB,MAEF,SACEziB,EAAK0iB,GAAKD,KAIhB7mB,KAAKC,QAAUJ,EAAEK,OAAOF,KAAKG,UAAUC,OAAOH,QAAQmE,EAAKrE,GAC3DC,KAAKW,OAyMP,MAtMAd,GAAEK,OAAOwmB,EAAW9lB,WAClBD,KAAM,WACJX,KAAKK,IAAIqC,SAAS,cAClB1C,KAAKknB,UACLlnB,KAAK4E,UAEPuiB,WAAY,SAASpnB,GACnBF,EAAEK,OAAOF,KAAKD,EACd,IAAIqnB,GAAavnB,EAAEmM,MAAM,cAAcqb,KAAOrnB,KAAK+mB,aACnD/mB,MAAKK,IAAIiE,QAAQ8iB,GACjBpnB,KAAK4E,UAEP0iB,QAAS,SAASnP,GAChBnY,KAAKmnB,YAAYJ,YAAY5O,GAC7B,IAAI2J,GAAO9hB,KAAKunB,aAAaF,KAAKlP,GAEX,IAApB2J,EAAK0F,OAAO,KACb5E,SAAS6E,KAAO3F,EAAKxF,UAAU,GAE/BsG,SAASd,KAAOA,GAGpB4F,YAAa,SAASvP,GACpBnY,KAAKmnB,YAAYH,SAAS7O,IAC1BnY,KAAKsnB,QAAQtnB,KAAK+mB,cAEpBniB,OAAQ,WACN,GACI+iB,GAAY5gB,KAAKC,KAAKhH,KAAK4nB,MAAM5nB,KAAKgnB,SACvChnB,MAAKinB,SAAWjnB,KAAKinB,QAAQU,IAC9BA,EAAY3nB,KAAKinB,QAEnB,IAAIY,KAEJ,IADA7nB,KAAKK,IAAIgF,QACK,GAAXsiB,GAAgB3nB,KAAK+mB,YAAYY,EAElC,WADA3nB,MAAKsnB,QAAQK,EAIfE,GAAMrd,MAAM6c,KAAMrnB,KAAK+mB,YAAYlZ,KAAM7N,KAAK+mB,YAAYe,MAAM,YAGhE9kB,EAAEqM,MAAMrP,KAAK+nB,aAAa/kB,EAAEwW,KAAK,SAAS/X,GACxCA,GAAc,CACd,IAAIumB,GAAOhoB,KAAK+mB,YAAYtlB,EACxBwmB,EAAOjoB,KAAK+mB,YAAYtlB,CACzBumB,GAAO,GACRH,EAAMnd,SAAS2c,KAAMW,EAAKna,KAAMma,IAE/BC,EAAON,EAAU,GAClBE,EAAMrd,MAAM6c,KAAMY,EAAKpa,KAAMoa,KAE/BjoB,OAGFgD,EAAEqM,MAAMrP,KAAKkoB,MAAMllB,EAAEwW,KAAK,SAAS/X,GACjCA,EAAQzB,KAAKkoB,MAAMzmB,CACnB,IAAI0mB,GAAYnoB,KAAK+mB,YAAY/mB,KAAK+nB,aAClCK,EAAYpoB,KAAK+mB,YAAY/mB,KAAK+nB,aAClCC,EAAOvmB,EACPwmB,EAAON,EAAU,EAAElmB,CAEpBumB,GAAKG,IAEH1mB,GAASzB,KAAKkoB,OAAUC,EAAU,EAAE1mB,GACrComB,EAAMnd,SAAS2c,KAAM,EAAExZ,KAAM7N,KAAKqoB,YAAYP,MAAM,YAEtDD,EAAMnd,SAAS2c,KAAMW,EAAKna,KAAMma,KAG/BC,EAAKG,IAEH3mB,GAASzB,KAAKkoB,OAASE,EAAUT,EAAUlmB,GAC5ComB,EAAMrd,MAAM6c,KAAM,EAAExZ,KAAM7N,KAAKqoB,YAAYP,MAAM,YAEnDD,EAAMrd,MAAM6c,KAAMY,EAAKpa,KAAMoa,MAG/BjoB,OAEmB,GAAlBA,KAAK+mB,aACNc,EAAMnd,SAAS2c,KAAMrnB,KAAK+mB,YAAY,EAAElZ,KAAM7N,KAAKsoB,WAGlDtoB,KAAK+mB,aAAaY,GACnBE,EAAMrd,MAAM6c,KAAMrnB,KAAK+mB,YAAY,EAAElZ,KAAM7N,KAAKuoB,UAIlD,IAAIC,GAAOxoB,KAAKyoB,gBAAgBZ,EAChC7nB,MAAKK,IAAIoF,OAAO+iB,GAGhBxoB,KAAK0oB,WAAa1oB,KAAKK,IAAIoF,OAAO,8BAA8BkiB,EAAU,aAC1E3nB,KAAK2oB,UAAY3oB,KAAKK,IAAIuoB,QAAQ,8BAA8B5oB,KAAK4nB,MAAM,aAC3E5nB,KAAK6oB,UAAY7oB,KAAK8oB,YACtB9oB,KAAK+oB,gBAAkB/oB,KAAKgpB,mBAE9B9B,QAAS,WAkBP,QAAS+B,KACP,GAAIC,GAAQ7F,EAAKhjB,IAAIsD,KAAK,SACtBgkB,EAAY5gB,KAAKC,KAAKqc,EAAKuE,MAAMvE,EAAK2D,UACtC3iB,EAAMlD,SAAS+nB,EAAM7kB,QACrBuF,MAAMvF,IAAQA,GAAKsjB,EACrBtE,EAAKiE,QAAQjjB,GAEb6kB,EAAM7kB,IAAI,IAxBd,GAAIgf,GAAOrjB,IACXA,MAAKK,IAAIiB,GAAG,QAAQ,QAAQ,WAC1B,GAAIE,GAAQ3B,EAAEG,KACd,KAAGwB,EAAMqK,SAAS,aACfrK,EAAMqK,SAAS,WAElB,MADAwX,GAAKiE,QAAQ9lB,EAAM4C,KAAK,UACjB,IAGTpE,KAAKK,IAAIiB,GAAG,UAAU,QAAQ,SAASC,GACrB,IAAbA,EAAEwC,SACLklB,MAEFjpB,KAAKK,IAAIiB,GAAG,QAAQ,mBAAmB2nB,GACvCjpB,KAAKK,IAAIiB,GAAG,SAAS,aAAa,WAChC+hB,EAAKqE,YAAY7nB,EAAEG,MAAMqE,UAa7BkjB,YAAa,SAASxnB,GACpB,GAAI+hB,GAAKjd,CAIT,OAHAid,GAAM9e,EAAEmD,SAASnG,KAAK8hB,MAAM/hB,GAC5B8E,EAAQ4hB,EAAY0C,MAAM1C,EAAY2C,QAAQtH,IAC9Cjd,EAAOmiB,SAAUhnB,KAAKC,QAAQ+mB,SACvBlF,EAAK1N,MAAM,KAAK,GAAG,IAAIqS,EAAY4C,UAAUxkB,IAEtD4jB,gBAAiB,SAASZ,GACxB,GAAIxE,GAAOrjB,KAAKwoB,EAAO3oB,GASvB,OARkB,UAAjBA,EAAEoG,KAAK4hB,KAAwBA,GAASA,IACzChoB,EAAEyF,KAAKuiB,EAAM,SAASpmB,EAAM8D,GAC1BA,EAAKuc,KAAOvc,EAAK8hB,KAAOhE,EAAKkE,aAAaF,KAAK9hB,EAAK8hB,OAAS,cAC7D,IAAItnB,GAAMF,EAAEK,QAAQ4nB,MAAM,GAAGhG,KAAK,gBAAgBvc,GAC9ClF,EAAMR,EAAEwjB,EAAKiG,aAAavpB,GAC9ByoB,GAAOA,EAAKtP,IAAI7Y,GAChBA,EAAI+D,KAAK,OAAOrE,EAAIsnB,QAEfmB,GAETM,UAAW,WACT,GAAIzoB,GAAMR,EAAEG,KAAKupB,eACf1B,MAAO7nB,KAAKwpB,cACZxC,SAAUhnB,KAAKgnB,WAEjBhnB,MAAKK,IAAIoF,OAAOpF,IAElB2oB,gBAAiB,WACf,GAAI3oB,GAAMR,EAAEG,KAAKypB,qBACf5B,MAAO7nB,KAAKwpB,cACZxC,SAAUhnB,KAAKgnB,WAEjBhnB,MAAKK,IAAIoF,OAAOpF,IAElBkpB,cAAevmB,EAAEmD,UACf,+HACAC,KAAK,KACPqjB,oBAAqBzmB,EAAEmD,UACrB,6BACE,2CACA,wGACA,YACF,aACAC,KAAK,KACPkjB,aAActmB,EAAEmD,UACd,kEACAC,KAAK,OAGTvG,EAAEK,OAAOwmB,GACPzmB,SACE8mB,YAAa,EACbC,SAAU,GACVY,MAAO,EACPM,MAAO,EACPH,aAAc,EACdO,SAAU,MACVC,SAAU,MACVzG,KAAM,oBACNuG,YAAa,WACbU,gBAAgB,EAChBS,eAAgB,GAAG,GAAG,GAAG,KACzBX,UAAU,EACVH,WAAW,EACXC,UAAU,EACV1B,QAAS,EACTyC,SAAU7pB,EAAEiD,QAIhBnD,EAAOoD,QAAQ,aAAa2jB,GAErBA;CCxPR,SAAUnnB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,sBAAsB,SAAS,YAAY,iBAAiBD,GAEnEA,EAASG,OAAOiqB,UAAUhqB,SAE5B,SAASE,EAAE8pB,EAAUhqB,GACrB,QAASiqB,GAAY7pB,GACnB6pB,EAAY3pB,QAAQic,KACpBlc,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAK6pB,OAAShqB,IACVE,EAAI0N,OACN1N,EAAI0N,KAAOzN,KAAKK,IAAIgL,KAAK,gBAE3BrL,KAAKC,QAAUJ,EAAEK,QAAO,KAAQ0pB,EAAY3pB,QAAQF,GACpDC,KAAKW,OAyDP,MAtDAd,GAAEK,OAAO0pB,EAAYhpB,WACnBD,KAAM,WAEJ,IAAGgpB,EAAUG,MAAMC,YAAnB,CAGA,GAAIzjB,GAAQtG,KACRC,EAAUD,KAAKC,OACnBA,GAAQiB,OAASlB,KAAKK,IAAIa,QAC1B,IAAIA,GAASjB,EAAQiB,OACjBqO,EAAcpO,SAASnB,KAAKK,IAAIoG,IAAI,oBAAsB,EAC1DyV,EAAKlc,KAAKK,IAAIgL,KAAK,KACnB6Q,KACFA,EAAK,eAAejc,EAAQic,GAC5Blc,KAAKK,IAAIgL,KAAK,KAAK6Q,IAErBlc,KAAK6pB,OAAShqB,EAAE,eAAeqc,EAAG,KAAKjc,EAAQwN,KAAK,YACjDhH,KACCC,SAAW,WACXyI,OAAS,OACTjI,MAAQ,WACRJ,SAAW9G,KAAKK,IAAIoG,IAAI,YACxBujB,WAAa7oB,SAASnB,KAAKK,IAAIoG,IAAI,eAAe8I,EAClD0a,YAAc9oB,SAASnB,KAAKK,IAAIoG,IAAI,gBAAgB8I,EACpDpI,WAAajG,EAAO,OACnBgpB,aAAalqB,KAAKK,KACvBL,KAAKK,IAAIiB,GAAG,mCAAmC,WACvB,IAAnBgF,EAAMjG,IAAIgE,MACXiC,EAAMujB,OAAOpc,KAAKxN,EAAQwN,MAE1BnH,EAAMujB,OAAOpc,KAAK,MAGtBzN,KAAKK,IAAIiE,QAAQ,WAEnB6lB,IAAK,SAASxlB,EAAIkF,GAChB7J,KAAKC,QAAQ0E,GAAOkF,EACV,QAAPlF,GAAe3E,KAAKuC,WAEzBA,QAAS,WACPvC,KAAK6pB,OAAOpc,KAAKzN,KAAKC,QAAQwN,MAC9BzN,KAAKK,IAAIgL,KAAK,cAAcrL,KAAKC,QAAQwN,SAI7C5N,EAAEK,OAAO0pB,GACP3pB,SACEwN,KAAO,QACPyO,GAAK,KAITvc,EAAOoD,QAAQ,cAAc6mB,GAEtBA;CCnDR,SAAUrqB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,eAAe,UAAUD,GAEhCA,EAASG,SAEX,SAASG,GA2GT,QAASuqB,GAAiBnP,GACxB,GAAIoP,IAAa,EAAE,EAAE,GACjBC,EAAYrP,EAAIxU,IAAI,sBACRwU,EAAIxU,IAAI,mBACRwU,EAAIxU,IAAI,kBACRwU,EAAIxU,IAAI,iBACRwU,EAAIxU,IAAI,YAExB,IAAc,SAAX6jB,EAAmB,CACpB,GAAIC,GAASD,EAAOlW,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAClDvE,EAAI,EACJ2a,EAAI,EACJC,EAAI,CACY,KAAjBF,EAAO9nB,QAERoN,EAAK6a,WAAWH,EAAOA,EAAO9nB,OAAS,IACvC+nB,EAAKE,WAAWH,EAAOA,EAAO9nB,OAAS,IACvCgoB,EAAKC,WAAWH,EAAOA,EAAO9nB,OAAS,MAGvCoN,EAAK6a,WAAWH,EAAOA,EAAO9nB,OAAS,IACvC+nB,EAAKE,WAAWH,EAAOA,EAAO9nB,OAAS,IACvCgoB,EAAI,GAENJ,GAAaxa,EAAE2a,EAAEC,GAEnB,MAAOJ,GAMT,QAASM,GAAW7oB,GAClB,GAA4B,IAAxBA,EAAQ8oB,aAA8C,IAAzB9oB,EAAQ+oB,aAAoB,OAAO,CAKvE,KAAK,GAHD3pB,GAASsG,SAASiF,gBAAgBqe,aACjCC,EAASjpB,EAAQkpB,iBAEbxlB,EAAI,EAAGylB,EAAIF,EAAMtoB,OAAQ+C,EAAIylB,EAAGzlB,IAAK,CAE3C,GAAI0lB,GAAcH,EAAMvlB,GACpB2lB,EAAcD,EAAE7oB,IAAM,EAAI6oB,EAAE7oB,KAAOnB,EAAUgqB,EAAEE,OAAS,GAAKF,EAAEE,QAAUlqB,CAE7E,IAAIiqB,EAAa,OAAO,EAE3B,OAAO,EAMN,QAASE,KACP,GACIC,GADAhrB,EAAKkH,SAASmF,cAAc,KAE5B4e,GACEC,gBAAkB,oBAClBC,WAAa,eACbC,YAAc,gBACdC,aAAe,iBACfC,UAAY,YAGlBpkB,UAASC,KAAKyiB,aAAa5pB,EAAI,KAE/B,KAAK,GAAIwP,KAAKyb,GACQlZ,SAAhB/R,EAAGwnB,MAAMhY,KACXxP,EAAGwnB,MAAMhY,GAAK,2BACdwb,EAAQrqB,OAAO4qB,iBAAiBvrB,GAAIwrB,iBAAiBP,EAAWzb,IAKpE,OADAtI,UAASC,KAAKskB,YAAYzrB,GACR+R,SAAViZ,GAAuBA,EAAM7oB,OAAS,GAAe,SAAV6oB,EAMrD,QAASU,KACP,MAAQC,MAAiB,GAAkD5Z,SAAlCpR,OAAOirB,uBAMlD,QAASC,GAAiB5qB,GAKxB,GAJAsO,EAAItO,EAAE6qB,MACN5B,EAAIjpB,EAAE8qB,KAG+B,KAAjCtlB,KAAKiL,IAAI/Q,OAAOqrB,aAAqB,CACvC,GAAIva,GAAIlC,CACRA,GAAI2a,EACJA,EAAIzY,EAYN,MARI9Q,QAAOqrB,YAAc,IACvBzc,GAAKA,EACL2a,GAAKA,GAGP+B,EAAiC,OAAjBA,EAAyB1c,EAAI0c,EAC7CC,EAAiC,OAAjBA,EAAyBhC,EAAIgC,GAG3C3c,EAAGA,EAAI0c,EACP/B,EAAGA,EAAIgC,GAYX,QAASC,GAAUlrB,GACjB,MAAI,GAAI8I,OAAOqiB,UAAYC,EAAaC,GAAxC,CACED,GAAa,GAAItiB,OAAOqiB,SAE1B,IAAIG,GAA6C,MAA/BC,EAAmB/rB,SAAoB+rB,EAAmB/rB,SAAS+G,KAAO,EACxFilB,EAA6C,MAA/BD,EAAmB/rB,SAAoB+rB,EAAmB/rB,SAASsB,IAAM,EACvFwN,EAAatO,EAAEyrB,MAAMH,EACrBrC,EAAajpB,EAAE0rB,MAAMF,CAEzB,IAAKpC,EAAWuC,EAAO,GAAGjS,IAAI,GAAGrD,YAAjC,CAEA,GAAGoU,IAAW,CACZ,GAAe3Z,SAAZ9Q,EAAE6qB,MAEH,YADAH,GAAiB,EAGnB1B,QAAS4B,EAAiB5qB,GAG1BsO,EAAI0a,OAAO1a,EAAIsd,EACf3C,EAAID,OAAOC,EAAI2C,EAEftd,EAAIA,EAAIud,EAAYA,EAAavd,EAAIwd,EAAYA,EAAYxd,EAC7D2a,EAAIA,EAAI4C,EAAYA,EAAa5C,EAAI6C,EAAYA,EAAY7C,EAE7D3a,GAAKA,EAAI,GAAK,EACd2a,GAAKA,EAAI,GAAK,EAGhB,GAEI8C,GAAO9nB,EAFP+nB,EAAS1d,GAAImc,OAAe,EAAQqB,EAAYP,EAAmBlmB,SACnE4mB,EAAShD,GAAIwB,OAAe,EAAQqB,EAAYP,EAAmB5rB,SAGvE,KAAKsE,EAAI0nB,EAAOzqB,OAAQ+C,KACtB8nB,EAAQJ,EAAO1nB,GACZvF,EAAQwtB,eAAiBH,EAAMI,YAChCC,KAAOL,EAAMM,gBAAkBN,EAAMO,iBAAiBP,EAAMQ,OAAOP,GACnEQ,KAAOT,EAAMU,gBAAkBV,EAAMO,iBAAiBP,EAAMW,OAAOT,GACnEU,KAAOZ,EAAMa,gBACbb,EAAMrS,IACDxU,KAAKmlB,UAAY,eAAe+B,KAAK,MAAMI,KAAK,MAAMG,KAAK,UAEhEP,KAAOL,EAAMc,OAASd,EAAMO,iBAAiBP,EAAMQ,OAAOP,GAC1DQ,KAAOT,EAAMe,OAASf,EAAMO,iBAAiBP,EAAMW,OAAOT,GACvDF,EAAMI,WACPJ,EAAMrS,IACHxU,IAAI,sBAAuBknB,KAAK,MAAMI,KAAK,MAE9CT,EAAMrS,IACHxU,IAAI,OAAQknB,MACZlnB,IAAI,MAAOsnB,SAnRtB,GAAIO,GAAqB,GACrB1B,EAAqB,EAAI0B,EAAS,IAClC3B,GAAqB,GAAItiB,OAAOqiB,UAChCQ,KACAJ,EAAqBjtB,EAAEoB,QACvBksB,EAAqB,GACrBE,EAAqB,EACrBD,KACAb,EAAqB,KACrBC,EAAqB,KACrBP,GAAqB,EACrBhsB,EAAqB,KAErByV,GACF+X,cAAe,EAIjB5tB,GAAEoI,GAAGsmB,QAAU,SAAU1pB,GAIvB,MAHA5E,GAAUJ,EAAEK,UAAWwV,EAAU7Q,GACjC5E,EAAQwtB,eAAgBxtB,EAAQwtB,cAAepC,IAExCrrB,KAAKsF,KAAK,WAWf,IAAK,GATDkpB,MACAlB,GACFQ,OAAUjuB,EAAEG,MAAMoE,KAAK,WAAa,EACpC6pB,OAAUpuB,EAAEG,MAAMoE,KAAK,WAAa,EACpCqqB,OAAU5uB,EAAEG,MAAMoE,KAAK,WAAa,EACpCsqB,OAAU7uB,EAAEG,MAAMoE,KAAK,YAAa,EACpCspB,WAAc7tB,EAAEG,MAAMoE,KAAK,gBAAiB,GAGrCoB,EAAE,EAAEA,EAAE0nB,EAAOzqB,OAAO+C,IACvBxF,OAASktB,EAAO1nB,GAAGyV,IAAIlW,IAAI,KAC7BypB,EAAgBhpB,EAIpB,KAAK,GAAIiJ,KAAS5J,GACI,GAAhByoB,EAAM7e,KACR6e,EAAM7e,GAAS5J,EAAO4J,GAQ1B,IAJA6e,EAAMO,gBAAmBP,EAAMoB,UAAc,EAG7CpB,EAAMrS,IAASpb,EAAEG,MACdstB,EAAMI,WAAY,CAGnB,GADAiB,KAAOrB,EAAMrS,IAAIxU,IAAI,wBAA0B,WAAW2N,MAAM,KAC/C,GAAdua,IAAIlsB,OACL,MAIF,IAFAoN,EAAI8e,IAAI,GAAG3tB,MAAM,gCACjBwpB,EAAImE,IAAI,GAAG3tB,MAAM,gCACb6O,IAAM2a,EAER,MAEF8C,GAAMsB,QAAUtB,EAAMc,OAASve,EAAE,IAAM,EACvCyd,EAAMuB,QAAUvB,EAAMe,OAAS7D,EAAE,IAAM,EACvC8C,EAAMwB,iBAAmBxB,EAAMM,gBAAkB,EACjDN,EAAMyB,iBAAmBzB,EAAMU,gBAAkB,EACjDV,EAAM0B,iBAAmB1B,EAAMa,gBAAkB,MAE5C,CAGL,GAAIznB,GAAqB4mB,EAAMrS,IAAIvU,WAC/BuoB,EAAqB7E,EAAiBkD,EAAMrS,IAEhDqS,GAAMrS,IAAIxU,KACRmlB,UAAcqD,EAAmB7oB,OAAS,KAC1C/D,IAAUqE,EAASrE,IACnByF,KAAUpB,EAASoB,KACnBme,MAAS,GACTmF,OAAS,KAEXkC,EAAMsB,QAAUtB,EAAMc,OAAS1nB,EAASoB,KACxCwlB,EAAMuB,QAAUvB,EAAMe,OAAS3nB,EAASrE,IACxCirB,EAAMwB,iBAAmBxB,EAAMM,gBAAkBqB,EAAmB,GACpE3B,EAAMyB,iBAAmBzB,EAAMU,gBAAkBiB,EAAmB,GACpE3B,EAAM0B,iBAAmB1B,EAAMa,gBAAkBc,EAAmB,GAGtE3B,EAAMc,QAAUd,EAAMO,gBAAkB9mB,KAAKmoB,MAAM5B,EAAMQ,OAAO,GAChER,EAAMe,QAAUf,EAAMO,gBAAkB9mB,KAAKmoB,MAAM5B,EAAMW,OAAO,GAEhEX,EAAMM,iBAAmBN,EAAMO,gBAAkB9mB,KAAKmoB,MAAM5B,EAAMQ,OAAO,GACzER,EAAMU,iBAAmBV,EAAMO,gBAAkB9mB,KAAKmoB,MAAM5B,EAAMW,OAAO,GACzEX,EAAMa,iBAAmBb,EAAMO,gBAAkB9mB,KAAKmoB,MAAM5B,EAAMmB,OAAO,GAEtED,GAAiB,EAClBtB,EAAOiC,OAAOX,EAAc,EAAElB,GAE9BJ,EAAO1iB,KAAK8iB,MAwLlBztB,EAAEuvB,MAcA3f,OAAQ,SAASvF,GACXA,IACEA,EAAKmlB,iBAAgBvC,EAAqB5iB,EAAKmlB,gBAAkBxvB,EAAEoB,SACzC,gBAAnBiJ,GAAKolB,WAA0BplB,EAAKolB,UAAY,IAAGnC,EAAgBjjB,EAAKolB,YAGrFxC,EAAmBtT,KAAK,iBAAkB,SAAUjY,GAClDkrB,EAAUlrB,KAGTyqB,MACD/qB,OAAOsuB,oBAAsB,SAAShuB,GAAGkrB,EAAUlrB,MAgBvDmO,QAAS,SAASxF,GAGhB,GAFArK,EAAE2H,UAAUkY,OAAO,kBACnBze,OAAOsuB,oBAAsBld,OACzBnI,GAAyC,iBAA1BA,GAAKslB,kBAAkCtlB,EAAKslB,iBAC7D,IAAI,GAAIhqB,GAAI0nB,EAAOzqB,OAAQ+C,KACzB8nB,MAAQJ,EAAO1nB,GACZvF,EAAQwtB,eAAiBH,MAAMI,WAChCJ,MAAMrS,IACDxU,IAAI,YAAa,eAAe6mB,MAAMwB,iBAAiB,MAAMxB,MAAMyB,iBAAiB,MAAMzB,MAAM0B,iBAAiB,OACjHvoB,IAAI,MAAO6mB,MAAMuB,SAEnB3B,EAAO1nB,GAAGkoB,WACXJ,MAAMrS,IAAIxU,IAAI,sBAAuB6mB,MAAMsB,QAAQ,MAAMtB,MAAMuB,QAAQ,MAEvEvB,MAAMrS,IACHxU,IAAI,OAAQ6mB,MAAMsB,SAClBnoB,IAAI,MAAO6mB,MAAMuB,QAKxB3kB,IAAoC,iBAArBA,GAAKulB,aAA6BvlB,EAAKulB,cAAavC,QAItD,mBAAVwC,QACT7vB,EAAE6vB,MAAM7vB,EAAEoI,IAAI;CCrXjB,SAAU1I,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,0BAA0B,SAAS,aAAa,UAAU,gBAAgB,mBAAmB,YAAY,kBAAkB,iBAAiBD,GAEnJA,EAASM,EAAEmD,EAAE2sB,QAAQhwB,OAAOC,WAE9B,SAASC,EAAEmD,EAAE2sB,EAAQhwB,EAAOC,GAC5B,GAAIgwB,GAAkB,SAAS7vB,GAC7BC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKC,QAAQ4K,UAAY7K,KAAKK,IAAIgL,KAAK,SACvCrL,KAAKW,OAqKP,OAlKAd,GAAEK,OAAO0vB,EAAgBhvB,WACvBD,KAAK,WACHX,KAAKuD,MAAQ1D,EAAEG,KAAK6vB,UAAU7vB,KAAKC,UAAUyC,SAAS,4BAA4BkK,YAAY5M,KAAKK,KACnGL,KAAK8vB,WAAa9vB,KAAKuD,MAAM/C,SAAS,qBACtCR,KAAK8vB,WAAWrqB,OAAOzF,KAAKK,KAC5BL,KAAKK,IAAML,KAAK+vB,SAAW/vB,KAAKK,IAChCL,KAAKgwB,SAAWhwB,KAAK8vB,WAAWnsB,KAAK,aACrC3D,KAAKiwB,MAAQjwB,KAAKK,IAAIsD,KAAK,SAC3B3D,KAAKkO,MAAQlO,KAAKK,IAAIsD,KAAK,SAC3B3D,KAAKkwB,aACLlwB,KAAKmwB,gBAELnwB,KAAKowB,qBACLpwB,KAAKoB,SACLpB,KAAKqwB,oBAEPjvB,OAAQ,WACN,GAAIkF,GAAQtG,IACZA,MAAKswB,SAAShvB,GAAG,SAAS,uBAAuB,WAC/C,GAAIE,GAAQ3B,EAAEG,MACVuwB,EAAU/uB,EAAMiU,KAAK,WACrB5L,EAAQ1I,SAASK,EAAM6C,OAAO,EAC9BmsB,EAASlqB,EAAMypB,SAASpsB,KAAK,iBAAiBkG,EAAM,IACxD2mB,GAAOC,YAAY,OAAOF,GAASE,YAAY,QAAQF,KAEzD1wB,EAAEoB,QAAQK,GAAG,SAAS,SAASC,GAC7ByB,EAAE4pB,MAAM,WACNtmB,EAAMoqB,QAAQjqB,KAAKG,MAAMN,EAAMwpB,WAAWlpB,WAC1C,GACFN,EAAMqqB,iBAER3wB,KAAK8vB,WAAWxuB,GAAG,SAAS,WAC1BgF,EAAMoqB,QAAQ3L,WAAWze,EAAMwpB,WAAW/K,gBAE5C/kB,KAAK4wB,YAAYtvB,GAAG,QAAQ,SAASC,GACnCA,EAAE0C,oBAEJjE,KAAKswB,SAAShvB,GAAG,QAAQ,+BAA+B,WACtDgF,EAAMsqB,YAAYjtB,KAAK,sCAAsC8R,KAAK,WAAU,GAAMnR,QAAQ,aAG9F4rB,WAAY,WACV,GAAI5pB,GAAQtG,IACZA,MAAKiwB,MAAMtsB,KAAK,MAAM2B,KAAK,SAAS7D,GAClC,GAAID,GAAQ3B,EAAEG,MACVoE,EAAO5C,EAAM4C,MACjBA,GAAKysB,SAAWzsB,EAAKysB,UAAY,EACjCrvB,EAAMivB,YAAY,UAAUrsB,IAAQA,EAAKI,SAE3CxE,KAAKkO,MAAM1N,WAAW8E,KAAK,WAEzBzF,EAAEG,MAAMQ,WAAW8E,KAAK,SAAS7D,GAC/B,GAAIqvB,GAAQjxB,EAAEG,MACVoE,EAAOkC,EAAM2pB,MAAMtsB,KAAK,MAAM1B,GAAGR,GAAO2C,MAC5C0sB,GAAML,YAAY,UAAUrsB,IAAQA,EAAKI,OACzCssB,EAAMpuB,SAAS,YAAY0B,GAAQA,EAAKysB,UAAY,SAI1DV,cAAe,WAEbnwB,KAAKswB,SAAWzwB,EAAEG,KAAK+wB,gBACvB/wB,KAAKswB,SAAS1H,QAAQ5oB,KAAKgwB,UAC3BhwB,KAAK8vB,WAAW7hB,OAAOjO,KAAKswB,UAE5BtwB,KAAKgxB,oBAEPA,iBAAkB,WAChB,GAAI1qB,GAAQtG,IACZA,MAAK4wB,YAAc/wB,EAAE,oDAAoD0H,SAASvH,KAAKswB,SAAS3sB,KAAK,iBACrG3D,KAAKiwB,MAAMtsB,KAAK,MAAM2B,KAAK,SAAS7D,GAClC,GAAID,GAAQ3B,EAAEG,MACVoE,EAAO5C,EAAM4C,MACjB5C,GAAM4C,KAAK,WAAWA,EAAKysB,UAAY,GACvCzsB,EAAO5C,EAAM4C,OACb5C,EAAMkB,SAAS,WAAW0B,EAAKysB,UAC/B7tB,EAAE9C,OAAOkE,GAAM6sB,MAAMzvB,EAAMiM,OAAOyjB,OAAOzvB,GACzC,IAAI0vB,GAAMtxB,EAAEyG,EAAMZ,QAAQtB,GAC1BkC,GAAMsqB,YAAYnrB,OAAO0rB,MAG7Bd,iBAAkB,WAChB,GAAI/pB,GAAQtG,IACZA,MAAK4wB,YAAYpwB,WAAW8E,KAAK,SAAS7D,GACxC,GAAID,GAAQ3B,EAAEG,MACVoxB,EAAY5vB,EAAMmC,KAAK,wBACvB0tB,EAAM/qB,EAAM2pB,MAAMtsB,KAAK,SAASytB,EAAU/sB,MAAM,IACpD+sB,GAAU3b,KAAK,UAAgC,QAAtB4b,EAAI5qB,IAAI,eAGrC2pB,mBAAoB,WAElB,GAAGT,EAAU,EAEX,YADA3vB,KAAK0wB,QAAU7wB,EAAE,SAGnB,IAAIyG,GAAQtG,KACRK,EAAML,KAAKK,IAAImkB,QAAQ9hB,SAAS,yBAAyB2R,WAAW,cACxErU,MAAK+vB,SAAW/vB,KAAK+vB,SAAS7W,IAAI7Y,GAClCL,KAAK0wB,QAAU7wB,EAAE,qCAAqC4F,OAAOpF,GAC7DL,KAAKK,IAAI4N,OAAOjO,KAAK0wB,SACrB1wB,KAAK0wB,QAAQjqB,KACXvF,OAAOlB,KAAKiwB,MAAM/uB,SAAS,EAC3B0F,MAAM5G,KAAK8vB,WAAWlpB,QACtBvE,IAAKrC,KAAKC,QAAQc,OAClB4F,QAAS,SAGXL,EAAMwpB,WAAWnuB,UACfZ,OAAQuF,EAAMrG,QAAQc,OACtBa,QAAS,SAASC,GACA,QAAbA,EACDyE,EAAMoqB,QAAQjqB,KACZE,QAAS,QACTD,SAAU,UAGZJ,EAAMoqB,QAAQjqB,KACZE,QAAS,aAOnB2qB,cAAe,WACb1xB,EAAS4C,cAEXmuB,aAAc3tB,EAAEmC,SAAS,WAEpBwqB,EAAU,IACX3vB,KAAKK,IAAIsD,KAAK,YAAYd,YAAY,QACtC7C,KAAKK,IAAIsD,KAAK,YAAYd,YAAY,SAExC7C,KAAKqwB,oBACL,KACF3qB,QAAS1C,EAAEmD,UACT,oGACAC,KAAK,KACP2qB,aAAc/tB,EAAEmD,UACd,yCACE,0BACE,gFACA,2CACE,oCACA,kFACF,SACF,SACF,UACAC,KAAK,KACPypB,UAAW7sB,EAAEmD,UACX,4EACAC,KAAK,OAETvG,EAAEK,OAAO0vB,GACP3vB,SACEc,OAAQ,KAIZpB,EAAOoD,QAAQ,kBAAkB6sB,GAE1BA;CClLR,SAAUrwB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,gBAAgB,SAAS,aAAa,iBAAiBD,GAE9DA,EAASG,OAAOsD,EAAErD,SAEpB,SAASE,EAAEmD,EAAErD,GACb,GAAI4xB,GAAQ,SAASxxB,GACnBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKW,OAgEP,OA7DAd,GAAEK,OAAOqxB,EAAM3wB,WACbD,KAAO,WACL,GAAI0K,GAAK6C,CACTA,GAAQrO,EAAE2H,SAASC,MACnB4D,EAAOrL,KAAKK,IAAIU,SAChBywB,QACE5qB,MAAMsH,EAAMtH,QACZ1F,OAAOgN,EAAMhN,UAGfmK,EAAKzE,MAAO5G,KAAKK,IAAIwH,aACrBwD,EAAKnK,OAAQlB,KAAKK,IAAIkG,cACtB8E,EAAK4a,MAAOuL,OAAO5qB,MAAMyE,EAAKzE,MAAMyE,EAAKvD,KACzCuD,EAAK+f,OAAQoG,OAAOtwB,OAAOmK,EAAKnK,OAAOmK,EAAKhJ,IAC5CrC,KAAKqL,KAAOA,EACZrL,KAAKsN,gBAEPA,aAAc,WACZ,GACImkB,GAASC,EADTrwB,EAAOrB,IAEXA,MAAK8K,QAAUjL,EAAEG,KAAKmG,YACtBsrB,EAAWzxB,KAAK8K,QAAQnH,KAAK,qBAC7B+tB,EAAa1xB,KAAK8K,QAAQnH,KAAK,uBAC/B8tB,EAAShrB,KACPG,MAAM5G,KAAKqL,KAAKzE,MAChB1F,OAAOlB,KAAKqL,KAAKnK,OACjBmB,IAAIrC,KAAKqL,KAAKhJ,IACdyF,KAAK9H,KAAKqL,KAAKvD,OAEjB4pB,EAAWjrB,KACTG,MAAM5G,KAAKqL,KAAKzE,MAChB1F,OAAOlB,KAAKqL,KAAKnK,OACjBywB,eAAe3xB,KAAKqL,KAAKhJ,IACzBuvB,iBAAiB5xB,KAAKqL,KAAK4a,MAC3B4L,kBAAkB7xB,KAAKqL,KAAK+f,OAC5B0G,gBAAgB9xB,KAAKqL,KAAKvD,OACzBxG,GAAG,QAAQ,WACZD,EAAK0G,WAEP0pB,EAAS5jB,KAAK7N,KAAKC,QAAQ8xB,SAC3BlyB,EAAE2H,SAASC,MAAMhC,OAAOzF,KAAK8K,UAE/B/C,OAAQ,WACN/H,KAAKK,IAAI+D,KAAK,QAAQ,MACtBpE,KAAK8K,QAAQ/C,UAEf5B,SAAUnD,EAAEmD,UACV,yBACE,uCACA,yCACF,UACAC,KAAK,OAETvG,EAAEK,OAAOqxB,GACPtxB,SACE8xB,QAAS,MAIbpyB,EAAOoD,QAAQ,QAAQwuB,GAEhBA;CClER,SAAUhyB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,oBAAoB,SAAS,aAAa,gBAAgB,iBAAiBD,GAElFA,EAASM,EAAEmD,EAAErD,SAEf,SAASE,EAAEmD,EAAErD,GACb,GAAIqyB,GAAY,SAASjyB,GACvBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKW,OA8JP,OA5JAd,GAAEK,OAAO8xB,EAAUpxB,WACjBD,KAAO,WAELX,KAAKK,IAAIoG,KACPC,SAAS,WACTge,SAAS,WAEX1kB,KAAK+M,OAAS/M,KAAKK,IAAIG,WACvBR,KAAK+M,OAAOtG,KACVG,MAAQ5G,KAAK+M,OAAOnG,QACpB1F,OAASlB,KAAK+M,OAAO7L,WAEvBlB,KAAK+M,OAAOa,SAASlL,SAAS,qBACD,YAA1B1C,KAAKC,QAAQ4B,WAAyB7B,KAAK+M,OAAOtG,KAAK2d,QAAM,SAChEpkB,KAAKykB,SAAW5kB,EAAE,wCAAwC4G,KACxDC,SAAS,WAAWoB,KAAK,EAAEzF,IAAI,IAC9BoD,OAAOzF,KAAK+M,QAAQxF,SAASvH,KAAKK,KAER,cAA1BL,KAAKC,QAAQ4B,WAA2B7B,KAAKykB,SAAShe,KAAKG,MAAM,SAEpE5G,KAAKgmB,QAAU,IACf,IAAIpf,GAAQ5G,KAAK+M,OAAO9K,GAAG,GAAG4F,YAAW,GACrC3G,EAASlB,KAAK+M,OAAO9K,GAAG,GAAGsE,aAAY,EAC3CvG,MAAKC,QAAQsF,MACXqB,MAAQA,EACR1F,OAASA,GAGkB,cAA1BlB,KAAKC,QAAQ4B,WACd7B,KAAKykB,SAAShe,KAAKvF,OAAOA,EAAOlB,KAAK+M,OAAOtK,SAC7CzC,KAAKK,IAAIoG,KACPG,MAAQA,EACR1F,OAASA,EAAOlB,KAAKC,QAAQgyB,kBAG/BjyB,KAAKykB,SAAShe,KAAKG,MAAMA,EAAM5G,KAAK+M,OAAOtK,SAC3CzC,KAAKK,IAAIoG,KACPG,MAAQA,EAAM5G,KAAKC,QAAQgyB,cAC3B/wB,OAASA,KAIblB,KAAKK,IAAIqC,SAAS,gBAClB1C,KAAKkyB,cACLlyB,KAAKmyB,OAAO,GACTnyB,KAAKC,QAAQmyB,OACXpyB,KAAKC,QAAQoyB,YACdryB,KAAKK,IAAIukB,MAAM/kB,EAAEgE,MAAM7D,KAAKsyB,UAAUtyB,MAAMH,EAAEgE,MAAM7D,KAAKuyB,SAASvyB,OAEpEA,KAAKuyB,aAGTL,YAAc,WACZ,GAAiBtK,GAAbthB,EAAQtG,IACZ,OAAIA,MAAKC,QAAQuyB,SAIjBxyB,KAAKyyB,YAAc5yB,EAAE,4CAA4C0H,SAASvH,KAAKK,KAE/EunB,EAAQ7gB,KAAKC,KAAKhH,KAAK+M,OAAOtK,OAAO6D,EAAMrG,QAAQyyB,aACnD1vB,EAAEsC,KAAKtC,EAAEyH,MAAMmd,GAAO,SAASriB,EAAKC,GAClC,GAAImtB,EAEFA,GADGrsB,EAAMrG,QAAQ2yB,cACXtsB,EAAMrG,QAAQ2yB,cAAc/yB,EAAEG,MAAMwF,GAEpC3F,EAAE,0BAA0B2F,EAAE,QAEtCc,EAAMmsB,YAAYhtB,OAAOktB,KAG3B3yB,KAAKyyB,YAAYnxB,GAAGtB,KAAKC,QAAQyJ,MAAM,IAAI,WACzC,GAAIlI,GAAQ3B,EAAEG,KACdsG,GAAM6rB,OAAO3wB,EAAMC,QAAQ6E,EAAMrG,QAAQyyB,eAE3C1yB,KAAKK,IAAIiB,GAAG,SAAS,SAASC,GAC5B,GAAIE,EACJA,GAAQsF,KAAKmoB,MAAM3tB,EAAEE,MAAM6E,EAAMrG,QAAQyyB,aACzCpsB,EAAMmsB,YAAYjyB,WAAWyB,GAAGR,GAAOiB,SAAS,UAC/CE,SAAS,WAAWC,YAAY,iBAGhCyD,EAAMrG,QAAQyyB,YAAY,IAC3B1yB,KAAKgoB,KAAO,WACV,GAAIvjB,EACJA,GAASzE,KAAK6yB,WAAW,EAAEvsB,EAAMrG,QAAQyyB,YACtCjuB,EAAO,IAAGA,EAAOsC,KAAKC,KAAKhH,KAAK+M,OAAOtK,OAAO6D,EAAMrG,QAAQyyB,cAC5DjuB,EAAOzE,KAAK+M,OAAOtK,SAAQgC,EAAO,GACrCzE,KAAKmyB,OAAO1tB,IAEdzE,KAAKioB,KAAO,WACV,GAAIxjB,EACJA,GAASzE,KAAK6yB,WAAW,EAAEvsB,EAAMrG,QAAQyyB,YACtCjuB,EAAO,IAAGA,EAAOsC,KAAKC,KAAKhH,KAAK+M,OAAOtK,OAAO6D,EAAMrG,QAAQyyB,cAC5DjuB,EAAOzE,KAAK+M,OAAOtK,SAAQgC,EAAO,GACrCzE,KAAKmyB,OAAO1tB,YAxCdzE,KAAKyyB,YAAc5yB,EAAE,WA8CzBsyB,OAAS,SAAS1wB,EAAMI,GAetB,GAZAJ,GAASzB,KAAK+M,OAAOtK,OAAOhB,GAASzB,KAAK+M,OAAOtK,OAEpB,cAA1BzC,KAAKC,QAAQ4B,UACdixB,QAAUzwB,KAAKrC,KAAKC,QAAQsF,KAAKrE,OAAOO,GAExCqxB,QAAUhrB,MAAM9H,KAAKC,QAAQsF,KAAKqB,MAAMnF,GAE1CzB,KAAKykB,SAASviB,MAAK,GAAMC,QAAQ2wB,QAC/BxwB,SAAWtC,KAAKC,QAAQqC,SACxBkM,OAASxO,KAAKC,QAAQuO,SAGrBxO,KAAKgmB,SAAWvkB,EAAO,OAAO,CACjCzB,MAAKgmB,QAAUvkB,CACf,IAAIiI,GAAQ7J,EAAEmM,MAAM,UAAUvK,MAAQA,GACtCzB,MAAKK,IAAIiE,QAAQoF,IAEnBmpB,SAAU,WACR,MAAO7yB,MAAKgmB,SAAW,GAEzBgC,KAAO,WACLhoB,KAAKmyB,OAAOnyB,KAAK6yB,WAAW,IAE9B5K,KAAO,WACLjoB,KAAKmyB,OAAOnyB,KAAK6yB,WAAW,IAE9BN,SAAU,WACRrN,cAAcllB,KAAKglB,OACnBhlB,KAAKglB,MAAQC,YAAYplB,EAAEgE,MAAM7D,KAAKioB,KAAKjoB,MAAMA,KAAKC,QAAQ2sB,QAEhE0F,UAAW,WACTpN,cAAcllB,KAAKglB,UAGvBnlB,EAAEK,OAAO8xB,GACP/xB,SACE4B,UAAY,WACZ6H,MAAQ,QACRuoB,cAAgB,EAChBO,SAAU,EACVE,YAAc,EACdN,MAAO,EACPC,YAAY,EACZzF,MAAQ,IACRtqB,SAAW,IACXkM,OAAS,iBAKb7O,EAAOoD,QAAQ,YAAYivB,GAEpBA;CCnLR,SAAUzyB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,iBAAiB,SAAS,gBAAgB,oBAAoBD,GAErEA,EAASG,OAAOC,OAAOC,WAEzB,SAASC,EAAEF,EAAOC,GAElB,GAAImzB,GAAS,SAAShzB,GACpBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzBsS,QAA7BrS,KAAKC,QAAQ+yB,eACdhzB,KAAKC,QAAQc,OAASf,KAAKC,QAAQgzB,cAErCjzB,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IAC1BN,KAAKW,OAiDP,OA9CAd,GAAEK,OAAO6yB,EAAOnyB,WACdD,KAAM,WACJX,KAAKkzB,eACL,IAAIC,GAAkBnzB,KAAKC,QAAQ2B,OACnC5B,MAAKC,QAALD,UAAkD,UAA5BA,KAAKK,IAAIoG,IAAI,YACnCzG,KAAKC,QAAQiB,OAASlB,KAAKK,IAAIkG,aAAY,GAE3CvG,KAAK2B,SAAW,GAAI/B,GAASC,EAAEK,UAAWF,KAAKC,SAC7C6B,QAAS9B,KAAK+c,QACdnb,QAAS/B,EAAEgE,MAAM,SAAShC,GACxB,GAAIuxB,GAAgBpzB,KAAKC,QAAQ4B,UAAU4V,QAAQ5V,MAC/CwxB,EAAgBD,EAAgBpzB,KAAKC,QAAQiB,OAAS,EAE1DlB,MAAKC,QAALD,WAAuBA,KAAKszB,SAASpyB,OAAOmyB,GAC5CrzB,KAAKK,IAAIowB,YAAYzwB,KAAKC,QAAQszB,WAAYH,GAE1CD,GACFA,EAAgB/qB,KAAKpI,KAAM6B,IAE5B7B,UAGPkzB,cAAgB,WACdlzB,KAAKK,IAAIiD,KAAK,kCACdtD,KAAKszB,SAAWtzB,KAAKK,IAAImD,SAASd,SAAS1C,KAAKC,QAAQuzB,cACxDxzB,KAAK+c,QAAU/c,KAAKszB,SAAS,IAE/BjR,QAAU,WACJriB,KAAKK,IAAImD,SAAS,KAAOxD,KAAK+c,UAChC/c,KAAK2B,SAAS0gB,UACdriB,KAAKK,IAAIwC,YAAY7C,KAAKC,QAAQszB,YAAYE,aAKpD5zB,EAAEK,OAAO6yB,GACP9yB,SACEszB,WAAY,QACZC,aAAc,GACd3xB,UAAW,aACXD,QAAS/B,EAAEiD,QAIfnD,EAAOoD,QAAQ,SAASgwB,GAEjBA;CCzDR,SAAUxzB,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,cAAc,SAAS,aAAa,gBAAgB,yBAAyBD,GAEpFA,EAASG,OAAOsD,EAAErD,SAEpB,SAASE,EAAEmD,EAAErD,GACb,GAAI+zB,GAAM,SAAS3zB,GACD,SAAbA,EAAI2J,QACL3J,EAAI2J,MAAQ,cAEd1J,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IAAIoC,SAAS,UAC9B1C,KAAKW,OAyEP,OAtEAd,GAAEK,OAAOwzB,EAAI9yB,WACXD,KAAO,WAEiD,GAAnDX,KAAKK,IAAIsD,KAAK,6BAA6BlB,OAC5CzC,KAAK2zB,cAEL3zB,KAAK4zB,cAEP5zB,KAAKC,QAAQykB,UAAY1kB,KAAK0kB,UAC9B,IAAImP,GAAW7zB,KAAK8zB,QAAQtzB,SAAS,WAAWiB,OAChDoyB,GAAWA,GAAU,EAAIA,EAAW,EACpC7zB,KAAK+B,OAAO8xB,GACZ7zB,KAAKoB,SACLpB,KAAKK,IAAIkM,GAAG,YAAcvM,KAAKK,IAAI0zB,OAAO,MAE5C3yB,OAAQ,WACN,GAAIC,GAAOrB,IACXA,MAAK8zB,QAAQxyB,GAAGtB,KAAKC,QAAQyJ,MAAM,IAAI,WACrC,GAAIjI,GAAQ5B,EAAEG,MAAMyB,OACpBJ,GAAKU,OAAON,MAGhBM,OAAQ,SAASN,GACfzB,KAAKg0B,QAAUh0B,KAAK8zB,QAAQtzB,WAAWyB,GAAGR,GAC1CzB,KAAKi0B,QAAUj0B,KAAKk0B,WAAWjyB,GAAGR,GAClCzB,KAAK8zB,QAAQtzB,WAAWqC,YAAY,UACpC7C,KAAKk0B,WAAWrxB,YAAY,UAC5B7C,KAAKg0B,QAAQtxB,SAAS,UACtB1C,KAAKi0B,QAAQvxB,SAAS,WAExBkxB,YAAa,WACX5zB,KAAK8zB,QAAU9zB,KAAKK,IAAIsD,KAAK,6BAC7B3D,KAAKm0B,SAAWn0B,KAAK8zB,QAAQtzB,WAC7BR,KAAKk0B,WAAal0B,KAAKK,IAAIsD,KAAK,kCAElCgwB,YAAa,WACX3zB,KAAKm0B,SAAWn0B,KAAKK,IAAIG,SAAS,KAClCR,KAAKk0B,WAAal0B,KAAKK,IAAIG,SAAS,OAAOkC,SAAS,eACpD,IAAI0xB,GAAWv0B,EAAE,6BAA6Bw0B,UAAUr0B,KAAKK,KACzDi0B,EAAaz0B,EAAE,+BAA+B0H,SAASvH,KAAKK,IAChEL,MAAK8zB,QAAUj0B,EAAE,4BAA4B0H,SAAS6sB,GAEtDE,EAAW7uB,OAAOzF,KAAKk0B,YACvBl0B,KAAK8zB,QAAQruB,OAAOzF,KAAKm0B,WAE3BzP,SAAU,WACR,GAAIrjB,GAAOrB,IACXA,MAAK8zB,QAAQS,gBACb,IAAI7mB,GAAc1N,KAAKK,IAAIsD,KAAK,yCAAyC8J,KAAK,MAC1E8mB,EAAiBv0B,KAAK8zB,QAAQ1vB,KAAK,iBACvCmwB,GAAeC,WAAWlzB,GAAG,SAAS,WACpC,GAAIG,GAAQ5B,EAAEG,MAAMqE,KACpBqJ,GAAYhL,SAAS,WACrBrB,EAAKU,OAAON,KAEdzB,KAAK8zB,QAAQxyB,GAAGtB,KAAKC,QAAQyJ,MAAM,KAAK,WACtC6qB,EAAeC,WAAWnwB,IAAI,IAAIC,QAAQ,UAC1CoJ,EAAY7K,YAAY,WAAW4K,KAAK,WAI9C5N,EAAEK,OAAOwzB,GACPzzB,SACEyJ,MAAO,QACPgb,UAAU,KAId/kB,EAAOoD,QAAQ,MAAM2wB,GAEdA;CCtFR,SAAUn0B,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,yBAAyB,SAAS,aAAa,gBAAgB,yBAAyBD,GAE/FA,EAASG,OAAOsD,EAAErD,SAEpB,SAASE,EAAEmD,EAAErD,GAEb,GAAI80B,GAAM,EAENC,GACFC,YACE/tB,MAAO,QACPguB,UAAW,cAEbC,UACEjuB,MAAO,SACPguB,UAAW,gBAIXE,EAAiB,SAAS/0B,GAC5BC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEE,EAAIO,IACjBN,KAAKW,OAsEP,OAnEAd,GAAEK,OAAO40B,EAAel0B,WACtBD,KAAM,WACJ8zB,IACAz0B,KAAK+0B,IAAM,EACX/0B,KAAK4G,MAAQ,EACb5G,KAAKg1B,SAAW,EAChBh1B,KAAKw0B,WAAa30B,EAAE,0CACpBG,KAAKK,IAAIuD,MAAM5D,KAAKw0B,YACpBx0B,KAAKw0B,WAAWnpB,KAAK,OAAO,SAASopB,GAAKrqB,iBAC1CpK,KAAKuC,WAEPA,QAAS,WACP,GAAIlB,GAAOrB,IACXA,MAAK+0B,IAAM,EACX/0B,KAAK4G,MAAQ5G,KAAKK,IAAIuG,OACtB,IAAIxB,GAAOpF,KAAKK,IAAIG,WAAW0Y,IAAIlZ,KAAKw0B,WAAWh0B,YAAYoN,QAC/D5N,MAAKg1B,SAAW,EAChBn1B,EAAEyF,KAAKF,EAAK,SAAST,GACnBtD,EAAK6X,IAAIlZ,MACTqB,EAAK0zB,QAEP/0B,KAAKi1B,aAEP/b,IAAK,SAAS3T,GACZ,GAAI2vB,GAAKl1B,KAAKm1B,KAAK5vB,EACnBvF,MAAKw0B,WAAWpwB,KAAK,kBAAkB0G,QAAQC,QAAQmqB,IAEzDC,KAAM,SAAS5vB,GACb,GAAIyvB,EAIJ,OAHEI,MAAOV,EAAO10B,KAAKC,QAAQ4B,WAC3BwzB,MAAQx1B,EAAE0F,GAETvF,KAAKw0B,WAAWh0B,WAAWiC,OAAO,GAEnCzC,KAAKw0B,WAAW/uB,OAAOzF,KAAK+jB,aAAaxe,KAClC,IAETvF,KAAKK,IAAIoF,OAAO4vB,OAChBL,EAAWh1B,KAAKg1B,SAASK,MAAMD,KAAKR,YAAW,GAE5CI,EAASh1B,KAAK4G,OAEfyuB,MAAMznB,SACN5N,KAAKw0B,WAAW/uB,OAAOzF,KAAK+jB,aAAaxe,KAClC,IAETvF,KAAKg1B,SAAWA,GACT,KAETC,UAAW,WACTj1B,KAAKw0B,WAAWpqB,eAAe,YAEjC2Z,aAAc,SAASxe,GACrB,GAAIlF,GAAMR,EAAE,oBAGZ,OAFAQ,GAAIgE,IAAIrE,KAAK+0B,KACb10B,EAAIoN,KAAK5N,EAAE0F,GAAMkI,QACVpN,KAGXR,EAAEK,OAAO40B,GACP70B,SACE4B,UAAW,gBAIflC,EAAOoD,QAAQ,iBAAiB+xB,GAEzBA;CCpGR,SAAUv1B,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,eAAe,SAAS,gBAAgB,aAAaD,GAE5DA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GAGX,GAAI21B,GAAYz1B,EAAEoI,GAAGstB,KAEjBC,EAAO,SAASz1B,GAClBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IAE1Bg1B,EAAUltB,KAAKpI,KAAKK,IAAIL,KAAKC,SAE7BD,KAAKK,IAAI0zB,OAAO,KASlB,OANAl0B,GAAEK,OAAOs1B,EAAK50B,cACdf,EAAEK,OAAOs1B,MAGT71B,EAAOoD,QAAQ,OAAOyyB,GAEfA;CC1BR,SAAUj2B,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,qBAAqB,SAAS,gBAAgB,YAAY,yBAAyBD,GAE1FA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GAGX,GAAI81B,GAAkB51B,EAAEoI,GAAGytB,cAE3B71B,GAAE81B,WAAWC,SAAS,UACpBC,cAAe,OACfC,SAAU,KACVC,SAAU,KACVC,WAAY,KACZC,WAAY,KACZC,aAAc,KACdC,aAAc,KACdC,aAAc,KACd5tB,YAAa,OACbH,UAAW,KACXguB,WAAY,QACZC,WAAY,GACZC,SAAU,KAAM,KAChBC,SAAU,KAAM,KAChBC,OAAO,GAET52B,EAAE81B,WAAW5d,YAAYlY,EAAE81B,WAAWC,SAAS,SAE/C,IAAIc,GAAa,SAAS32B,GACxBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IAE1Bm1B,EAAgBrtB,KAAKpI,KAAKK,IAAIL,KAAKC,SASrC,OANAJ,GAAEK,OAAOw2B,EAAW91B,cACpBf,EAAEK,OAAOw2B,MAGT/2B,EAAOoD,QAAQ,aAAa2zB,GAErBA;CC3CR,SAAUn3B,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,uBAAuB,SAAS,gBAAgB,mBAAmBD,GAE1EA,EAASG,OAAOC,SAElB,SAASE,EAAEF,GAGX,GAAIg3B,GAAe,SAAS52B,GAC1BC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQC,UAAUC,OAAOH,QAAQF,GACzDC,KAAKK,IAAMR,EAAEG,KAAKC,QAAQK,IACe,QAAtCN,KAAKK,IAAI,GAAGgX,SAAShL,cACtBrM,KAAK42B,MAAQ52B,KAAKK,IAElBL,KAAK42B,MAAQ52B,KAAKK,IAAIsD,KAAK,QAE7B3D,KAAK42B,MAAMjkB,SAAS5S,GAQtB,OALAF,GAAEK,OAAOy2B,EAAa/1B,cACtBf,EAAEK,OAAOy2B,MAETh3B,EAAOoD,QAAQ,eAAe4zB,GAEvBA;CCxBR,SAAUp3B,GACc,kBAAXC,SAAyBA,OAAOC,IAC1CD,OAAO,oBAAoB,SAAS,aAAa,gBAAgB,iBAAiBD,GAElFA,EAASG,OAAOsD,EAAErD,SAEpB,SAASE,EAAEmD,EAAErD,GAEb,GAAIk3B,GAAY,SAAS92B,GACvBC,KAAKC,QAAUJ,EAAEK,QAAO,KAAQ22B,EAAU52B,QAAQF,GAClDC,KAAKK,IAAMR,EAAEE,EAAIO,IAAImG,KAAKC,SAAS,YACnC,IAAIowB,KACJj3B,GAAEK,OAAOF,MACP+2B,aAAe,WACbD,EAAW,GAAI9gB,OACfnW,EAAEyF,KAAKtC,EAAEyH,MAAMzK,KAAKC,QAAQ+2B,QAAQ,SAASv1B,EAAMw1B,GACjDH,EAAStsB,KAAK,MAGlB0sB,UAAY,SAASz1B,GACnB,MAAOq1B,GAASr1B,IAAUq1B,GAE5BK,UAAY,SAAS11B,EAAMP,GACzB41B,EAASr1B,GAASP,GAEpBk2B,aAAe,WACb,MAAOrwB,MAAK4R,IAAI7C,MAAM,KAAKghB,IAE7BO,aAAe,WACb,MAAOtwB,MAAK2R,IAAI5C,MAAM,KAAKghB,IAE7BQ,YAAc,WACZ,MAAOt0B,GAAE8zB,GAAUrf,QAAQzX,KAAKo3B,iBAAmB,KAIvDp3B,KAAK+2B,eACL/2B,KAAKW,OAwFP,OAtFAd,GAAEK,OAAO22B,EAAUj2B,WACjBD,KAAO,WACL,GAAI2F,GAAQtG,IACZoF,MAAOpF,KAAKK,IAAIG,WAAWoN,SAAS2pB,UACpCjxB,EAAMb,OAAOL,OAEfK,OAAS,SAASL,GAChB,GAAIkB,GAAQtG,IACToF,aAAgBvF,KACjBuF,EAAOA,EAAKmyB,WAEV13B,EAAEqf,QAAQ9Z,KACZA,GAAQA,IAEVvF,EAAEyF,KAAKF,EAAK,WACV,GAAIiwB,GAAQx1B,EAAEG,MAAMyG,KAAK+wB,WAAW,WAAWjwB,SAASjB,EAAMjG,KAC1Do3B,GACF7wB,MAAQyuB,EAAMxtB,YAAW,GACzB3G,OAASm0B,EAAM9uB,aAAY,IAGzB9E,EAAQ6E,EAAMgxB,cACdI,EAAYpxB,EAAM8wB,cAEtB/B,GAAM5uB,KACJC,SAAW,WACXoB,KAAOrG,EAAMg2B,EAAS7wB,MACtBvE,IAAMq1B,IAERpxB,EAAM6wB,UAAU11B,EAAMi2B,EAAUD,EAASv2B,UAE3ClB,KAAKK,IAAIa,OAAOlB,KAAKq3B,gBACrBr3B,KAAK8D,KAAKsB,IAEZtB,KAAO,SAASsB,GACd,GAAIkB,GAAQtG,KACRuO,EAAKjI,EAAMrG,QAAQsO,EACvB1O,GAAEyF,KAAKgB,EAAMrG,QAAQ03B,KAAKvyB,GAAM,WAC9B,GAAIiwB,GAAQx1B,EAAEG,KACdsG,GAAMjG,IAAIusB,MAAMre,EAAGqe,OAAOgL,MAAM,WAC9B,GAAIlxB,GAAW2uB,EAAM3uB,WACjBmxB,EAAUh4B,EAAEK,QAAQs3B,WAAW,WAAW9wB,EAASJ,EAAMrG,QAAQ63B,KAAKpxB,EAAS2uB,IAC/E0C,EAAQl4B,EAAEK,OAAOwG,EAASJ,EAAMrG,QAAQ+3B,GAAGtxB,EAAS2uB,GACxDA,GAAM5uB,IAAIoxB,GAAS11B,QAAQ41B,GACzBz1B,SAAWiM,EAAGjM,SACdkM,OAASD,EAAGC,SAEd3O,EAAEyG,EAAMjG,KAAK43B,eAInB11B,QAAU,WACRvC,KAAK+2B,eACL/2B,KAAKyF,OAAOzF,KAAKK,IAAIoG,KAAKvF,OAAO,IAAIgB,MAAK,GAAK,GAAM1B,WAAWoN,SAAS1L,MAAK,GAAK,OAGvFrC,EAAEK,OAAO22B,GACP52B,SACE+2B,OAAS,EACTzoB,IACEqe,MAAQ,IACRtqB,SAAW,IACXkM,OAAS,UAEXspB,KAAO,SAASpxB,EAAS2uB,GACvB,OACEvtB,KAAO,IACPzF,IAAM,EACN4M,QAAU,IAGd+oB,GAAK,SAAStxB,EAAS2uB,GACrB,OACEvtB,KAAOpB,EAASoB,KAChBzF,IAAMqE,EAASrE,IACf4M,QAAU,IAGd0oB,KAAO,SAASvyB,GACd,MAAOA,OAKbzF,EAAOoD,QAAQ,YAAY8zB,GAEpBA","file":"../../js/plugin.js","sourcesContent":["/**\r\n * 将导航和内容绑定，滚动到相应内容区导航高亮，点击相应导航滚动到相应内容区\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.activemenu',['jquery','jquery.widget','jquery.waypoints'],factory);\r\n  } else {\r\n    factory( jQuery,widget,Waypoint );\r\n  }\r\n}(function($,widget,Waypoint){\r\n\r\n  var Activemenu = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    \r\n    this.$el = $(this.options.el);\r\n    this.$navs = this.$el.children();\r\n    this.$panels = $(this.options.panels);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Activemenu.prototype,{\r\n    init: function(){\r\n      var percent;\r\n      //activemenuOffset优先级高于offset属性\r\n      if(this.options.activemenuOffset || this.options.activemenuOffset==0){\r\n        this.options.offset = this.options.activemenuOffset;\r\n      }\r\n      if(percent=this.options.offset.match(/\\d+(?=%)/)){\r\n        this.options.offset = $(window).height()*parseInt(percent[0])/100;\r\n      }\r\n      this.events();\r\n    },\r\n    events: function(){\r\n      var that = this;\r\n\r\n      this.$el.on('click','>',function(e){\r\n        var $this = $(this);\r\n        var index = $this.index();\r\n        that.scrollTo(index);\r\n        return false;\r\n      });\r\n\r\n      this.$panels.waypoint({\r\n        offset : this.options.offset,\r\n        handler: function(direction) {\r\n          var index = $(this.element).index();\r\n          if(direction == \"up\" || direction == \"left\") index--;\r\n          that.select(index);\r\n        }\r\n      });\r\n    },\r\n    scrollTo: function(index){\r\n      var $panel = this.$panels.eq(index);\r\n      var offset = $panel.offset();\r\n      $('html,body').stop().animate({'scrollTop':offset.top-this.options.offset+1},this.options.duration);\r\n    },\r\n    refresh: function(){\r\n      Waypoint.refreshAll();\r\n    },\r\n    select: function(index){\r\n      if(index<0 || index>this.$navs.length) return;\r\n      this.$navs.eq(index).addClass(this.options.activeName)\r\n      .siblings('.'+this.options.activeName).removeClass(this.options.activeName);\r\n    }\r\n  });\r\n\r\n  $.extend(Activemenu,{\r\n    options: {\r\n      offset: 0,\r\n      duration: 600,\r\n      activeName: 'active',\r\n      handler: $.noop\r\n    }\r\n  });\r\n\r\n  widget.install('activemenu',Activemenu);\r\n\r\n  return Activemenu;\r\n\r\n}));\r\n","/**\r\n * [自动完成]\r\n * @param  {[string]} remote [远程数据源]\r\n * 数据格式为{state:1,msg:\"成功\",data:[\"aaa\",\"bbb\",...]}\r\n * @param  {[string]} field [查询字段名]\r\n * @param  {[object]} params [额外查询的参数]\r\n * \r\n * @return {[object]}         [AutoComplete实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.autoComplete',['jquery','underscore','jquery.widget','effect','outer'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget,Effect );\r\n  }\r\n}(function($,_,widget,Effect){\r\n\r\n  var AutoComplete = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this._list = [];\r\n    this.state = \"hide\";\r\n    this.$el = $(opt.el);\r\n    this.$el[0].autocomplete = \"off\";\r\n    this.init();\r\n  }\r\n\r\n  $.extend(AutoComplete.prototype,{\r\n    init: function(){\r\n      this.$el.wrap('<div class=\"ui-autocomplete\"></div>');\r\n      this.$wrap = this.$el.parent();\r\n      this.$box = $('<div class=\"ui-autocomplete-box\"><ul class=\"ui-autocomplete-list\"></ul></div>');\r\n      this.$list = this.$box.find('.ui-autocomplete-list');\r\n      this.$el.after(this.$box);\r\n      this.events();\r\n    },\r\n    events: function(){\r\n      var that = this;\r\n      var inBox = false;\r\n      this.$el.on('focus',$.proxy(this.show,this));\r\n      this.$el.on('keydown input',function(e){\r\n        switch(e.keyCode){\r\n          case 9:\r\n          case 37:\r\n          case 13:\r\n          case 39:{\r\n            break;\r\n          }\r\n          case 38:{\r\n            //up\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            that.move(-1);\r\n            return false;\r\n          }\r\n          case 40:{\r\n            //down\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            that.move(1);\r\n            return false;\r\n          }\r\n          default:{\r\n            that.debounceReq();\r\n          }\r\n        }\r\n      });\r\n      this.$el.on('autoCompleteChange',function(e,data){\r\n        that.$el.val(data);\r\n      });\r\n      this.$list.on('click','>li',function(e){\r\n        var index = $(this).index();\r\n        that.$el.trigger('autoCompleteChange',that._list[index]);\r\n        if(!e.isTrigger){\r\n          that.hide();\r\n          that.$el.trigger('autoCompleteSelect',that._list[index]);\r\n        }\r\n      });\r\n      this.$list.on('outer',function(e){\r\n        if(e.target == that.$el[0]) return;\r\n        that.hide();\r\n      });\r\n    },\r\n    req: function(key){\r\n      var that = this;\r\n      if(!key){\r\n        this.render([],key);\r\n        return;\r\n      }\r\n      var params = {}\r\n      params[this.options.field] = key;\r\n      $.get(this.options.remote,$.extend(params,this.options.params)).done(function(res){\r\n        if(!res) res=[];\r\n        that.render(res,key);\r\n      });\r\n    },\r\n    debounceReq: _.debounce(function(){\r\n      this.req(this.$el.val());\r\n    },300),\r\n    render: function(list,key){\r\n      var that = this;\r\n      this._list = list;\r\n      this.$list.empty();\r\n      _.each(list,function(item,i){\r\n        that.$list.append(that._liTemp({item:item,key:key}));\r\n      });\r\n\r\n      if(list.length == 0){\r\n        this.hide();\r\n      }else{\r\n        this.show();\r\n      }\r\n    },\r\n    move: function(step){\r\n      var len = this._list.length;\r\n      var $children = this.$list.children();\r\n      var index = $children.filter('.active').removeClass('active').index();\r\n      var active,num = index+step;\r\n      if(num<0){\r\n        if(index == -1){\r\n          num++;\r\n        }\r\n        active = num%len+len;\r\n      }else{\r\n        active = num%len;\r\n      }\r\n      $children.eq(active).addClass('active').trigger('click');\r\n    },\r\n    show: function(){\r\n      if(this.state == 'show' || this._list.length == 0) return;\r\n      this.$wrap.addClass('open');\r\n      new Effect({\r\n        el: this.$box,\r\n        type: 'fadeInDown',\r\n        speed: 'fast'\r\n      });\r\n      this.state = 'show';\r\n    },\r\n    hide: function(){\r\n      var that = this;\r\n      if(this.state == 'hide') return;\r\n      new Effect({\r\n        el: this.$box,\r\n        type: 'fadeOutUp',\r\n        speed: 'fast'\r\n      }).done(function(){\r\n        that.$wrap.removeClass('open');\r\n        that.state = 'hide';\r\n      });\r\n    },\r\n    _liTemp: _.template([\r\n      '<li class=\"<% if(key == item){ %>active<% } %>\"><span><%= item %></span></li>'\r\n    ].join(''))\r\n  });\r\n\r\n  $.extend(AutoComplete,{\r\n    options: {\r\n      field: 'keyword',\r\n      params: {}\r\n    }\r\n  });\r\n\r\n  widget.install('autoComplete',AutoComplete);\r\n\r\n  return AutoComplete\r\n\r\n}));","/**\r\n * [清除文本表单内容]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.clearInput',['jquery','jquery.widget'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n  function ClearInput(opt){\r\n    this.options = $.extend(true,{},ClearInput.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(ClearInput.prototype,{\r\n    init : function(){\r\n      var _this = this;\r\n      this.options.height = this.$el.outerHeight();\r\n      var height = this.options.height;\r\n      this.$button = $('<a href=\"javascript:;\">&times;</a>')\r\n        .css({\r\n          position : 'absolute',\r\n          display : 'none',\r\n          height : height,\r\n          width : height,\r\n          zIndex : 10000,\r\n          fontSize : Math.ceil(height*0.8),\r\n          fontWeight : 700,\r\n          color : \"#000\",\r\n          lineHeight : height-2+'px',\r\n          verticalAlign : 'middle',\r\n          textDecoration : 'none',\r\n          textAlign : 'center'\r\n        }).appendTo($(document.body));\r\n      this.$button.on('mousedown',$.proxy(this.clear,this));\r\n      this.$el.on('focus keyup input propertychange',function(e){\r\n        if(e.type == 'focus') _this.position();\r\n        _this.action();\r\n      });\r\n      this.$el.on('blur',$.proxy(this.hide,this));\r\n      this.position();\r\n      this.$el.on('remove',$.proxy(this.destory,this));\r\n    },\r\n    show : function(){\r\n      this.$button.show();\r\n    },\r\n    hide : function(){\r\n      this.$button.hide();\r\n    },\r\n    position : function(){\r\n      var width = this.$el.outerWidth();\r\n      var offset = this.$el.offset();\r\n      offset.left = offset.left + width - this.options.height;\r\n      this.$button.css(offset);\r\n    },\r\n    action : function(){\r\n      if(this.$el.val() !== \"\"){\r\n        this.show();\r\n      }else{\r\n        this.hide();\r\n      }\r\n    },\r\n    clear : function(){\r\n      this.$el.val('').trigger('focus');\r\n    },\r\n    destory : function(){\r\n      this.$button.remove();\r\n    }\r\n  });\r\n\r\n  $.extend(ClearInput,{\r\n    options : {\r\n    }\r\n  });\r\n\r\n  widget.install('clearInput',ClearInput);\r\n\r\n  return ClearInput;\r\n\r\n}));\r\n","/**\r\n * 借用jqueryui datepicker\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.datepicker',['jquery','jquery.widget','jquery.ui'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n\r\n  //保存jquery-ui的datepicker方法\r\n  window.$_fn_datepicker = $.fn.datepicker;\r\n\r\n  var Datepicker = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(this.options.el);\r\n\r\n    //使用jquery-ui的datepicker方法\r\n    $_fn_datepicker.call(this.$el,$.extend(this.options,{\r\n      closeText: \"关闭\", // Display text for close link\r\n      prevText: \"下个月\", // Display text for previous month link\r\n      nextText: \"上个月\", // Display text for next month link\r\n      currentText: \"今天\", // Display text for current month link\r\n      monthNames: [\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"], // Names of months for drop-down and formatting\r\n      monthNamesShort: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\", \"十一\", \"十二\"], // For formatting\r\n      dayNames: [\"星期天\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"], // For formatting\r\n      dayNamesShort: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"], // For formatting\r\n      dayNamesMin: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"]\r\n    }));\r\n\r\n    //由于jquery-ui的datepicker缓存属性与widget冲突，所以返回jqueryui给widget使用。\r\n    this._datepicker = this.$el.data('datepicker');\r\n    return this._datepicker;\r\n\r\n  }\r\n  $.extend(Datepicker.prototype,{});\r\n  $.extend(Datepicker,{\r\n    options: {}\r\n  });\r\n\r\n  //注册组件，覆盖jquery-ui的datepicker方法\r\n  widget.install('datepicker',Datepicker);\r\n\r\n  return Datepicker\r\n\r\n}));","/**\r\n * 级联日期选择\r\n * @param  {[string]} range [年份跨度]\r\n * @param  {[string]} format [取值格式化]\r\n * @return {[object]}         [DateSelect]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.dateSelect',['jquery','underscore','moment','jquery.widget','jquery.dropdownSelect'],factory);\r\n  } else {\r\n    factory( jQuery,_,moment,widget );\r\n  }\r\n}(function($,_,moment,widget){\r\n  window.moment = moment;\r\n  var DateSelect = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(DateSelect.prototype,{\r\n    init: function(){\r\n      var _date = moment(this.$el.val()).startOf(\"month\");\r\n      this.date = [_date.get('year'),_date.get('month'),_date.get('date')];\r\n      this.$el.wrap('<div class=\"ui-date-select\"></div>').hide();\r\n      this.$wrap = this.$el.parent();\r\n      this.$year = $('<select></select>').width(this.options.widths[0]).appendTo(this.$wrap);\r\n      this.$month = $('<select></select>').width(this.options.widths[1]);\r\n      this.options.hasmonth && this.$month.appendTo(this.$wrap);\r\n      this.$date = $('<select></select>').width(this.options.widths[2]);\r\n      this.options.hasmonth && this.options.hasdate && this.$date.appendTo(this.$wrap);\r\n      this.event();\r\n      this.updateYear();\r\n      isNaN(this.date[1]) && (this.date[1]= 0);\r\n      isNaN(this.date[2]) && (this.date[2]= 1);\r\n      this.$year.trigger('change');\r\n    },\r\n    event: function(){\r\n      var that = this;\r\n      this.$year.on('change',function(){\r\n        that.date[0]= parseInt(this.value);\r\n        that.updateYear();\r\n        that.updateMonth();\r\n        that.setValue();\r\n      });\r\n      \r\n      this.$month.on('change',function(){\r\n        that.date[1]= parseInt(this.value);\r\n        that.updateDate();\r\n        that.setValue();\r\n      });\r\n      this.$date.on('change',function(){\r\n        that.date[2]= parseInt(this.value);\r\n        that.setValue();\r\n      });\r\n    },\r\n    updateYear: function(){\r\n      var opts=[],year = this.date[0],that = this,cur;\r\n      this.$year.dropdownSelect('destory');\r\n      this.$year.empty();\r\n      cur = year;\r\n      if(isNaN(year)){\r\n        cur = new Date().getFullYear();\r\n      }\r\n      this.options.invalide && that.$year.append('<option value=\"\">全部</option>');\r\n      opts.push(cur);\r\n      for(var i=1;i<this.options.range+1;i++){\r\n        opts.unshift(cur-i);\r\n        opts.push(cur+i);\r\n      }\r\n      _.each(opts,function(item){\r\n        that.$year.append('<option value=\"'+item+'\"'+(item==year&&' selected')+'>'+item+'</option>');\r\n      });\r\n      this.$year.dropdownSelect();\r\n      this.$year.data('dropdownSelect').$selectMenu.width(88);\r\n    },\r\n    updateMonth: function(){\r\n      var opts=[],month = this.date[1],that = this;\r\n      this.$month.dropdownSelect('destory');\r\n      this.$month.empty();\r\n      for(var i=0;i<12;i++){\r\n        that.$month.append('<option value=\"'+i+'\"'+(i==month&&' selected')+'>'+(i+1)+'</option>');\r\n      }\r\n      this.$month.dropdownSelect({className:'ml5'});\r\n      //时间不合法就隐藏\r\n      this.$month.data('dropdownSelect').$widget.toggle(!isNaN(this.date[0]));\r\n    },\r\n    updateDate: function(){\r\n      var opts=[],\r\n          that = this,\r\n          date = this.date[2],\r\n          maxdate = moment(this.date).endOf('month').get('date');\r\n      this.$date.dropdownSelect('destory');\r\n      this.$date.empty();\r\n      for(var i=1;i<maxdate+1;i++){\r\n        that.$date.append('<option value=\"'+i+'\"'+(i==date&&' selected')+'>'+i+'</option>');\r\n      }\r\n      this.$date.dropdownSelect({className:'ml5'});\r\n      this.$date.data('dropdownSelect').$selectMenu.width(60);\r\n    },\r\n    setValue: function(){\r\n      if(isNaN(this.date[0])){\r\n        this.$el.val('');\r\n      }else{\r\n        this.$el.val(moment(this.date).format(this.options.format));\r\n      }\r\n      this.$el.trigger('change');\r\n    }\r\n  });\r\n\r\n  $.extend(DateSelect,{\r\n    options:{\r\n      hasmonth: true,\r\n      hasdate: true,\r\n      widths:[78,50,50],\r\n      invalide: true,//允许选择空时间\r\n      range: 20, //年份跨度（前后20年）\r\n      format: 'YYYY-MM-DD' //YYYY-MM-DD\r\n    }\r\n  });\r\n\r\n  widget.install('dateSelect',DateSelect);\r\n\r\n  return DateSelect\r\n\r\n}));","/* ========================================================================\r\n * Bootstrap: dropdown.js v3.3.4\r\n * http://getbootstrap.com/javascript/#dropdowns\r\n * ========================================================================\r\n * Copyright 2011-2015 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.dropdown',['jquery','effect'],factory);\r\n  } else {\r\n    factory( jQuery,Effect );\r\n  }\r\n}(function ($,Effect) {\r\n  'use strict';\r\n\r\n  // DROPDOWN CLASS DEFINITION\r\n  // =========================\r\n\r\n  var backdrop = '.dropdown-backdrop'\r\n  var toggle   = '[data-widget=\"dropdown\"]'\r\n  var Dropdown = function (element) {\r\n    var that = this;\r\n    var $el = $(element);    \r\n    $el.attr('data-widget','dropdown');\r\n    if(element.tagName.toLowerCase() == 'input'){\r\n      $el.on('click.bs.dropdown',function(e){\r\n        if(getParent($el).hasClass('open')) return false;\r\n        that.toggle.call(this,e);\r\n        return false;\r\n      });\r\n      return;\r\n    }\r\n    $(element).on('click.bs.dropdown', this.toggle)\r\n  }\r\n\r\n  Dropdown.VERSION = '3.3.4'\r\n\r\n  function getParent($this) {\r\n    var selector = $this.attr('data-target')\r\n\r\n    if (!selector) {\r\n      selector = $this.attr('href')\r\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\r\n    }\r\n\r\n    var $parent = selector && $(selector)\r\n\r\n    return $parent && $parent.length ? $parent : $this.parent()\r\n  }\r\n\r\n  function clearMenus(e) {\r\n    if (e && e.which === 3) return\r\n    $(backdrop).remove()\r\n    $(toggle).each(function () {\r\n      var $this         = $(this)\r\n      var $parent       = getParent($this)\r\n      var relatedTarget = { relatedTarget: this }\r\n\r\n      if (!$parent.hasClass('open')) return\r\n\r\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\r\n\r\n      $parent.trigger(e = $.Event('hide.dropdown', relatedTarget))\r\n\r\n      if (e.isDefaultPrevented()) return\r\n\r\n      $this.attr('aria-expanded', 'false')\r\n      \r\n      new Effect({\r\n        el: $parent.find('.ui-dropdown-menu'),\r\n        type: 'fadeOutUp',\r\n        speed: 'fast'\r\n      }).done(function(){\r\n        $parent.removeClass('open').trigger('hidden.dropdown', relatedTarget)\r\n      });\r\n\r\n    })\r\n  }\r\n\r\n  Dropdown.prototype.toggle = function (e) {\r\n    var $this = $(this)\r\n    if ($this.is('.disabled, :disabled')) return\r\n\r\n    var $parent  = getParent($this)\r\n    var isActive = $parent.hasClass('open')\r\n\r\n    clearMenus()\r\n\r\n    if (!isActive) {\r\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\r\n        // if mobile we use a backdrop because click events don't delegate\r\n        $(document.createElement('div'))\r\n          .addClass('dropdown-backdrop')\r\n          .insertAfter($(this))\r\n          .on('click', clearMenus)\r\n      }\r\n\r\n      var relatedTarget = { relatedTarget: this }\r\n      $parent.trigger(e = $.Event('show.dropdown', relatedTarget))\r\n\r\n      if (e.isDefaultPrevented()) return\r\n\r\n      $this\r\n        .trigger('focus')\r\n        .attr('aria-expanded', 'true')\r\n\r\n      $parent.addClass('open')\r\n        .trigger('shown.dropdown', relatedTarget)\r\n\r\n      new Effect({\r\n        el: $parent.find('.ui-dropdown-menu'),\r\n        type: 'fadeInDown',\r\n        speed: 'fast'\r\n      });\r\n      \r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  Dropdown.prototype.keydown = function (e) {\r\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\r\n\r\n    var $this = $(this)\r\n\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    if ($this.is('.disabled, :disabled')) return\r\n\r\n    var $parent  = getParent($this)\r\n    var isActive = $parent.hasClass('open')\r\n\r\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\r\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\r\n      return $this.trigger('click')\r\n    }\r\n\r\n    var desc = ' li:not(.disabled):visible a'\r\n    var $items = $parent.find('[role=\"menu\"]' + desc + ', [role=\"listbox\"]' + desc)\r\n\r\n    if (!$items.length) return\r\n\r\n    var index = $items.index(e.target)\r\n\r\n    if (e.which == 38 && index > 0)                 index--         // up\r\n    if (e.which == 40 && index < $items.length - 1) index++         // down\r\n    if (!~index)                                    index = 0\r\n\r\n    $items.eq(index).trigger('focus')\r\n  }\r\n\r\n  // DROPDOWN PLUGIN DEFINITION\r\n  // ==========================\r\n\r\n  function Plugin(option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n      var data  = $this.data('bs.dropdown')\r\n\r\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\r\n      if (typeof option == 'string') data[option].call($this)\r\n    })\r\n  }\r\n\r\n  var old = $.fn.dropdown\r\n\r\n  $.fn.dropdown             = Plugin\r\n  $.fn.dropdown.Constructor = Dropdown\r\n\r\n\r\n  // DROPDOWN NO CONFLICT\r\n  // ====================\r\n\r\n  $.fn.dropdown.noConflict = function () {\r\n    $.fn.dropdown = old\r\n    return this\r\n  }\r\n\r\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\r\n  // ===================================\r\n  $(document)\r\n    .on('click.bs.dropdown.data-api', clearMenus)\r\n    .on('click.bs.dropdown.data-api', '.ui-dropdown form,.ui-dropdown .ui-dropdown-impede', function (e) { e.stopPropagation() })\r\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\r\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\r\n    .on('keydown.bs.dropdown.data-api', '.ui-dropdown-menu', Dropdown.prototype.keydown)\r\n\r\n  return $\r\n}));\r\n","/**\r\n * [下拉选择]\r\n * @param  {[string]} evtnt [触发事件]\r\n * @return {[object]}         [DropdownSelect实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.dropdownSelect',['jquery','underscore','jquery.widget','jquery.dropdown'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n  var DropdownSelect = function(opt){\r\n    if(opt.event == \"hover\"){\r\n      opt.event = \"mouseenter\";\r\n    }\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.options.width = this.$el.innerWidth();\r\n    this.$el.hide();\r\n    this.init();\r\n  }\r\n\r\n  $.extend(DropdownSelect.prototype,{\r\n    init : function(){\r\n      var _this = this;\r\n      this.createWidget();\r\n      this.addClass()\r\n      this.events();\r\n    },\r\n    events: function(){\r\n      var that = this;\r\n      this.$widget.on('click','.ui-dropdown-menu li',function(){\r\n        var value = $(this).data('value');\r\n        that.$el.val(value);\r\n        that.$el.trigger('change');\r\n        that.$el.trigger('focusout');\r\n      });\r\n      this.$el.on('change',$.proxy(this.changeValue,this));\r\n    },\r\n    changeValue: function(){\r\n      var $selected = this.$el.find('option:selected');\r\n      var value = $selected.val();\r\n      var text = $selected.text();\r\n      this.$selectName.text(text);\r\n      this.$selectMenu.find('>ul>li[data-value=\"'+value+'\"]').addClass('selected')\r\n      .siblings('.selected').removeClass('selected');\r\n    },\r\n    createWidget: function(){\r\n      this.list = this.$el.children().map(function(){\r\n        var $this = $(this);\r\n        return {value:$this.val(),text:$this.text()}\r\n      });\r\n      var css = {\r\n        width: this.options.width+2\r\n      }\r\n      if(!this.$widget){\r\n        this.$widget = $('<span class=\"ui-dropdown-select ui-dropdown\"></span>').insertAfter(this.$el);\r\n        this.$widget.css(css);\r\n      }else{\r\n        this.$el.detach();\r\n        this.$widget.empty();\r\n      }\r\n      this.$widget.html(this._temp({list:this.list})).append(this.$el);\r\n      this.$selectName = this.$widget.find('.ui-dropdown-select-name');\r\n      this.$selectMenu = this.$widget.find('.ui-dropdown-menu');\r\n      this.$selectMenu.css({minWidth:this.options.width});\r\n      this.changeValue();\r\n    },\r\n    addClass: function(name){\r\n      name = name || this.options.className;\r\n      this.$widget.addClass(name);\r\n    },\r\n    refresh: function(){\r\n      this.createWidget();\r\n    },\r\n    destory: function(){\r\n      this.$widget.before(this.$el);\r\n      this.$widget.remove();\r\n      this.$el.data('dropdownSelect',null);\r\n      this.$el.show();\r\n    },\r\n    _temp: _.template([\r\n      '<i class=\"ui-dropdown-arrow\"></i>',\r\n      '<a href=\"javascript:;\" data-widget=\"dropdown\" class=\"ui-dropdown-select-name\"></a>',\r\n      '<div class=\"ui-dropdown-menu\">',\r\n        '<ul>',\r\n        '<% _.each(list,function(item){ %>',\r\n          '<li data-value=\"<%= item.value %>\"><a href=\"javascript:;\"><%= item.text %></a></li>',\r\n        '<% }) %>',\r\n        '</ul>',\r\n      '</div>',\r\n    ].join(''))\r\n  });\r\n  $.extend(DropdownSelect,{\r\n    options : {\r\n      className: '',\r\n      event: 'click'\r\n    }\r\n  });\r\n\r\n  widget.install('dropdownSelect',DropdownSelect);\r\n\r\n  return DropdownSelect\r\n\r\n}));\r\n","/**\r\n * [突出表单焦点]\r\n * 方法\r\n * enable [启用]\r\n * disable [禁用]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.focusInput',['jquery','jquery.easing'],factory);\r\n  } else {\r\n    factory( jQuery );\r\n  }\r\n}(function($){\r\n\r\n  var $body = $(document.body);\r\n\r\n  var focusInput = {\r\n    options : {\r\n      inited:false,\r\n      disabled : false,\r\n      ignore: \"ignore-focus\",\r\n      fx : {\r\n        duration : 600,\r\n        easing : 'easeOutExpo',\r\n        done : function(){\r\n          $(this).remove();\r\n        }\r\n      }\r\n    },\r\n    init : function(param){\r\n      var _this = this;\r\n      if(this.options.inited) return;\r\n      this.options.inited = true;\r\n      $.extend(true,this.options,param);\r\n      $body.on('focus.focusInput','input[type=text],input[type=password],select,textarea',function(e){\r\n        if(_this.options.disabled) return;\r\n        if(e.target.disabled || e.target.readOnly) return;\r\n        var $tar,$pre,tar,pre;\r\n        $tar = $(e.target);\r\n        $pre = $(e.relatedTarget);\r\n        if($tar.hasClass(_this.options.ignore)) return;\r\n        setTimeout(function(){\r\n          tar = _this.getCss($tar);\r\n          if($pre.length>0){\r\n            pre = _this.getCss($pre);\r\n          }else{\r\n            pre = _this.getCss($tar,1.6);\r\n          }\r\n          pre.opacity = 0;\r\n          tar.opacity = 1;\r\n          _this.animate(tar,pre);\r\n        },0);\r\n      });\r\n    },\r\n    animate : function(tar,pre,other){\r\n      var $el = $('<div>').appendTo(document.body);\r\n      pre.position = 'absolute';\r\n      pre.cursor = 'text';\r\n      pre.border = tar.border;\r\n      $el.css(pre);\r\n      $el.animate(tar,this.options.fx);\r\n    },\r\n    getCss : function($el,times){\r\n      times = times || 1;\r\n      var offset,size,borderWidth;\r\n      offset = $el.offset();\r\n      borderWidth = parseInt($el.css('borderTopWidth'));\r\n      size = {\r\n        width:$el.outerWidth()-borderWidth*2,\r\n        height:$el.outerHeight()-borderWidth*2\r\n      }\r\n      return {\r\n        zIndex:100000,\r\n        width:size.width*times,\r\n        height:size.height*times,\r\n        left:offset.left-size.width*(times-1)/2,\r\n        top:offset.top-size.height*(times-1)/2,\r\n        border:$el.css('borderTopWidth')+\" \"+$el.css('borderTopStyle')+\" \"+$el.css('borderTopColor'),\r\n        borderRadius:$el.css('borderTopLeftRadius')\r\n      }\r\n    },\r\n    enable : function(){\r\n      this.options.disabled = false;\r\n    },\r\n    disable : function(){\r\n      this.options.disabled = true;\r\n    }\r\n  }\r\n\r\n  $.extend({\r\n    focusInput : function(param){\r\n      param = param || {};\r\n      if($.type(param) == \"object\"){\r\n        focusInput.init(param);\r\n      }\r\n      if($.type(param) == \"string\"){\r\n        $.type(focusInput[param] == \"function\") && focusInput[param]();\r\n      }\r\n    }\r\n  });\r\n  \r\n  return $;\r\n\r\n}));\r\n","/*\r\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\r\n *\r\n * Uses the built in easing capabilities added In jQuery 1.1\r\n * to offer multiple easing options\r\n *\r\n * TERMS OF USE - jQuery Easing\r\n * \r\n * Open source under the BSD License. \r\n * \r\n * Copyright © 2008 George McGinley Smith\r\n * All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without modification, \r\n * are permitted provided that the following conditions are met:\r\n * \r\n * Redistributions of source code must retain the above copyright notice, this list of \r\n * conditions and the following disclaimer.\r\n * Redistributions in binary form must reproduce the above copyright notice, this list \r\n * of conditions and the following disclaimer in the documentation and/or other materials \r\n * provided with the distribution.\r\n * \r\n * Neither the name of the author nor the names of contributors may be used to endorse \r\n * or promote products derived from this software without specific prior written permission.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \r\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \r\n * OF THE POSSIBILITY OF SUCH DAMAGE. \r\n *\r\n*/\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.easing', ['jquery'],factory);\r\n  } else {\r\n    factory( jQuery );\r\n  }\r\n}(function($){\r\n\t$.easing['jswing'] = $.easing['swing'];\r\n\r\n\t$.extend( $.easing,{\r\n\t\tdef: 'easeOutQuad',\r\n\t\tswing: function (x, t, b, c, d) {\r\n\t\t\t//alert(jQuery.easing.default);\r\n\t\t\treturn jQuery.easing[jQuery.easing.def](x, t, b, c, d);\r\n\t\t},\r\n\t\teaseInQuad: function (x, t, b, c, d) {\r\n\t\t\treturn c*(t/=d)*t + b;\r\n\t\t},\r\n\t\teaseOutQuad: function (x, t, b, c, d) {\r\n\t\t\treturn -c *(t/=d)*(t-2) + b;\r\n\t\t},\r\n\t\teaseInOutQuad: function (x, t, b, c, d) {\r\n\t\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\r\n\t\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\r\n\t\t},\r\n\t\teaseInCubic: function (x, t, b, c, d) {\r\n\t\t\treturn c*(t/=d)*t*t + b;\r\n\t\t},\r\n\t\teaseOutCubic: function (x, t, b, c, d) {\r\n\t\t\treturn c*((t=t/d-1)*t*t + 1) + b;\r\n\t\t},\r\n\t\teaseInOutCubic: function (x, t, b, c, d) {\r\n\t\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\r\n\t\t\treturn c/2*((t-=2)*t*t + 2) + b;\r\n\t\t},\r\n\t\teaseInQuart: function (x, t, b, c, d) {\r\n\t\t\treturn c*(t/=d)*t*t*t + b;\r\n\t\t},\r\n\t\teaseOutQuart: function (x, t, b, c, d) {\r\n\t\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\r\n\t\t},\r\n\t\teaseInOutQuart: function (x, t, b, c, d) {\r\n\t\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\r\n\t\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\r\n\t\t},\r\n\t\teaseInQuint: function (x, t, b, c, d) {\r\n\t\t\treturn c*(t/=d)*t*t*t*t + b;\r\n\t\t},\r\n\t\teaseOutQuint: function (x, t, b, c, d) {\r\n\t\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\r\n\t\t},\r\n\t\teaseInOutQuint: function (x, t, b, c, d) {\r\n\t\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\r\n\t\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\r\n\t\t},\r\n\t\teaseInSine: function (x, t, b, c, d) {\r\n\t\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\r\n\t\t},\r\n\t\teaseOutSine: function (x, t, b, c, d) {\r\n\t\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\r\n\t\t},\r\n\t\teaseInOutSine: function (x, t, b, c, d) {\r\n\t\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\r\n\t\t},\r\n\t\teaseInExpo: function (x, t, b, c, d) {\r\n\t\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\r\n\t\t},\r\n\t\teaseOutExpo: function (x, t, b, c, d) {\r\n\t\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\r\n\t\t},\r\n\t\teaseInOutExpo: function (x, t, b, c, d) {\r\n\t\t\tif (t==0) return b;\r\n\t\t\tif (t==d) return b+c;\r\n\t\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\r\n\t\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n\t\t},\r\n\t\teaseInCirc: function (x, t, b, c, d) {\r\n\t\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\r\n\t\t},\r\n\t\teaseOutCirc: function (x, t, b, c, d) {\r\n\t\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\r\n\t\t},\r\n\t\teaseInOutCirc: function (x, t, b, c, d) {\r\n\t\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\r\n\t\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\r\n\t\t},\r\n\t\teaseInElastic: function (x, t, b, c, d) {\r\n\t\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\r\n\t\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\r\n\t\t},\r\n\t\teaseOutElastic: function (x, t, b, c, d) {\r\n\t\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\r\n\t\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\r\n\t\t},\r\n\t\teaseInOutElastic: function (x, t, b, c, d) {\r\n\t\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\r\n\t\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\r\n\t\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\r\n\t\t},\r\n\t\teaseInBack: function (x, t, b, c, d, s) {\r\n\t\t\tif (s == undefined) s = 1.70158;\r\n\t\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\r\n\t\t},\r\n\t\teaseOutBack: function (x, t, b, c, d, s) {\r\n\t\t\tif (s == undefined) s = 1.70158;\r\n\t\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\r\n\t\t},\r\n\t\teaseInOutBack: function (x, t, b, c, d, s) {\r\n\t\t\tif (s == undefined) s = 1.70158; \r\n\t\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\r\n\t\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\r\n\t\t},\r\n\t\teaseInBounce: function (x, t, b, c, d) {\r\n\t\t\treturn c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\r\n\t\t},\r\n\t\teaseOutBounce: function (x, t, b, c, d) {\r\n\t\t\tif ((t/=d) < (1/2.75)) {\r\n\t\t\t\treturn c*(7.5625*t*t) + b;\r\n\t\t\t} else if (t < (2/2.75)) {\r\n\t\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\r\n\t\t\t} else if (t < (2.5/2.75)) {\r\n\t\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\r\n\t\t\t} else {\r\n\t\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\r\n\t\t\t}\r\n\t\t},\r\n\t\teaseInOutBounce: function (x, t, b, c, d) {\r\n\t\t\tif (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\r\n\t\t\treturn jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\r\n\t\t}\r\n\t});\r\n}));\r\n\r\n/*\r\n *\r\n * TERMS OF USE - EASING EQUATIONS\r\n * \r\n * Open source under the BSD License. \r\n * \r\n * Copyright © 2001 Robert Penner\r\n * All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without modification, \r\n * are permitted provided that the following conditions are met:\r\n * \r\n * Redistributions of source code must retain the above copyright notice, this list of \r\n * conditions and the following disclaimer.\r\n * Redistributions in binary form must reproduce the above copyright notice, this list \r\n * of conditions and the following disclaimer in the documentation and/or other materials \r\n * provided with the distribution.\r\n * \r\n * Neither the name of the author nor the names of contributors may be used to endorse \r\n * or promote products derived from this software without specific prior written permission.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY \r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \r\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \r\n * OF THE POSSIBILITY OF SUCH DAMAGE. \r\n *\r\n */","/*!\r\n * jQuery Validation Plugin v1.13.2-pre\r\n *\r\n * http://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2015 Jörn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function( factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\tdefine(\"jquery.validate.core\",[\"jquery\"], factory );\r\n\t} else {\r\n\t\tfactory( jQuery );\r\n\t}\r\n}(function( $ ) {\r\n\r\n$.extend($.fn, {\r\n\t// http://jqueryvalidation.org/validate/\r\n\tvalidate: function( options ) {\r\n\r\n\t\t// if nothing is selected, return nothing; can't chain anyway\r\n\t\tif ( !this.length ) {\r\n\t\t\tif ( options && options.debug && window.console ) {\r\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// check if a validator for this form was already created\r\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\r\n\t\tif ( validator ) {\r\n\t\t\treturn validator;\r\n\t\t}\r\n\r\n\t\t// Add novalidate tag if HTML5.\r\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\r\n\r\n\t\tvalidator = new $.validator( options, this[ 0 ] );\r\n\t\t$.data( this[ 0 ], \"validator\", validator );\r\n\r\n\t\tif ( validator.settings.onsubmit ) {\r\n\r\n\t\t\tthis.validateDelegate( \":submit\", \"click\", function( event ) {\r\n\t\t\t\tif ( validator.settings.submitHandler ) {\r\n\t\t\t\t\tvalidator.submitButton = event.target;\r\n\t\t\t\t}\r\n\t\t\t\t// allow suppressing validation by adding a cancel class to the submit button\r\n\t\t\t\tif ( $( event.target ).hasClass( \"cancel\" ) ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\r\n\t\t\t\tif ( $( event.target ).attr( \"formnovalidate\" ) !== undefined ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// validate the form on submit\r\n\t\t\tthis.submit( function( event ) {\r\n\t\t\t\tif ( validator.settings.debug ) {\r\n\t\t\t\t\t// prevent form submit to be able to see console output\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tfunction handle() {\r\n\t\t\t\t\tvar hidden, result;\r\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\r\n\t\t\t\t\t\tif ( validator.submitButton ) {\r\n\t\t\t\t\t\t\t// insert a hidden input as a replacement for the missing submit button\r\n\t\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\r\n\t\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\r\n\t\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\r\n\t\t\t\t\t\t\t\t.appendTo( validator.currentForm );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\r\n\t\t\t\t\t\tif ( validator.submitButton ) {\r\n\t\t\t\t\t\t\t// and clean up afterwards; thanks to no-block-scope, hidden can be referenced\r\n\t\t\t\t\t\t\thidden.remove();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( result !== undefined ) {\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// prevent submit for invalid forms or custom submit handlers\r\n\t\t\t\tif ( validator.cancelSubmit ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = false;\r\n\t\t\t\t\treturn handle();\r\n\t\t\t\t}\r\n\t\t\t\tif ( validator.form() ) {\r\n\t\t\t\t\tif ( validator.pendingRequest ) {\r\n\t\t\t\t\t\tvalidator.formSubmitted = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn handle();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalidator.focusInvalid();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn validator;\r\n\t},\r\n\t// http://jqueryvalidation.org/valid/\r\n\tvalid: function() {\r\n\t\tvar valid, validator, errorList;\r\n\r\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\r\n\t\t\tvalid = this.validate().form();\r\n\t\t} else {\r\n\t\t\terrorList = [];\r\n\t\t\tvalid = true;\r\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\r\n\t\t\tthis.each( function() {\r\n\t\t\t\tvalid = validator.element( this ) && valid;\r\n\t\t\t\terrorList = errorList.concat( validator.errorList );\r\n\t\t\t});\r\n\t\t\tvalidator.errorList = errorList;\r\n\t\t}\r\n\t\treturn valid;\r\n\t},\r\n\t// attributes: space separated list of attributes to retrieve and remove\r\n\tremoveAttrs: function( attributes ) {\r\n\t\tvar result = {},\r\n\t\t\t$element = this;\r\n\t\t$.each( attributes.split( /\\s/ ), function( index, value ) {\r\n\t\t\tresult[ value ] = $element.attr( value );\r\n\t\t\t$element.removeAttr( value );\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\t// http://jqueryvalidation.org/rules/\r\n\trules: function( command, argument ) {\r\n\t\tvar element = this[ 0 ],\r\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\r\n\r\n\t\tif ( command ) {\r\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\r\n\t\t\tstaticRules = settings.rules;\r\n\t\t\texistingRules = $.validator.staticRules( element );\r\n\t\t\tswitch ( command ) {\r\n\t\t\tcase \"add\":\r\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\r\n\t\t\t\t// remove messages from rules, but allow them to be set separately\r\n\t\t\t\tdelete existingRules.messages;\r\n\t\t\t\tstaticRules[ element.name ] = existingRules;\r\n\t\t\t\tif ( argument.messages ) {\r\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"remove\":\r\n\t\t\t\tif ( !argument ) {\r\n\t\t\t\t\tdelete staticRules[ element.name ];\r\n\t\t\t\t\treturn existingRules;\r\n\t\t\t\t}\r\n\t\t\t\tfiltered = {};\r\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\r\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\r\n\t\t\t\t\tdelete existingRules[ method ];\r\n\t\t\t\t\tif ( method === \"required\" ) {\r\n\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn filtered;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdata = $.validator.normalizeRules(\r\n\t\t$.extend(\r\n\t\t\t{},\r\n\t\t\t$.validator.classRules( element ),\r\n\t\t\t$.validator.attributeRules( element ),\r\n\t\t\t$.validator.dataRules( element ),\r\n\t\t\t$.validator.staticRules( element )\r\n\t\t), element );\r\n\r\n\t\t// make sure required is at front\r\n\t\tif ( data.required ) {\r\n\t\t\tparam = data.required;\r\n\t\t\tdelete data.required;\r\n\t\t\tdata = $.extend( { required: param }, data );\r\n\t\t\t$( element ).attr( \"aria-required\", \"true\" );\r\n\t\t}\r\n\r\n\t\t// make sure remote is at back\r\n\t\tif ( data.remote ) {\r\n\t\t\tparam = data.remote;\r\n\t\t\tdelete data.remote;\r\n\t\t\tdata = $.extend( data, { remote: param });\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n});\r\n\r\n// Custom selectors\r\n$.extend( $.expr[ \":\" ], {\r\n\t// http://jqueryvalidation.org/blank-selector/\r\n\tblank: function( a ) {\r\n\t\treturn !$.trim( \"\" + $( a ).val() );\r\n\t},\r\n\t// http://jqueryvalidation.org/filled-selector/\r\n\tfilled: function( a ) {\r\n\t\treturn !!$.trim( \"\" + $( a ).val() );\r\n\t},\r\n\t// http://jqueryvalidation.org/unchecked-selector/\r\n\tunchecked: function( a ) {\r\n\t\treturn !$( a ).prop( \"checked\" );\r\n\t}\r\n});\r\n\r\n// constructor for validator\r\n$.validator = function( options, form ) {\r\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\r\n\tthis.currentForm = form;\r\n\tthis.init();\r\n};\r\n\r\n// http://jqueryvalidation.org/jQuery.validator.format/\r\n$.validator.format = function( source, params ) {\r\n\tif ( arguments.length === 1 ) {\r\n\t\treturn function() {\r\n\t\t\tvar args = $.makeArray( arguments );\r\n\t\t\targs.unshift( source );\r\n\t\t\treturn $.validator.format.apply( this, args );\r\n\t\t};\r\n\t}\r\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\r\n\t\tparams = $.makeArray( arguments ).slice( 1 );\r\n\t}\r\n\tif ( params.constructor !== Array ) {\r\n\t\tparams = [ params ];\r\n\t}\r\n\t$.each( params, function( i, n ) {\r\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\r\n\t\t\treturn n;\r\n\t\t});\r\n\t});\r\n\treturn source;\r\n};\r\n\r\n$.extend( $.validator, {\r\n\r\n\tdefaults: {\r\n\t\tmessages: {},\r\n\t\tgroups: {},\r\n\t\trules: {},\r\n\t\terrorClass: \"error\",\r\n\t\tvalidClass: \"valid\",\r\n\t\terrorElement: \"label\",\r\n\t\tfocusCleanup: false,\r\n\t\tfocusInvalid: true,\r\n\t\terrorContainer: $( [] ),\r\n\t\terrorLabelContainer: $( [] ),\r\n\t\tonsubmit: true,\r\n\t\tignore: \":hidden\",\r\n\t\tignoreTitle: false,\r\n\t\tonfocusin: function( element ) {\r\n\t\t\tthis.lastActive = element;\r\n\r\n\t\t\t// Hide error label and remove error class on focus if enabled\r\n\t\t\tif ( this.settings.focusCleanup ) {\r\n\t\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonfocusout: function( element ) {\r\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t} else if( element.nodeName.toLowerCase() == \"select\" ){\r\n\t\t\t\t/* 解决select组件bug */\r\n\t\t\t\tthis.element( element );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonkeyup: function( element, event ) {\r\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\r\n\t\t\t// Shift       => 16\r\n\t\t\t// Ctrl        => 17\r\n\t\t\t// Alt         => 18\r\n\t\t\t// Caps lock   => 20\r\n\t\t\t// End         => 35\r\n\t\t\t// Home        => 36\r\n\t\t\t// Left arrow  => 37\r\n\t\t\t// Up arrow    => 38\r\n\t\t\t// Right arrow => 39\r\n\t\t\t// Down arrow  => 40\r\n\t\t\t// Insert      => 45\r\n\t\t\t// Num lock    => 144\r\n\t\t\t// AltGr key   => 225\r\n\t\t\tvar excludedKeys = [\r\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\r\n\t\t\t\t38, 39, 40, 45, 144, 225\r\n\t\t\t];\r\n\r\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || excludedKeys.join(',').indexOf( event.keyCode ) !== -1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if ( element.name in this.submitted || element === this.lastElement ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonclick: function( element ) {\r\n\t\t\t// click on selects, radiobuttons and checkboxes\r\n\t\t\tif ( element.name in this.submitted ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t// or option elements, check parent select in that case\r\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\r\n\t\t\t\tthis.element( element.parentNode );\r\n\t\t\t}\r\n\t\t},\r\n\t\thighlight: function( element, errorClass, validClass ) {\r\n\t\t\tif ( element.type === \"radio\" ) {\r\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\r\n\t\t\t} else {\r\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\r\n\t\t\t}\r\n\t\t},\r\n\t\tunhighlight: function( element, errorClass, validClass ) {\r\n\t\t\tif ( element.type === \"radio\" ) {\r\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\r\n\t\t\t} else {\r\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\r\n\tsetDefaults: function( settings ) {\r\n\t\t$.extend( $.validator.defaults, settings );\r\n\t},\r\n\r\n\tmessages: {\r\n\t\trequired: \"This field is required.\",\r\n\t\tremote: \"Please fix this field.\",\r\n\t\temail: \"Please enter a valid email address.\",\r\n\t\turl: \"Please enter a valid URL.\",\r\n\t\tdate: \"Please enter a valid date.\",\r\n\t\tdateISO: \"Please enter a valid date ( ISO ).\",\r\n\t\tnumber: \"Please enter a valid number.\",\r\n\t\tdigits: \"Please enter only digits.\",\r\n\t\tcreditcard: \"Please enter a valid credit card number.\",\r\n\t\tequalTo: \"Please enter the same value again.\",\r\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\r\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\r\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\r\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\r\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\r\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" )\r\n\t},\r\n\r\n\tautoCreateRanges: false,\r\n\r\n\tprototype: {\r\n\r\n\t\tinit: function() {\r\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\r\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\r\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\r\n\t\t\tthis.submitted = {};\r\n\t\t\tthis.valueCache = {};\r\n\t\t\tthis.pendingRequest = 0;\r\n\t\t\tthis.pending = {};\r\n\t\t\tthis.invalid = {};\r\n\t\t\tthis.reset();\r\n\r\n\t\t\tvar groups = ( this.groups = {} ),\r\n\t\t\t\trules;\r\n\t\t\t$.each( this.settings.groups, function( key, value ) {\r\n\t\t\t\tif ( typeof value === \"string\" ) {\r\n\t\t\t\t\tvalue = value.split( /\\s/ );\r\n\t\t\t\t}\r\n\t\t\t\t$.each( value, function( index, name ) {\r\n\t\t\t\t\tgroups[ name ] = key;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\trules = this.settings.rules;\r\n\t\t\t$.each( rules, function( key, value ) {\r\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\r\n\t\t\t});\r\n\r\n\t\t\tfunction delegate( event ) {\r\n\t\t\t\tvar validator = $.data( this[ 0 ].form, \"validator\" ),\r\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\r\n\t\t\t\t\tsettings = validator.settings;\r\n\t\t\t\tif ( settings[ eventType ] && !this.is( settings.ignore ) ) {\r\n\t\t\t\t\tsettings[ eventType ].call( validator, this[ 0 ], event );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$( this.currentForm )\r\n\t\t\t\t.validateDelegate( \":text, [type='password'], [type='file'], select, textarea, \" +\r\n\t\t\t\t\t\"[type='number'], [type='search'] ,[type='tel'], [type='url'], \" +\r\n\t\t\t\t\t\"[type='email'], [type='datetime'], [type='date'], [type='month'], \" +\r\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], \" +\r\n\t\t\t\t\t\"[type='range'], [type='color'], [type='radio'], [type='checkbox']\",\r\n\t\t\t\t\t\"focusin focusout keyup\", delegate)\r\n\t\t\t\t// Support: Chrome, oldIE\r\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\r\n\t\t\t\t.validateDelegate(\"select, option, [type='radio'], [type='checkbox']\", \"click\", delegate);\r\n\r\n\t\t\tif ( this.settings.invalidHandler ) {\r\n\t\t\t\t$( this.currentForm ).bind( \"invalid-form.validate\", this.settings.invalidHandler );\r\n\t\t\t}\r\n\r\n\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\r\n\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\r\n\t\t\t$( this.currentForm ).find( \"[required], [data-rule-required], .required\" ).attr( \"aria-required\", \"true\" );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.form/\r\n\t\tform: function() {\r\n\t\t\tthis.checkForm();\r\n\t\t\t$.extend( this.submitted, this.errorMap );\r\n\t\t\tthis.invalid = $.extend({}, this.errorMap );\r\n\t\t\tif ( !this.valid() ) {\r\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ]);\r\n\t\t\t}\r\n\t\t\tthis.showErrors();\r\n\t\t\treturn this.valid();\r\n\t\t},\r\n\r\n\t\tcheckForm: function() {\r\n\t\t\tthis.prepareForm();\r\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\r\n\t\t\t\tthis.check( elements[ i ] );\r\n\t\t\t}\r\n\t\t\treturn this.valid();\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.element/\r\n\t\telement: function( element ) {\r\n\t\t\tvar cleanElement = this.clean( element ),\r\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\r\n\t\t\t\tresult = true;\r\n\r\n\t\t\tthis.lastElement = checkElement;\r\n\r\n\t\t\tif ( checkElement === undefined ) {\r\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\r\n\t\t\t} else {\r\n\t\t\t\tthis.prepareElement( checkElement );\r\n\t\t\t\tthis.currentElements = $( checkElement );\r\n\r\n\t\t\t\tresult = this.check( checkElement ) !== false;\r\n\t\t\t\tif ( result ) {\r\n\t\t\t\t\tdelete this.invalid[ checkElement.name ];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Add aria-invalid status for screen readers\r\n\t\t\t$( element ).attr( \"aria-invalid\", !result );\r\n\r\n\t\t\tif ( !this.numberOfInvalids() ) {\r\n\t\t\t\t// Hide error containers on last error\r\n\t\t\t\tthis.toHide = this.toHide.add( this.containers );\r\n\t\t\t}\r\n\t\t\tthis.showErrors();\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.showErrors/\r\n\t\tshowErrors: function( errors ) {\r\n\t\t\tif ( errors ) {\r\n\t\t\t\t// add items to error list and map\r\n\t\t\t\t$.extend( this.errorMap, errors );\r\n\t\t\t\tthis.errorList = [];\r\n\t\t\t\tfor ( var name in errors ) {\r\n\t\t\t\t\tthis.errorList.push({\r\n\t\t\t\t\t\tmessage: errors[ name ],\r\n\t\t\t\t\t\telement: this.findByName( name )[ 0 ]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// remove items from success list\r\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\r\n\t\t\t\t\treturn !( element.name in errors );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif ( this.settings.showErrors ) {\r\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\r\n\t\t\t} else {\r\n\t\t\t\tthis.defaultShowErrors();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.resetForm/\r\n\t\tresetForm: function() {\r\n\t\t\tif ( $.fn.resetForm ) {\r\n\t\t\t\t$( this.currentForm ).resetForm();\r\n\t\t\t}\r\n\t\t\tthis.submitted = {};\r\n\t\t\tthis.lastElement = null;\r\n\t\t\tthis.prepareForm();\r\n\t\t\tthis.hideErrors();\r\n\t\t\tvar i, elements = this.elements()\r\n\t\t\t\t.removeData( \"previousValue\" )\r\n\t\t\t\t.removeAttr( \"aria-invalid\" );\r\n\r\n\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\r\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\telements.removeClass( this.settings.errorClass );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnumberOfInvalids: function() {\r\n\t\t\treturn this.objectLength( this.invalid );\r\n\t\t},\r\n\r\n\t\tobjectLength: function( obj ) {\r\n\t\t\t/* jshint unused: false */\r\n\t\t\tvar count = 0,\r\n\t\t\t\ti;\r\n\t\t\tfor ( i in obj ) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\treturn count;\r\n\t\t},\r\n\r\n\t\thideErrors: function() {\r\n\t\t\tthis.hideThese( this.toHide );\r\n\t\t},\r\n\r\n\t\thideThese: function( errors ) {\r\n\t\t\terrors.not( this.containers ).text( \"\" );\r\n\t\t\tthis.addWrapper( errors ).hide();\r\n\t\t},\r\n\r\n\t\tvalid: function() {\r\n\t\t\treturn this.size() === 0;\r\n\t\t},\r\n\r\n\t\tsize: function() {\r\n\t\t\treturn this.errorList.length;\r\n\t\t},\r\n\r\n\t\tfocusInvalid: function() {\r\n\t\t\tif ( this.settings.focusInvalid ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [])\r\n\t\t\t\t\t.filter( \":visible\" )\r\n\t\t\t\t\t.focus()\r\n\t\t\t\t\t// manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\r\n\t\t\t\t\t.trigger( \"focusin\" );\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t// ignore IE throwing errors when focusing hidden elements\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfindLastActive: function() {\r\n\t\t\tvar lastActive = this.lastActive;\r\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\r\n\t\t\t\treturn n.element.name === lastActive.name;\r\n\t\t\t}).length === 1 && lastActive;\r\n\t\t},\r\n\r\n\t\telements: function() {\r\n\t\t\tvar validator = this,\r\n\t\t\t\trulesCache = {};\r\n\r\n\t\t\t// select all valid inputs inside the form (no submit or reset buttons)\r\n\t\t\treturn $( this.currentForm )\r\n\t\t\t.find( \"input, select, textarea\" )\r\n\t\t\t.not( \":submit, :reset, :image, [disabled]\" )\r\n\t\t\t.not( this.settings.ignore )\r\n\t\t\t.filter( function() {\r\n\t\t\t\tif ( !this.name && validator.settings.debug && window.console ) {\r\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// select only the first element for each name, and only those with rules specified\r\n\t\t\t\tif ( this.name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\trulesCache[ this.name ] = true;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tclean: function( selector ) {\r\n\t\t\treturn $( selector )[ 0 ];\r\n\t\t},\r\n\r\n\t\terrors: function() {\r\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\r\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\r\n\t\t},\r\n\r\n\t\treset: function() {\r\n\t\t\tthis.successList = [];\r\n\t\t\tthis.errorList = [];\r\n\t\t\tthis.errorMap = {};\r\n\t\t\tthis.toShow = $( [] );\r\n\t\t\tthis.toHide = $( [] );\r\n\t\t\tthis.currentElements = $( [] );\r\n\t\t},\r\n\r\n\t\tprepareForm: function() {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.toHide = this.errors().add( this.containers );\r\n\t\t},\r\n\r\n\t\tprepareElement: function( element ) {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.toHide = this.errorsFor( element );\r\n\t\t},\r\n\r\n\t\telementValue: function( element ) {\r\n\t\t\tvar val,\r\n\t\t\t\t$element = $( element ),\r\n\t\t\t\ttype = element.type;\r\n\r\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\r\n\t\t\t\treturn this.findByName( element.name ).filter(\":checked\").val();\r\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\r\n\t\t\t\treturn element.validity.badInput ? false : $element.val();\r\n\t\t\t}\r\n\r\n\t\t\tval = $element.val();\r\n\t\t\tif ( typeof val === \"string\" ) {\r\n\t\t\t\treturn val.replace(/\\r/g, \"\" );\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\tcheck: function( element ) {\r\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\r\n\r\n\t\t\tvar rules = $( element ).rules(),\r\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}).length,\r\n\t\t\t\tdependencyMismatch = false,\r\n\t\t\t\tval = this.elementValue( element ),\r\n\t\t\t\tresult, method, rule;\r\n\r\n\t\t\tfor ( method in rules ) {\r\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\r\n\r\n\t\t\t\t\t// if a method indicates that the field is optional and therefore valid,\r\n\t\t\t\t\t// don't mark it as valid when there are no other rules\r\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\r\n\t\t\t\t\t\tdependencyMismatch = true;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdependencyMismatch = false;\r\n\r\n\t\t\t\t\tif ( result === \"pending\" ) {\r\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !result ) {\r\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\r\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( e instanceof TypeError ) {\r\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( dependencyMismatch ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( this.objectLength( rules ) ) {\r\n\t\t\t\tthis.successList.push( element );\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t// return the custom message for the given element and validation method\r\n\t\t// specified in the element's HTML5 data attribute\r\n\t\t// return the generic message if present and no method specific message is present\r\n\t\tcustomDataMessage: function( element, method ) {\r\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\r\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\r\n\t\t},\r\n\r\n\t\t// return the custom message for the given element name and validation method\r\n\t\tcustomMessage: function( name, method ) {\r\n\t\t\tvar m = this.settings.messages[ name ];\r\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ]);\r\n\t\t},\r\n\r\n\t\t// return the first defined argument, allowing empty strings\r\n\t\tfindDefined: function() {\r\n\t\t\tfor ( var i = 0; i < arguments.length; i++) {\r\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\r\n\t\t\t\t\treturn arguments[ i ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\r\n\t\tdefaultMessage: function( element, method ) {\r\n\t\t\treturn this.findDefined(\r\n\t\t\t\tthis.customMessage( element.name, method ),\r\n\t\t\t\tthis.customDataMessage( element, method ),\r\n\t\t\t\t// title is never undefined, so handle empty string as undefined\r\n\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\r\n\t\t\t\t$.validator.messages[ method ],\r\n\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tformatAndAdd: function( element, rule ) {\r\n\t\t\tvar message = this.defaultMessage( element, rule.method ),\r\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\r\n\t\t\tif ( typeof message === \"function\" ) {\r\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\r\n\t\t\t} else if ( theregex.test( message ) ) {\r\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\r\n\t\t\t}\r\n\t\t\tthis.errorList.push({\r\n\t\t\t\tmessage: message,\r\n\t\t\t\telement: element,\r\n\t\t\t\tmethod: rule.method\r\n\t\t\t});\r\n\r\n\t\t\tthis.errorMap[ element.name ] = message;\r\n\t\t\tthis.submitted[ element.name ] = message;\r\n\t\t},\r\n\r\n\t\taddWrapper: function( toToggle ) {\r\n\t\t\tif ( this.settings.wrapper ) {\r\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\r\n\t\t\t}\r\n\t\t\treturn toToggle;\r\n\t\t},\r\n\r\n\t\tdefaultShowErrors: function() {\r\n\t\t\tvar i, elements, error;\r\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\r\n\t\t\t\terror = this.errorList[ i ];\r\n\t\t\t\tif ( this.settings.highlight ) {\r\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t\tthis.showLabel( error.element, error.message );\r\n\t\t\t}\r\n\t\t\tif ( this.errorList.length ) {\r\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\r\n\t\t\t}\r\n\t\t\tif ( this.settings.success ) {\r\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\r\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\r\n\t\t\tthis.hideErrors();\r\n\t\t\tthis.addWrapper( this.toShow ).show();\r\n\t\t},\r\n\r\n\t\tvalidElements: function() {\r\n\t\t\treturn this.currentElements.not( this.invalidElements() );\r\n\t\t},\r\n\r\n\t\tinvalidElements: function() {\r\n\t\t\treturn $( this.errorList ).map(function() {\r\n\t\t\t\treturn this.element;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tshowLabel: function( element, message ) {\r\n\t\t\tvar place, group, errorID,\r\n\t\t\t\terror = this.errorsFor( element ),\r\n\t\t\t\telementID = this.idOrName( element ),\r\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\r\n\t\t\tif ( error.length ) {\r\n\t\t\t\t// refresh error/success class\r\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\r\n\t\t\t\t// replace message on existing label\r\n\t\t\t\terror.html( message );\r\n\t\t\t} else {\r\n\t\t\t\t// create error element\r\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\r\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\r\n\t\t\t\t\t.addClass( this.settings.errorClass )\r\n\t\t\t\t\t.html( message || \"\" );\r\n\r\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\r\n\t\t\t\tplace = error;\r\n\t\t\t\tif ( this.settings.wrapper ) {\r\n\t\t\t\t\t// make sure the element is visible, even in IE\r\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\r\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.labelContainer.length ) {\r\n\t\t\t\t\tthis.labelContainer.append( place );\r\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\r\n\t\t\t\t\tthis.settings.errorPlacement( place, $( element ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplace.insertAfter( element );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Link error back to the element\r\n\t\t\t\tif ( error.is( \"label\" ) ) {\r\n\t\t\t\t\t// If the error is a label, then associate using 'for'\r\n\t\t\t\t\terror.attr( \"for\", elementID );\r\n\t\t\t\t} else if ( error.parents( \"label[for='\" + elementID + \"']\" ).length === 0 ) {\r\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\r\n\t\t\t\t\t// to explicitly apply aria-describedby\r\n\r\n\t\t\t\t\terrorID = error.attr( \"id\" ).replace( /(:|\\.|\\[|\\]|\\$)/g, \"\\\\$1\");\r\n\t\t\t\t\t// Respect existing non-error aria-describedby\r\n\t\t\t\t\tif ( !describedBy ) {\r\n\t\t\t\t\t\tdescribedBy = errorID;\r\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + errorID + \"\\\\b\" ) ) ) {\r\n\t\t\t\t\t\t// Add to end of list if not already present\r\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\r\n\r\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\r\n\t\t\t\t\tgroup = this.groups[ element.name ];\r\n\t\t\t\t\tif ( group ) {\r\n\t\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\r\n\t\t\t\t\t\t\tif ( testgroup === group ) {\r\n\t\t\t\t\t\t\t\t$( \"[name='\" + name + \"']\", this.currentForm )\r\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( !message && this.settings.success ) {\r\n\t\t\t\terror.text( \"\" );\r\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\r\n\t\t\t\t\terror.addClass( this.settings.success );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.settings.success( error, element );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toShow = this.toShow.add( error );\r\n\t\t},\r\n\r\n\t\terrorsFor: function( element ) {\r\n\t\t\tvar name = this.idOrName( element ),\r\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\r\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\r\n\r\n\t\t\t// aria-describedby should directly reference the error element\r\n\t\t\tif ( describer ) {\r\n\t\t\t\tselector = selector + \", #\" + describer.replace( /\\s+/g, \", #\" );\r\n\t\t\t}\r\n\t\t\treturn this\r\n\t\t\t\t.errors()\r\n\t\t\t\t.filter( selector );\r\n\t\t},\r\n\r\n\t\tidOrName: function( element ) {\r\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\r\n\t\t},\r\n\r\n\t\tvalidationTargetFor: function( element ) {\r\n\r\n\t\t\t// If radio/checkbox, validate first element in group instead\r\n\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\telement = this.findByName( element.name );\r\n\t\t\t}\r\n\r\n\t\t\t// Always apply ignore filter\r\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\r\n\t\t},\r\n\r\n\t\tcheckable: function( element ) {\r\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\r\n\t\t},\r\n\r\n\t\tfindByName: function( name ) {\r\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + name + \"']\" );\r\n\t\t},\r\n\r\n\t\tgetLength: function( value, element ) {\r\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\r\n\t\t\tcase \"select\":\r\n\t\t\t\treturn $( \"option:selected\", element ).length;\r\n\t\t\tcase \"input\":\r\n\t\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value.length;\r\n\t\t},\r\n\r\n\t\tdepend: function( param, element ) {\r\n\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param]( param, element ) : true;\r\n\t\t},\r\n\r\n\t\tdependTypes: {\r\n\t\t\t\"boolean\": function( param ) {\r\n\t\t\t\treturn param;\r\n\t\t\t},\r\n\t\t\t\"string\": function( param, element ) {\r\n\t\t\t\treturn !!$( param, element.form ).length;\r\n\t\t\t},\r\n\t\t\t\"function\": function( param, element ) {\r\n\t\t\t\treturn param( element );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\toptional: function( element ) {\r\n\t\t\tvar val = this.elementValue( element );\r\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\r\n\t\t},\r\n\r\n\t\tstartRequest: function( element ) {\r\n\t\t\tif ( !this.pending[ element.name ] ) {\r\n\t\t\t\tthis.pendingRequest++;\r\n\t\t\t\tthis.pending[ element.name ] = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstopRequest: function( element, valid ) {\r\n\t\t\tthis.pendingRequest--;\r\n\t\t\t// sometimes synchronization fails, make sure pendingRequest is never < 0\r\n\t\t\tif ( this.pendingRequest < 0 ) {\r\n\t\t\t\tthis.pendingRequest = 0;\r\n\t\t\t}\r\n\t\t\tdelete this.pending[ element.name ];\r\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\r\n\t\t\t\t$( this.currentForm ).submit();\r\n\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted ) {\r\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ]);\r\n\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpreviousValue: function( element ) {\r\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\r\n\t\t\t\told: null,\r\n\t\t\t\tvalid: true,\r\n\t\t\t\tmessage: this.defaultMessage( element, \"remote\" )\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclassRuleSettings: {\r\n\t\trequired: { required: true },\r\n\t\temail: { email: true },\r\n\t\turl: { url: true },\r\n\t\tdate: { date: true },\r\n\t\tdateISO: { dateISO: true },\r\n\t\tnumber: { number: true },\r\n\t\tdigits: { digits: true },\r\n\t\tcreditcard: { creditcard: true }\r\n\t},\r\n\r\n\taddClassRules: function( className, rules ) {\r\n\t\tif ( className.constructor === String ) {\r\n\t\t\tthis.classRuleSettings[ className ] = rules;\r\n\t\t} else {\r\n\t\t\t$.extend( this.classRuleSettings, className );\r\n\t\t}\r\n\t},\r\n\r\n\tclassRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\tclasses = $( element ).attr( \"class\" );\r\n\r\n\t\tif ( classes ) {\r\n\t\t\t$.each( classes.split( \" \" ), function() {\r\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\r\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tattributeRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\t$element = $( element ),\r\n\t\t\ttype = element.getAttribute( \"type\" ),\r\n\t\t\tmethod, value;\r\n\r\n\t\tfor ( method in $.validator.methods ) {\r\n\r\n\t\t\t// support for <input required> in both html5 and older browsers\r\n\t\t\tif ( method === \"required\" ) {\r\n\t\t\t\tvalue = element.getAttribute( method );\r\n\t\t\t\t// Some browsers return an empty string for the required attribute\r\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\r\n\t\t\t\tif ( value === \"\" ) {\r\n\t\t\t\t\tvalue = true;\r\n\t\t\t\t}\r\n\t\t\t\t// force non-HTML5 browsers to return bool\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = $element.attr( method );\r\n\t\t\t}\r\n\r\n\t\t\t// convert the value to a number for number inputs, and for text for backwards compability\r\n\t\t\t// allows type=\"date\" and others to be compared as strings\r\n\t\t\tif ( /min|max/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\r\n\t\t\t\tvalue = Number( value );\r\n\t\t\t}\r\n\r\n\t\t\tif ( value || value === 0 ) {\r\n\t\t\t\trules[ method ] = value;\r\n\t\t\t} else if ( type === method && type !== \"range\" ) {\r\n\t\t\t\t// exception: the jquery validate 'range' method\r\n\t\t\t\t// does not test for the html5 'range' type\r\n\t\t\t\trules[ method ] = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// maxlength may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\r\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\r\n\t\t\tdelete rules.maxlength;\r\n\t\t}\r\n\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tdataRules: function( element ) {\r\n\t\tvar method, value,\r\n\t\t\trules = {}, $element = $( element );\r\n\t\tfor ( method in $.validator.methods ) {\r\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\r\n\t\t\tif ( value !== undefined ) {\r\n\t\t\t\trules[ method ] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tstaticRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\tvalidator = $.data( element.form, \"validator\" );\r\n\r\n\t\tif ( validator.settings.rules ) {\r\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tnormalizeRules: function( rules, element ) {\r\n\t\t// handle dependency check\r\n\t\t$.each( rules, function( prop, val ) {\r\n\t\t\t// ignore rule when param is explicitly false, eg. required:false\r\n\t\t\tif ( val === false ) {\r\n\t\t\t\tdelete rules[ prop ];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( val.param || val.depends ) {\r\n\t\t\t\tvar keepRule = true;\r\n\t\t\t\tswitch ( typeof val.depends ) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif ( keepRule ) {\r\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete rules[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// evaluate parameters\r\n\t\t$.each( rules, function( rule, parameter ) {\r\n\t\t\trules[ rule ] = $.isFunction( parameter ) ? parameter( element ) : parameter;\r\n\t\t});\r\n\r\n\t\t// clean number parameters\r\n\t\t$.each([ \"minlength\", \"maxlength\" ], function() {\r\n\t\t\tif ( rules[ this ] ) {\r\n\t\t\t\trules[ this ] = Number( rules[ this ] );\r\n\t\t\t}\r\n\t\t});\r\n\t\t$.each([ \"rangelength\", \"range\" ], function() {\r\n\t\t\tvar parts;\r\n\t\t\tif ( rules[ this ] ) {\r\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\r\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ]), Number( rules[ this ][ 1 ] ) ];\r\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\r\n\t\t\t\t\tparts = rules[ this ].replace(/[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\r\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ]), Number( parts[ 1 ] ) ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( $.validator.autoCreateRanges ) {\r\n\t\t\t// auto-create ranges\r\n\t\t\tif ( rules.min != null && rules.max != null ) {\r\n\t\t\t\trules.range = [ rules.min, rules.max ];\r\n\t\t\t\tdelete rules.min;\r\n\t\t\t\tdelete rules.max;\r\n\t\t\t}\r\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\r\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\r\n\t\t\t\tdelete rules.minlength;\r\n\t\t\t\tdelete rules.maxlength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rules;\r\n\t},\r\n\r\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\r\n\tnormalizeRule: function( data ) {\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\tvar transformed = {};\r\n\t\t\t$.each( data.split( /\\s/ ), function() {\r\n\t\t\t\ttransformed[ this ] = true;\r\n\t\t\t});\r\n\t\t\tdata = transformed;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\r\n\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\r\n\taddMethod: function( name, method, message ) {\r\n\t\t$.validator.methods[ name ] = method;\r\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\r\n\t\tif ( method.length < 3 ) {\r\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\r\n\t\t// http://jqueryvalidation.org/required-method/\r\n\t\trequired: function( value, element, param ) {\r\n\t\t\t// check if dependency is met\r\n\t\t\tif ( !this.depend( param, element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\r\n\t\t\t\t// could be an array for select-multiple or a string, both are fine this way\r\n\t\t\t\tvar val = $( element ).val();\r\n\t\t\t\treturn val && val.length > 0;\r\n\t\t\t}\r\n\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\treturn this.getLength( value, element ) > 0;\r\n\t\t\t}\r\n\t\t\treturn $.trim( value ).length > 0;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/email-method/\r\n\t\temail: function( value, element ) {\r\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\r\n\t\t\t// Retrieved 2014-01-14\r\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\r\n\t\t\t// Or use custom methods to implement your own email validation\r\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/url-method/\r\n\t\turl: function( value, element ) {\r\n\t\t\t// contributed by Scott Gonzalez: http://projects.scottsplayground.com/iri/\r\n\t\t\treturn this.optional( element ) || /^(https?|s?ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/date-method/\r\n\t\tdate: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/dateISO-method/\r\n\t\tdateISO: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/number-method/\r\n\t\tnumber: function( value, element ) {\r\n\t\t    return this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/digits-method/\r\n\t\tdigits: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/creditcard-method/\r\n\t\t// based on http://en.wikipedia.org/wiki/Luhn_algorithm\r\n\t\tcreditcard: function( value, element ) {\r\n\t\t\tif ( this.optional( element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\t\t\t// accept only spaces, digits and dashes\r\n\t\t\tif ( /[^0-9 \\-]+/.test( value ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar nCheck = 0,\r\n\t\t\t\tnDigit = 0,\r\n\t\t\t\tbEven = false,\r\n\t\t\t\tn, cDigit;\r\n\r\n\t\t\tvalue = value.replace( /\\D/g, \"\" );\r\n\r\n\t\t\t// Basing min and max length on\r\n\t\t\t// http://developer.ean.com/general_info/Valid_Credit_Card_Types\r\n\t\t\tif ( value.length < 13 || value.length > 19 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( n = value.length - 1; n >= 0; n--) {\r\n\t\t\t\tcDigit = value.charAt( n );\r\n\t\t\t\tnDigit = parseInt( cDigit, 10 );\r\n\t\t\t\tif ( bEven ) {\r\n\t\t\t\t\tif ( ( nDigit *= 2 ) > 9 ) {\r\n\t\t\t\t\t\tnDigit -= 9;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnCheck += nDigit;\r\n\t\t\t\tbEven = !bEven;\r\n\t\t\t}\r\n\r\n\t\t\treturn ( nCheck % 10 ) === 0;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/minlength-method/\r\n\t\tminlength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\r\n\t\t\treturn this.optional( element ) || length >= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/maxlength-method/\r\n\t\tmaxlength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\r\n\t\t\treturn this.optional( element ) || length <= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/rangelength-method/\r\n\t\trangelength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\r\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/min-method/\r\n\t\tmin: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || value >= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/max-method/\r\n\t\tmax: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || value <= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/range-method/\r\n\t\trange: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/equalTo-method/\r\n\t\tequalTo: function( value, element, param ) {\r\n\t\t\t// bind to the blur event of the target in order to revalidate whenever the target field is updated\r\n\t\t\t// TODO find a way to bind the event just once, avoiding the unbind-rebind overhead\r\n\t\t\tvar target = $( param );\r\n\t\t\tif ( this.settings.onfocusout ) {\r\n\t\t\t\ttarget.unbind( \".validate-equalTo\" ).bind( \"blur.validate-equalTo\", function() {\r\n\t\t\t\t\t$( element ).valid();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn value === target.val();\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/remote-method/\r\n\t\tremote: function( value, element, param ) {\r\n\t\t\tif ( this.optional( element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\r\n\t\t\tvar previous = this.previousValue( element ),\r\n\t\t\t\tvalidator, data;\r\n\r\n\t\t\tif (!this.settings.messages[ element.name ] ) {\r\n\t\t\t\tthis.settings.messages[ element.name ] = {};\r\n\t\t\t}\r\n\t\t\tprevious.originalMessage = this.settings.messages[ element.name ].remote;\r\n\t\t\tthis.settings.messages[ element.name ].remote = previous.message;\r\n\r\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\r\n\r\n\t\t\tif ( previous.old === value ) {\r\n\t\t\t\treturn previous.valid;\r\n\t\t\t}\r\n\r\n\t\t\tprevious.old = value;\r\n\t\t\tvalidator = this;\r\n\t\t\tthis.startRequest( element );\r\n\t\t\tdata = {};\r\n\t\t\tdata[ element.name ] = value;\r\n\t\t\t$.ajax( $.extend( true, {\r\n\t\t\t\turl: param,\r\n\t\t\t\tmode: \"abort\",\r\n\t\t\t\tport: \"validate\" + element.name,\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: data,\r\n\t\t\t\tcontext: validator.currentForm,\r\n\t\t\t\tsuccess: function( response ) {\r\n\t\t\t\t\tvar valid = response === true || response === \"true\",\r\n\t\t\t\t\t\terrors, message, submitted;\r\n\r\n\t\t\t\t\tvalidator.settings.messages[ element.name ].remote = previous.originalMessage;\r\n\t\t\t\t\tif ( valid ) {\r\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\r\n\t\t\t\t\t\tvalidator.prepareElement( element );\r\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\r\n\t\t\t\t\t\tvalidator.successList.push( element );\r\n\t\t\t\t\t\tdelete validator.invalid[ element.name ];\r\n\t\t\t\t\t\tvalidator.showErrors();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\terrors = {};\r\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, \"remote\" );\r\n\t\t\t\t\t\terrors[ element.name ] = previous.message = $.isFunction( message ) ? message( value ) : message;\r\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\r\n\t\t\t\t\t\tvalidator.showErrors( errors );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprevious.valid = valid;\r\n\t\t\t\t\tvalidator.stopRequest( element, valid );\r\n\t\t\t\t}\r\n\t\t\t}, param ) );\r\n\t\t\treturn \"pending\";\r\n\t\t}\r\n\r\n\t}\r\n\r\n});\r\n\r\n$.format = function deprecated() {\r\n\tthrow \"$.format has been deprecated. Please use $.validator.format instead.\";\r\n};\r\n\r\n// ajax mode: abort\r\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\r\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\r\n\r\nvar pendingRequests = {},\r\n\tajax;\r\n// Use a prefilter if available (1.5+)\r\nif ( $.ajaxPrefilter ) {\r\n\t$.ajaxPrefilter(function( settings, _, xhr ) {\r\n\t\tvar port = settings.port;\r\n\t\tif ( settings.mode === \"abort\" ) {\r\n\t\t\tif ( pendingRequests[port] ) {\r\n\t\t\t\tpendingRequests[port].abort();\r\n\t\t\t}\r\n\t\t\tpendingRequests[port] = xhr;\r\n\t\t}\r\n\t});\r\n} else {\r\n\t// Proxy ajax\r\n\tajax = $.ajax;\r\n\t$.ajax = function( settings ) {\r\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\r\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\r\n\t\tif ( mode === \"abort\" ) {\r\n\t\t\tif ( pendingRequests[port] ) {\r\n\t\t\t\tpendingRequests[port].abort();\r\n\t\t\t}\r\n\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\r\n\t\t\treturn pendingRequests[port];\r\n\t\t}\r\n\t\treturn ajax.apply(this, arguments);\r\n\t};\r\n}\r\n\r\n// provides delegate(type: String, delegate: Selector, handler: Callback) plugin for easier event delegation\r\n// handler is only called when $(event.target).is(delegate), in the scope of the jquery-object for event.target\r\n\r\n$.extend($.fn, {\r\n\tvalidateDelegate: function( delegate, type, handler ) {\r\n\t\treturn this.bind(type, function( event ) {\r\n\t\t\tvar target = $(event.target);\r\n\t\t\tif ( target.is(delegate) ) {\r\n\t\t\t\treturn handler.apply(target, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n}));","/*!\r\n * jQuery Validation Plugin v1.13.2-pre\r\n *\r\n * http://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2015 Jörn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function( factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\tdefine(\"jquery.validate\",[\"jquery\",'jquery.widget', \"jquery.validate.core\"], factory );\r\n\t} else {\r\n\t\tfactory( jQuery,widget );\r\n\t}\r\n}(function( $,widget ) {\r\n\r\n  /**\r\n   * 英文和空格\r\n   */\r\n  $.validator.addMethod('enCode',function(value,element,param){\r\n    return this.optional(element) || !/[^a-zA-Z\\s]/.test(value);\r\n  },$.validator.format(\"请输入英文字符\"));\r\n\r\n  /**\r\n   * 中文和空格\r\n   */\r\n\r\n  $.validator.addMethod('zhCode',function(value,element,param){\r\n    return this.optional(element) || /^[\\u2E80-\\u9FFF\\s]+$/.test(value);\r\n  },$.validator.format(\"请输入中文字符\"));\r\n\r\n  /**\r\n   * 手机号码\r\n   */\r\n  $.validator.addMethod('mobile',function(value,element,param){\r\n    return this.optional(element) || /^\\+?(86)?-?1\\d{10}$/.test(value);\r\n  },$.validator.format(\"请输入正确的手机号码\"));\r\n\r\n  /**\r\n   * 固定电话(加区号)\r\n   */\r\n  $.validator.addMethod('phone',function(value,element,param){\r\n    return this.optional(element) || /^(\\d{3,4}-?)?\\d{8}$/.test(value);\r\n  },$.validator.format(\"请输入固定电话号码\"));\r\n\r\n  /**\r\n   * 手机或固话\r\n   */\r\n  $.validator.addMethod('mobilePhone',function(value,element,param){\r\n    return this.optional(element) || /^\\+?(86)?-?1\\d{10}$/.test(value) || /^(\\d{3,4}-?)?\\d{8}$/.test(value);\r\n  },$.validator.format(\"请输入手机或固定电话号码\"));\r\n\r\n  /**\r\n   * 几项中任何一项必填\r\n   */\r\n  \r\n  $.validator.addMethod('multiRequire',function(value,element,param){\r\n    var res = true,that = this;\r\n    var $others = $('[multirequire='+param+']',this.currentForm).not(element);\r\n\r\n    if(!$.trim(value)){//此项为空时\r\n      res = false;\r\n      $others.each(function(){\r\n        //其它项不为空\r\n        if($.trim($(this).val())){\r\n          res = true;\r\n          return false;\r\n        }\r\n      });\r\n    }else{//此项不为空时\r\n      setTimeout(function(){\r\n        $others.each(function(){\r\n          that.element(this);\r\n        });\r\n      },0);\r\n    }\r\n\r\n    return res;\r\n  },$.validator.format(\"请在这几项中选择一项必填\"));\r\n\r\n  /**\r\n   * CSA编号（药智网专用）\r\n   */\r\n  $.validator.addMethod('casCode',function(value,element,param){\r\n    return this.optional(element) || /^\\d+\\-\\d+\\-\\d+$/.test(value);\r\n  },$.validator.format(\"请输入正确的CSA编号\"));\r\n\r\n\r\n  /* 中文 \r\n   * Translated default messages for the jQuery validation plugin.\r\n   * Locale: ZH (Chinese, 中文 (Zhōngwén), 汉语, 漢語)\r\n   */\r\n  $.extend($.validator.messages, {\r\n    required: \"这是必填字段\",\r\n    remote: \"请修正此字段\",\r\n    email: \"请输入有效的电子邮件地址\",\r\n    url: \"请输入有效的网址\",\r\n    date: \"请输入有效的日期\",\r\n    dateISO: \"请输入有效的日期 (YYYY-MM-DD)\",\r\n    number: \"请输入有效的数字\",\r\n    digits: \"只能输入数字\",\r\n    creditcard: \"请输入有效的信用卡号码\",\r\n    equalTo: \"你的输入不相同\",\r\n    extension: \"请输入有效的后缀\",\r\n    maxlength: $.validator.format(\"最多可以输入 {0} 个字符\"),\r\n    minlength: $.validator.format(\"最少要输入 {0} 个字符\"),\r\n    rangelength: $.validator.format(\"请输入长度在 {0} 到 {1} 之间的字符串\"),\r\n    range: $.validator.format(\"请输入范围在 {0} 到 {1} 之间的数值\"),\r\n    max: $.validator.format(\"请输入不大于 {0} 的数值\"),\r\n    min: $.validator.format(\"请输入不小于 {0} 的数值\")\r\n  });\r\n\r\n  /**\r\n   * 设置默认值\r\n   */\r\n  var defaultsHighlight = $.validator.defaults.highlight;\r\n  $.validator.setDefaults({\r\n    ignore : \".ignore\",\r\n    errorClass : \"validate-error\",\r\n    success : function(label){\r\n      //验证成功设置class并添加fa-check图标\r\n      label.addClass('validate-success');\r\n    },\r\n    errorPlacement : function(error,element){\r\n      element.parent().append(error);\r\n    },\r\n    highlight : function(el,errorClass){\r\n      var $el = $(el);\r\n      $el.siblings(\".\"+errorClass).removeClass('validate-success');\r\n      defaultsHighlight.apply(this,arguments);\r\n    }\r\n  });\r\n\r\n  return $;\r\n\r\n\r\n}));","/**\r\n * widget全局组件支持\r\n * install : 注册一个组件以便使用[data-widget]方式调用\r\n * update : 实例化子节点所有组件\r\n *   $el => 节点（默认为document）\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.widget',['jquery'],factory);\r\n  } else {\r\n    factory( jQuery );\r\n  }\r\n}(function($){\r\n\r\n  var widget = {}  \r\n\r\n  $.extend(widget,{\r\n    install: function(name,className){\r\n      var obj={};\r\n      if(!name || !className) return;\r\n\r\n      obj[name] = function(opt){\r\n        opt = opt || {},obj = {};\r\n        var args = Array.prototype.slice.apply(arguments);\r\n        args.shift();\r\n        return this.each(function(){\r\n          var $this = $(this);\r\n          var data = $this.data(name);\r\n\r\n          if(!data){\r\n            if($.type(opt) == \"object\"){\r\n              obj = $.extend(obj,opt);\r\n            }\r\n            obj = $.extend(obj,{el:$this});\r\n            data = new className(obj);\r\n            $this.data(name,data);\r\n          }\r\n\r\n          if(data && $.type(opt) == 'string') data[opt].apply(data,args);\r\n\r\n          return this;\r\n        });\r\n      }\r\n      $.fn.extend(obj);\r\n    },\r\n    update: function($el){\r\n      $el = $el || $(document);\r\n      var def = $.Deferred();\r\n      var $widgets = $el.find('[data-widget]');\r\n      if($el.is('[data-widget]')){\r\n        $widgets = $widgets.add($el);\r\n      }\r\n      var defs = $.map($widgets,function(el){\r\n        var itemDef = $.Deferred();\r\n        var $el = $(el);\r\n        var data = $el.data();\r\n        var widgetDefs = [];\r\n        var widgets = data.widget.split(',');\r\n\r\n        widgetDefs = $.map(widgets,function(item){\r\n          var widgetDef = $.Deferred();\r\n          require(['jquery.'+item],function(){\r\n            $el[item] && $el[item](data);\r\n            widgetDef.resolve();\r\n          });\r\n          return widgetDef.promise();\r\n        });\r\n\r\n        $.when.apply(window,widgetDefs).done(itemDef.resolve);\r\n        return itemDef.promise();\r\n      });\r\n\r\n      $.when.apply(window,defs).done(def.resolve);\r\n      return def.promise();\r\n    }\r\n  });\r\n\r\n  $.fn.extend({\r\n    widget: function(){\r\n      var $this = $(this);\r\n      var def = widget.update($this);\r\n      return def\r\n    }\r\n  })\r\n\r\n  return widget;\r\n\r\n}));\r\n","/**\r\n * [以弹出窗的形式打开一个链接]\r\n * @param  所有dialog含有的参数\r\n * @return {[object]}         [LinkDialog实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.linkDialog',['jquery','jquery.widget','jquery.dialog','underscore','backbone'],factory);\r\n  } else {\r\n    factory($,widget,Dialog,_,Backbone);\r\n  }\r\n}(function($,widget,Dialog,_,Backbone){\r\n  var id = 0;\r\n  var URLREG = /^https?:\\/\\/.*$/;\r\n  var $body = $(document.body);\r\n  var LinkDialog = function(opt){\r\n    id++;\r\n    this.options = $.extend(true,{\r\n      windowName: 'linkdialog_'+id\r\n    },arguments.callee.options,opt);\r\n    if(!!this.options.el){\r\n      this.$el = $(opt.el);\r\n      if(this.$el.length == 0 || !URLREG.test(this.$el[0].href)) return;\r\n      this.options.href = this.options.href || this.$el[0].href;\r\n      this.options.title = this.options.title || this.$el[0].title;\r\n    }\r\n\r\n    this.init();\r\n    this.events();\r\n  }\r\n\r\n  $.extend(LinkDialog.prototype,{\r\n    init: function(){\r\n      var that = this;\r\n\r\n      this.$dialog = $(this.temp(this.options));\r\n      this.$iframe = this.$dialog.children();\r\n      this.$iframe.data('linkDialog',this);\r\n      this.dialog = new Dialog($.extend({},this.options,{\r\n        el: this.$dialog,\r\n        autoOpen: true,\r\n        close: function(){\r\n          that.dialog.destroy();\r\n          that.$dialog.remove();\r\n        }\r\n      }));\r\n    },\r\n    events: function(){\r\n      var that = this;\r\n      var iframe = this.$iframe[0];\r\n\r\n      _.extend(iframe,Backbone.Events);\r\n      iframe.on('load',function(){\r\n        try{\r\n          that.dialog.setTitle(this.contentWindow.document.title);\r\n        }catch(e){}\r\n      });\r\n      iframe.on('close',function(){\r\n        that.destroy();\r\n      });\r\n      iframe.on('refresh',function(){\r\n        that.refresh();\r\n      });\r\n      iframe.on('setOption',function(opt){\r\n        that.setOption(opt);\r\n      });\r\n    },\r\n    destroy: function(){\r\n      this.$iframe[0].off();\r\n      this.dialog.destroy();\r\n    },\r\n    refresh: function(){\r\n      window.location.reload();\r\n    },\r\n    open: function(){\r\n      this.dialog.open();\r\n    },\r\n    setOption: function(opt){\r\n      this.dialog.setOption(opt);\r\n    },\r\n    temp: _.template(['<div class=\"ui-dialog-iframe-box\"><iframe frameborder=\"no\" src=\"<%= href %>\" class=\"ui-dialog-iframe\" name=\"<%= windowName %>\"></iframe></div>'].join(''))\r\n  });\r\n\r\n  $.extend(LinkDialog,{\r\n    options:{\r\n      modal:true,\r\n      href: ''\r\n    }\r\n  });\r\n\r\n  $body.on('click','[data-widget=linkDialog]',function(e){\r\n    e.preventDefault();\r\n    var $el = $(this);\r\n    var data = $el.data();\r\n    data.el = $el;\r\n    new LinkDialog(data);\r\n  });\r\n\r\n  return LinkDialog\r\n\r\n}));\r\n","/**\r\n * 级联下拉选择(已和药智数据耦合较深，其它项目慎用)\r\n * 参数\r\n * names : 分别的字段名，字符串(用逗号隔开)或数组(每一个的名字)\r\n * default : 默认值，字符串或数组，同理names参数\r\n * list : [\r\n *          {\r\n *            name:\"\",\r\n *            value:\"\",\r\n *            list:[{name:\"\",value:\"\"}]\r\n *          }\r\n *        ]\r\n * src : 远程拉取数据,数据格式为list\r\n * \r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.linkSelect',['jquery','underscore','jquery.widget','jquery.dropdownSelect'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n  var LinkSelect = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    var $el = $(opt.el);\r\n    this.options.className = $el.attr('class');\r\n    if(!this.options.defaults && typeof(this.options.defaults)!=\"number\"){\r\n      this.options.defaults = [];\r\n    }\r\n    \r\n    this.$el = $('<div class=\"link-select-wrap\"></div>');\r\n    $el.replaceWith(this.$el);\r\n    this.init();\r\n    this.events();\r\n  }\r\n\r\n  $.extend(LinkSelect.prototype,{\r\n    init : function(){\r\n      var that = this;\r\n      if(!!this.options.names && $.type(this.options.names)!=\"array\"){\r\n        this.options.names = this.options.names.split(',');\r\n      }\r\n      if($.type(this.options.defaults)!=\"array\"){\r\n        // fix 有些options自带\",\"导致的bug\r\n        this.options.defaults = this.options.defaults.toString().replace(/([^\\\\]),/,'$1||').replace(/\\\\,/,',').split('||');\r\n      }\r\n      if(!!this.options.data && $.type(this.options.data)==\"string\"){\r\n        this.options.data = $.parseJSON(this.options.data);\r\n      }\r\n\r\n      this.create();\r\n    },\r\n    create: function(){\r\n      var self = this;\r\n      this.createSelect(this.options).done(function($select){\r\n        self.$el.append($select);\r\n        $select.dropdownSelect();\r\n        $select.trigger('ls-create');\r\n        _.defer(_.bind(self.setDefault,self));\r\n      });\r\n    },\r\n    events: function(){\r\n      var self = this;\r\n      this.$el.on('change','select',function(){\r\n        var $this = $(this);\r\n        var $widget = $this.data('dropdownSelect').$widget;\r\n        var $selected = $this.find('option:selected');\r\n        var data = $selected.data('data');\r\n        $widget.nextAll().remove();\r\n        if(!data) return;\r\n        self.createSelect(data).done(function($select){\r\n          $widget.after($select);\r\n          $select.trigger('ls-create');\r\n          $select.dropdownSelect();\r\n        });\r\n      });\r\n    },\r\n    getName: function($el){\r\n      var index = this.$el.children().length;\r\n      if(this.options.names.length>1){\r\n        return this.options.names[index];\r\n      }else{\r\n        return this.options.names;\r\n      }\r\n    },\r\n    setValue: function(index,item){\r\n      var $select = this.$el.children().eq(index).children('select');\r\n      $select.val(item).trigger('change');\r\n    },\r\n    createSelect: function(data){\r\n      var self = this;\r\n      var func = arguments.callee;\r\n      var def = $.Deferred();\r\n      var promise = def.promise();\r\n      if(data.list === null){\r\n        def.reject();\r\n        return promise;\r\n      };\r\n      if(!data.list){\r\n        data.list = null;\r\n        this.req(data.val).done(function(res){\r\n          if(res.state != 1){\r\n            def.reject(); \r\n          };\r\n          data.list = res.data;\r\n          func.call(self,data).done(function($select){\r\n            def.resolve($select);\r\n          });\r\n        });\r\n        return promise;\r\n      }\r\n      if(data.list.length == 0){\r\n        def.reject();\r\n        return promise;\r\n      }\r\n      var list = data.list;\r\n      var option = $.extend({},this.options,{name:this.getName()});\r\n      var $select = $(this.selectTemp(option));\r\n      var obj,opt = {};\r\n\r\n      if(list.length == 0) return;\r\n      list = list.concat();\r\n      while(obj=list.shift()){\r\n        $select.append(this.createOption(obj));\r\n      }\r\n      def.resolve($select);\r\n      return promise;\r\n    },\r\n    createOption: function(data){\r\n      var $option = $(this.optionTemp(data));\r\n      $option.data('data',data);\r\n      return $option;\r\n    },\r\n    setDefault: function(){\r\n      var that = this;\r\n      $.each(this.options.defaults,function(index,item){\r\n        that.setValue(index,item);\r\n      });\r\n    },\r\n    req: function(val){\r\n      if(!this.options.src){\r\n        var d=$.Deferred();\r\n        d.reject();\r\n        return d.promise();\r\n      }\r\n      return $.ajax({\r\n        url: this.options.src,\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {val:val}\r\n      });\r\n    },\r\n    selectTemp: _.template([\r\n      '<select name=\"<%= name %>\" class=\"<%= className %>\" data-widget=\"dropdownSelect\"></select>'\r\n    ].join('')),\r\n    optionTemp: _.template([\r\n      '<option value=\"<%= val %>\"><%= name %></option>'\r\n    ].join(''))\r\n  });\r\n  $.extend(LinkSelect,{});\r\n\r\n  widget.install('linkSelect',LinkSelect);\r\n\r\n  return LinkSelect\r\n\r\n}));","/**\r\n * 滚动元素\r\n * new Marquee(options);\r\n * el : //主元素\r\n * direction : 'up',//方向,up,left\r\n * speed : 30,//速度\r\n * step : 1,//步长\r\n * visible : 1,//显示元素个数\r\n\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.marquee',['jquery','jquery.widget'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n\r\n  function Marquee(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el).addClass('ui-marquee');\r\n    this.init();\r\n  }\r\n  $.extend(Marquee.prototype,{\r\n    init : function(){\r\n      var width,\r\n          height,\r\n          length,\r\n          timer,\r\n          options = this.options,\r\n          _this   = this;\r\n\r\n      this.$items = this.$el.children().addClass('ui-marquee-li');\r\n      if(this.options.direction == \"left\") this.$items.css({float:\"left\"});\r\n      width = this.$items.outerWidth(true),height = this.$items.outerHeight(true);\r\n      $.extend(this.options,{\r\n        width : width,\r\n        height : height,\r\n        showWidth : width*this.$items.length,\r\n        showHeight : height*this.$items.length\r\n      });\r\n      this.$items.detach();\r\n      if(this.$items.length >= options.visible){//大于visible个元素则进行滚动\r\n        this.$items = this.$items.add(this.$items.slice(0,options.visible).clone());//复制前visible个li，并添加到ul后\r\n        length = this.$items.length;\r\n        this.$itemBox = $('<div class=\"ui-marquee-list\"></div>').append(this.$items).appendTo(this.$el);\r\n        this.$el.css({overflow:'hidden',zoom:1});\r\n        this.$itemBox.css({overflow:'hidden',zoom:1});\r\n        switch(options.direction){\r\n          case \"left\":{\r\n            this.$el.css({width:options.visible*options.width});\r\n            this.$itemBox.css({width:length*options.width});\r\n            break;\r\n          }\r\n          case \"up\":{\r\n            this.$el.css({height:options.visible*options.height});\r\n            this.$itemBox.css({height:length*options.height});\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.$itemBox.hover($.proxy(this.stop,this),$.proxy(this.start,this));\r\n      this.start();\r\n    },\r\n    roll : function(){\r\n      var options = this.options,\r\n      $el = this.$el;\r\n\r\n      if(options.direction == \"left\"){\r\n        if($el.scrollLeft() >= options.showWidth){\r\n          $el.scrollLeft(0);\r\n        }else{\r\n          $el.scrollLeft($el.scrollLeft()+options.step);\r\n        }\r\n      }\r\n      \r\n      if(options.direction == \"up\"){\r\n        if($el.scrollTop() >= options.showHeight){\r\n          $el.scrollTop(0);\r\n        }else{\r\n          $el.scrollTop($el.scrollTop()+options.step);\r\n        }\r\n      }\r\n    },\r\n    start : function(){\r\n      this.timer = setInterval($.proxy(this.roll,this),this.options.speed);\r\n    },\r\n    stop : function(){\r\n      clearInterval(this.timer);\r\n    }\r\n  });\r\n  $.extend(Marquee,{\r\n    options : {\r\n      direction : 'up',\r\n      speed : 30,\r\n      step : 1,\r\n      visible : 1\r\n    }\r\n  });\r\n  $.extend($.fn,{\r\n    marquee : function(opt){\r\n      opt = opt || {};\r\n      var args = Array.prototype.slice.apply(arguments);\r\n      args.shift();\r\n      return this.each(function(){\r\n        var $this = $(this);\r\n        var data = $this.data('marquee');\r\n\r\n        if($.type(opt) == 'object'){\r\n          opt = $.extend({},opt,{el:$this});\r\n          data = new Marquee(opt);\r\n          $this.data('marquee',data);\r\n        }\r\n        if($.type(opt) == 'string') data[opt].apply(data,args);\r\n\r\n        return this;\r\n      });\r\n    }\r\n  });\r\n\r\n  widget.install('marquee',Marquee);\r\n\r\n  return Marquee;\r\n\r\n}));\r\n   ","/**\r\n * [移动焦点，使用上下左右移动一组集合的焦点]\r\n * @param  {[funMap]} obj [键:方法名的键值对]\r\n * up：向上移动，第一次执行选择最后一排第一个\r\n * down: 向下移动，第一次执行选择第一排第一个\r\n * left: 向左移动，第一次执行选择最后一排最后一个\r\n * right: 向右移动，第一次执行选择第一排第一个\r\n * @return {[object]}         [实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.moveFocus',['jquery','jquery.widget'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n  function MoveFocus(opt){\r\n    this.options = $.extend(true,{},MoveFocus.options,opt);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(MoveFocus.prototype,{\r\n    init: function(){\r\n      this.$el = $(this.options.el);\r\n      this.$el[0].autocomplete = \"off\";\r\n      this.$collection = $(this.options.collection);\r\n      this.events();\r\n    },\r\n    events: function(){\r\n      var that = this;\r\n      this.$el.on('keydown',function(e){\r\n        that.$collection = $(that.options.collection);\r\n        var funName = that.options.funMap[e.keyCode];\r\n        if(!funName) return;\r\n        that[funName]();\r\n        return false;\r\n      });\r\n    },\r\n    up: function(){\r\n      var $first,$ffirst;\r\n      var $active = this.$collection.filter('.active');\r\n      if($active.length == 0){\r\n        this.select(this.$collection.index(this.$collection.eq(-1).siblings().andSelf().filter(':first')));\r\n      }else{\r\n        //选择上一排第一个\r\n        $first = $active.siblings().andSelf().filter(':first');\r\n        $ffirst = this.$collection.eq(this.$collection.index($first)-1).siblings().andSelf().filter(':first');\r\n        this.select(this.$collection.index($ffirst));\r\n      }\r\n    },\r\n    down: function(){\r\n      var $last;\r\n      var $active = this.$collection.filter('.active');\r\n      if($active.length == 0){\r\n        this.select(0);\r\n      }else{\r\n        //选择下一排第一个\r\n        $last = $active.siblings().andSelf().filter(':last');\r\n        this.select(this.$collection.index($last)+1);\r\n      }\r\n    },\r\n    left: function(){\r\n      var current;\r\n      var $active = this.$collection.filter('.active');\r\n      if($active.length == 0){\r\n        current = 0;\r\n      }else{\r\n        current = this.$collection.index($active);\r\n      }\r\n      this.select(current-1);\r\n    },\r\n    right: function(){\r\n      var current;\r\n      var $active = this.$collection.filter('.active');\r\n      if($active.length == 0){\r\n        current = -1;\r\n      }else{\r\n        current = this.$collection.index($active);\r\n      }\r\n      this.select(current+1);\r\n    },\r\n    enter: function(){\r\n      var $active = this.$collection.filter('.active');\r\n      //firefox不兼容 \r\n      $active[0].click();\r\n    },\r\n    select: function(index){\r\n      index = index % this.$collection.length;\r\n      this.$collection.filter('.active').removeClass('active');\r\n      this.$collection.eq(index).addClass('active');\r\n    }\r\n  });\r\n\r\n  $.extend(MoveFocus,{\r\n    options : {\r\n      collection: \"\",\r\n      funMap: {\r\n        37: \"left\",\r\n        38: \"up\",\r\n        39: \"right\",\r\n        40: \"down\",\r\n        13: \"enter\"\r\n      }\r\n    }\r\n  });\r\n\r\n  widget.install('moveFocus',MoveFocus);\r\n\r\n  return MoveFocus;\r\n\r\n}));\r\n","/**\r\n * [分页]\r\n * @param  {[number]} currentPage [当前页]\r\n * @param  {[number]} pageSize [一页条数]\r\n * @param  {[number]} total [总条数]\r\n * @param  {[number]} edges [两边显示个数]\r\n * @param  {[number]} displayEdges [中间显示个数]\r\n * @param  {[string]} prevHtml [上一页显示html]\r\n * @param  {[string]} nextHtml [下一页显示html]\r\n * @param  {[string]} href [链接模版，使用<%= page %>获取当前页]\r\n * @param  {[string]} ellipseText [省略号样式]\r\n * @param  {[boole]} pageSizeSelect [是否允许选择每页数量]\r\n * @param  {[array]} pageSizeArray [每页数量选择数组]\r\n * @param  {[boole]} skipPage [是否允许跳转到某页]\r\n * @param  {[boole]} showPages [是否显示总页数]\r\n * @param  {[boole]} showNums [是否显示总条数]\r\n * @param  {[number]} maxPage [最多显示页数]\r\n * @param  {[function]} onChange [change回调]\r\n * \r\n * @return {[object]}         [Pagination 实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.pagination',['jquery','underscore','jquery.widget','queryString'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget,queryString );\r\n  }\r\n}(function($,_,widget,queryString){\r\n  function Pagination(opt){\r\n    this.$el = $(opt.el);\r\n    var _data = this.$el.data(),data = {};\r\n    //对药智数据的参数兼容\r\n    _.mapObject(_data,function(v,k){\r\n      switch(k){\r\n        case 'page': {\r\n          data.currentPage = parseInt(v);\r\n          break;\r\n        }\r\n        case 'size': {\r\n          data.pageSize = parseInt(v);\r\n          break;\r\n        }\r\n        case 'max': {\r\n          data.maxPage = parseInt(v);\r\n          break;\r\n        }\r\n        default: {\r\n          data[k] = v;\r\n        }\r\n      }\r\n    });\r\n    this.options = $.extend(this,arguments.callee.options,data,opt);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Pagination.prototype,{\r\n    init: function(){\r\n      this.$el.addClass('pagination');\r\n      this._events();\r\n      this.render();\r\n    },\r\n    setOptions: function(opt){\r\n      $.extend(this,opt);\r\n      var pageChange = $.Event('pageChange',{page : this.currentPage});\r\n      this.$el.trigger(pageChange);\r\n      this.render();\r\n    },\r\n    setPage: function(number){\r\n      this.setOptions({currentPage:number});\r\n      var href = this._createHref({page:number});\r\n      //处理hash兼容\r\n      if(href.search(\"#\") == 0){\r\n        location.hash = href.substring(1);\r\n      }else{\r\n        location.href = href;\r\n      }\r\n    },\r\n    setPageSize: function(number){\r\n      this.setOptions({pageSize:number});\r\n      this.setPage(this.currentPage);\r\n    },\r\n    render: function(){\r\n      var self = this;\r\n      var totalPage = Math.ceil(this.total/this.pageSize);\r\n      if(this.maxPage && this.maxPage<totalPage){\r\n        totalPage = this.maxPage;\r\n      }\r\n      var items = [];\r\n      this.$el.empty();\r\n      if(totalPage!=0 && this.currentPage>totalPage){\r\n        this.setPage(totalPage);\r\n        return;\r\n      };\r\n      //添加当前页\r\n      items.push({page: this.currentPage,html: this.currentPage,style:'current'});\r\n\r\n      //添加显示条数\r\n      _.times(this.displayEdges,_.bind(function(index){\r\n        index = index+1;\r\n        var prev = this.currentPage-index,\r\n            next = this.currentPage+index;\r\n        if(prev > 0){\r\n          items.unshift({page: prev,html: prev});\r\n        }\r\n        if(next < totalPage+1){\r\n          items.push({page: next,html: next});\r\n        }\r\n      },this));\r\n      \r\n      //添加边缘\r\n      _.times(this.edges,_.bind(function(index){\r\n        index = this.edges-index;\r\n        var prevStart = this.currentPage-this.displayEdges;\r\n        var nextStart = this.currentPage+this.displayEdges;\r\n        var prev = index,\r\n            next = totalPage+1-index;\r\n\r\n        if(prev<prevStart){\r\n          //添加省略\r\n          if(index == this.edges && (prevStart>1+index)){\r\n            items.unshift({page: 0,html: this.ellipseText,style:'ellipse'});\r\n          }\r\n          items.unshift({page: prev,html: prev});\r\n          \r\n        }\r\n        if(next>nextStart){\r\n          //添加省略\r\n          if(index == this.edges &&(nextStart<totalPage-index)){\r\n            items.push({page: 0,html: this.ellipseText,style:'ellipse'});\r\n          }\r\n          items.push({page: next,html: next});\r\n        }\r\n\r\n      },this));\r\n      //上一页\r\n      if(this.currentPage!=1){\r\n        items.unshift({page: this.currentPage-1,html: this.prevHtml});\r\n      }\r\n      //下一页\r\n      if(this.currentPage!=totalPage){\r\n        items.push({page: this.currentPage+1,html: this.nextHtml});\r\n      }\r\n\r\n      //使用items列表生成节点\r\n      var $els = this._createElements(items);\r\n      this.$el.append($els);\r\n\r\n      //附加功能\r\n      this.showPages && this.$el.append('<span class=\"total-page\">共 '+totalPage+' 页</span>');\r\n      this.showNums && this.$el.prepend('<span class=\"total-nums\">共 '+this.total+' 条</span>');\r\n      this.skipPage && this._skipPage();\r\n      this.pageSizeSelect && this._pageSizeSelect();\r\n    },\r\n    _events: function(){\r\n      var self = this;\r\n      this.$el.on('click','.page',function(){\r\n        var $this = $(this);\r\n        if($this.hasClass('ellipse')) return;\r\n        if($this.hasClass('current')) return;\r\n        self.setPage($this.data('page'));\r\n        return false;\r\n      });\r\n\r\n      this.$el.on('keydown','.skip',function(e){\r\n        if(e.keyCode != 13) return;\r\n        skip();\r\n      });\r\n      this.$el.on('click','.skip-page .jump',skip);\r\n      this.$el.on('change','.page-size',function(){\r\n        self.setPageSize($(this).val());\r\n      });\r\n      function skip(){\r\n        var $skip = self.$el.find('.skip');\r\n        var totalPage = Math.ceil(self.total/self.pageSize);\r\n        var val = parseInt($skip.val());\r\n        if(!isNaN(val) && val<=totalPage){\r\n          self.setPage(val);\r\n        }else{\r\n          $skip.val('');\r\n        }\r\n      }\r\n    },\r\n    _createHref: function(opt){\r\n      var href,params;\r\n      href= _.template(this.href)(opt);\r\n      params= queryString.parse(queryString.extract(href));\r\n      params.pageSize= this.options.pageSize;\r\n      return href.split('?')[0]+'?'+queryString.stringify(params);\r\n    },\r\n    _createElements: function(items){\r\n      var self = this,$els = $();\r\n      ($.type(items) == \"object\") && (items = [items]);\r\n      $.each(items,function(index,item){\r\n        item.href = item.page ? self._createHref({page:item.page}) : \"javascript:;\";\r\n        var opt = $.extend({style:'',href:\"javascript:;\"},item);\r\n        var $el = $(self._elementTemp(opt));\r\n        $els = $els.add($el);\r\n        $el.data('page',opt.page);\r\n      });\r\n      return $els;\r\n    },\r\n    _skipPage: function(){\r\n      var $el = $(this._skipPageTemp({\r\n        items: this.pageSizeArray,\r\n        pageSize: this.pageSize\r\n      }));\r\n      this.$el.append($el);\r\n    },\r\n    _pageSizeSelect: function(){\r\n      var $el = $(this._pageSizeSelectTemp({\r\n        items: this.pageSizeArray,\r\n        pageSize: this.pageSize\r\n      }));\r\n      this.$el.append($el);\r\n    },\r\n    _skipPageTemp: _.template([\r\n      '<span class=\"skip-page\">跳转到 <input type=\"text\" class=\"skip\" value=\"\" /> 页 <a href=\"javascript:;\" class=\"jump\">跳转</a></span>'\r\n    ].join('')),\r\n    _pageSizeSelectTemp: _.template([\r\n      '<select class=\"page-size\">',\r\n        '<% _.each(items,function(item,index){ %>',\r\n        '<option value=\"<%= item %>\" <% if(item == pageSize){ %>selected=\"selected\"<%}%> ><%= item %></option>',\r\n        '<% }); %>',\r\n      '</select>'\r\n    ].join('')),\r\n    _elementTemp: _.template([\r\n      '<a href=\"<%= href%>\" class=\"page <%= style %>\"><%= html %></a>'\r\n    ].join(''))\r\n  });\r\n\r\n  $.extend(Pagination,{\r\n    options : {\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      edges: 1,\r\n      displayEdges: 2,\r\n      prevHtml: \"上一页\",\r\n      nextHtml: \"下一页\",\r\n      href: \"#page-<%= page %>\",\r\n      ellipseText: \"&hellip;\",\r\n      pageSizeSelect: false,\r\n      pageSizeArray: [10,20,50,100],//分页选择控制\r\n      skipPage: false,//是否允许跳转到指定页\r\n      showPages: false,//是否显示总页数\r\n      showNums: false,//是否显示总条数\r\n      maxPage: 0,//最大显示页数\r\n      onChange: $.noop\r\n    }\r\n  });\r\n\r\n  widget.install('pagination',Pagination);\r\n\r\n  return Pagination;\r\n\r\n}));\r\n","/**\r\n * [placeholder兼容]\r\n * @param  {[string]} text [placeholder文字]\r\n * @return {[object]}         [Placeholder 实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.placeholder',['jquery','modernizr','jquery.widget'],factory);\r\n  } else {\r\n    factory( jQuery,modernizr,widget );\r\n  }\r\n}(function($,modernizr,widget){\r\n  function Placeholder(opt){\r\n    Placeholder.options.id++;\r\n    this.$el = $(opt.el);\r\n    this.$label = $();\r\n    if(!opt.text){\r\n      opt.text = this.$el.attr('placeholder');\r\n    }\r\n    this.options = $.extend(true,{},Placeholder.options,opt);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Placeholder.prototype,{\r\n    init: function(){\r\n      //兼容placeholder则返回\r\n      if(modernizr.input.placeholder){\r\n        return;\r\n      }\r\n      var _this = this;\r\n      var options = this.options;\r\n      options.height = this.$el.height();\r\n      var height = options.height;\r\n      var borderWidth = parseInt(this.$el.css('borderTopWidth')) || 0;\r\n      var id = this.$el.attr('id');\r\n      if(!id){\r\n        id = 'placeholder_'+options.id;\r\n        this.$el.attr('id',id);\r\n      }\r\n      this.$label = $('<label for=\"'+id+'\">'+options.text+'</label>')\r\n        .css({\r\n          position : 'absolute',\r\n          cursor : 'text',\r\n          color : \"graytext\",\r\n          fontSize : this.$el.css('fontSize'),\r\n          paddingTop : parseInt(this.$el.css('paddingTop'))+borderWidth,\r\n          paddingLeft : parseInt(this.$el.css('paddingLeft'))+borderWidth,\r\n          lineHeight : height+'px'\r\n        }).insertBefore(this.$el);\r\n      this.$el.on('keyup focus input propertychange',function(){\r\n        if(_this.$el.val() == \"\"){\r\n          _this.$label.text(options.text);\r\n        }else{\r\n          _this.$label.text(\"\");\r\n        }\r\n      });\r\n      this.$el.trigger('input');\r\n    },\r\n    set: function(key,value){\r\n      this.options[key] = value;\r\n      if(key == \"text\") this.refresh();\r\n    },\r\n    refresh: function(){\r\n      this.$label.text(this.options.text);\r\n      this.$el.attr('placeholder',this.options.text);\r\n    }\r\n  });\r\n\r\n  $.extend(Placeholder,{\r\n    options : {\r\n      text : '请输入内容',\r\n      id : 1\r\n    }\r\n  });\r\n\r\n  widget.install('placeholder',Placeholder);\r\n\r\n  return Placeholder;\r\n\r\n}));\r\n","/* Plax version 1.4.1 */\r\n\r\n/*\r\n  Copyright (c) 2011 Cameron McEfee\r\n\r\n  Permission is hereby granted, free of charge, to any person obtaining\r\n  a copy of this software and associated documentation files (the\r\n  \"Software\"), to deal in the Software without restriction, including\r\n  without limitation the rights to use, copy, modify, merge, publish,\r\n  distribute, sublicense, and/or sell copies of the Software, and to\r\n  permit persons to whom the Software is furnished to do so, subject to\r\n  the following conditions:\r\n\r\n  The above copyright notice and this permission notice shall be\r\n  included in all copies or substantial portions of the Software.\r\n\r\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n  LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n  OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n  WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n*/\r\n\r\n//官方 (function ($) {\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.plax',['jquery'],factory);\r\n  } else {\r\n    factory( jQuery );\r\n  }\r\n}(function($){\r\n  var maxfps             = 25,\r\n      delay              = 1 / maxfps * 1000,\r\n      lastRender         = new Date().getTime(),\r\n      layers             = [],\r\n      plaxActivityTarget = $(window),\r\n      motionDegrees      = 30,\r\n      motionMax          = 1,\r\n      motionMin          = -1,\r\n      motionStartX       = null,\r\n      motionStartY       = null,\r\n      ignoreMoveable     = false,\r\n      options            = null;\r\n\r\n  var defaults = {\r\n    useTransform : true\r\n  };\r\n\r\n  // Public Methods\r\n  $.fn.plaxify = function (params){\r\n    options = $.extend({}, defaults, params);\r\n    options.useTransform = (options.useTransform ? supports3dTransform() : false);\r\n\r\n    return this.each(function () {\r\n\r\n      var layerExistsAt = -1;\r\n      var layer         = {\r\n        \"xRange\": $(this).data('xrange') || 0,\r\n        \"yRange\": $(this).data('yrange') || 0,\r\n        \"zRange\": $(this).data('zrange') || 0,\r\n        \"invert\": $(this).data('invert') || false,\r\n        \"background\": $(this).data('background') || false\r\n      };\r\n\r\n      for (var i=0;i<layers.length;i++){\r\n        if (this === layers[i].obj.get(0)){\r\n          layerExistsAt = i;\r\n        }\r\n      }\r\n\r\n      for (var param in params) {\r\n        if (layer[param] == 0) {\r\n          layer[param] = params[param];\r\n        }\r\n      }\r\n\r\n      layer.inversionFactor = (layer.invert ? -1 : 1); // inversion factor for calculations\r\n\r\n      // Add an object to the list of things to parallax\r\n      layer.obj    = $(this);\r\n      if(layer.background) {\r\n        // animate using the element's background\r\n        pos = (layer.obj.css('background-position') || \"0px 0px\").split(/ /);\r\n        if(pos.length != 2) {\r\n          return;\r\n        }\r\n        x = pos[0].match(/^((-?\\d+)\\s*px|0+\\s*%|left)$/);\r\n        y = pos[1].match(/^((-?\\d+)\\s*px|0+\\s*%|top)$/);\r\n        if(!x || !y) {\r\n          // no can-doesville, babydoll, we need pixels or top/left as initial values (it mightbe possible to construct a temporary image from the background-image property and get the dimensions and run some numbers, but that'll almost definitely be slow)\r\n          return;\r\n        }\r\n        layer.originX = layer.startX = x[2] || 0;\r\n        layer.originY = layer.startY = y[2] || 0;\r\n        layer.transformOriginX = layer.transformStartX = 0;\r\n        layer.transformOriginY = layer.transformStartY = 0;\r\n        layer.transformOriginZ = layer.transformStartZ = 0;\r\n\r\n      } else {\r\n\r\n        // Figure out where the element is positioned, then reposition it from the top/left, same for transform if using translate3d\r\n        var position           = layer.obj.position(),\r\n            transformTranslate = get3dTranslation(layer.obj);\r\n\r\n        layer.obj.css({\r\n          'transform' : transformTranslate.join() + 'px',\r\n          'top'   : position.top,\r\n          'left'  : position.left,\r\n          'right' :'',\r\n          'bottom':''\r\n        });\r\n        layer.originX = layer.startX = position.left;\r\n        layer.originY = layer.startY = position.top;\r\n        layer.transformOriginX = layer.transformStartX = transformTranslate[0];\r\n        layer.transformOriginY = layer.transformStartY = transformTranslate[1];\r\n        layer.transformOriginZ = layer.transformStartZ = transformTranslate[2];\r\n      }\r\n\r\n      layer.startX -= layer.inversionFactor * Math.floor(layer.xRange/2);\r\n      layer.startY -= layer.inversionFactor * Math.floor(layer.yRange/2);\r\n\r\n      layer.transformStartX -= layer.inversionFactor * Math.floor(layer.xRange/2);\r\n      layer.transformStartY -= layer.inversionFactor * Math.floor(layer.yRange/2);\r\n      layer.transformStartZ -= layer.inversionFactor * Math.floor(layer.zRange/2);\r\n\r\n      if(layerExistsAt >= 0){\r\n        layers.splice(layerExistsAt,1,layer);\r\n      } else {\r\n        layers.push(layer);\r\n      }\r\n\r\n    });\r\n  };\r\n\r\n  // Get the translate position of the element\r\n  //\r\n  // return 3 element array for translate3d\r\n  function get3dTranslation(obj) {\r\n    var translate = [0,0,0],\r\n        matrix    = obj.css(\"-webkit-transform\") ||\r\n                    obj.css(\"-moz-transform\")    ||\r\n                    obj.css(\"-ms-transform\")     ||\r\n                    obj.css(\"-o-transform\")      ||\r\n                    obj.css(\"transform\");\r\n\r\n    if(matrix !== 'none') {\r\n      var values = matrix.split('(')[1].split(')')[0].split(',');\r\n      var x = 0,\r\n          y = 0,\r\n          z = 0;\r\n      if(values.length == 16){\r\n        // 3d matrix\r\n        x = (parseFloat(values[values.length - 4]));\r\n        y = (parseFloat(values[values.length - 3]));\r\n        z = (parseFloat(values[values.length - 2]));\r\n      }else{\r\n        // z is not transformed as is not a 3d matrix\r\n        x = (parseFloat(values[values.length - 2]));\r\n        y = (parseFloat(values[values.length - 1]));\r\n        z = 0;\r\n      }\r\n      translate = [x,y,z];\r\n    }\r\n    return translate;\r\n  }\r\n\r\n  // Check if element is in viewport area\r\n  //\r\n  // Returns boolean\r\n  function inViewport(element) {\r\n    if (element.offsetWidth === 0 || element.offsetHeight === 0) return false;\r\n\r\n\tvar height = document.documentElement.clientHeight,\r\n      rects  = element.getClientRects();\r\n\r\n\tfor (var i = 0, l = rects.length; i < l; i++) {\r\n\r\n    var r           = rects[i],\r\n        in_viewport = r.top > 0 ? r.top <= height : (r.bottom > 0 && r.bottom <= height);\r\n\r\n    if (in_viewport) return true;\r\n\t}\r\n\treturn false;\r\n  }\r\n\r\n  // Check support for 3dTransform\r\n  //\r\n  // Returns boolean\r\n  function supports3dTransform() {\r\n    var el = document.createElement('p'),\r\n        has3d,\r\n        transforms = {\r\n          'webkitTransform':'-webkit-transform',\r\n          'OTransform':'-o-transform',\r\n          'msTransform':'-ms-transform',\r\n          'MozTransform':'-moz-transform',\r\n          'transform':'transform'\r\n        };\r\n\r\n    document.body.insertBefore(el, null);\r\n\r\n    for (var t in transforms) {\r\n      if (el.style[t] !== undefined) {\r\n        el.style[t] = \"translate3d(1px,1px,1px)\";\r\n        has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\r\n      }\r\n    }\r\n\r\n    document.body.removeChild(el);\r\n    return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\r\n  }\r\n\r\n  // Determine if the device has an accelerometer\r\n  //\r\n  // returns true if the browser has window.DeviceMotionEvent (mobile)\r\n  function moveable(){\r\n    return (ignoreMoveable===true) ? false : window.DeviceOrientationEvent !== undefined;\r\n  }\r\n\r\n  // The values pulled from the gyroscope of a motion device.\r\n  //\r\n  // Returns an object literal with x and y as options.\r\n  function valuesFromMotion(e) {\r\n    x = e.gamma;\r\n    y = e.beta;\r\n\r\n    // Swap x and y in Landscape orientation\r\n    if (Math.abs(window.orientation) === 90) {\r\n      var a = x;\r\n      x = y;\r\n      y = a;\r\n    }\r\n\r\n    // Invert x and y in upsidedown orientations\r\n    if (window.orientation < 0) {\r\n      x = -x;\r\n      y = -y;\r\n    }\r\n\r\n    motionStartX = (motionStartX === null) ? x : motionStartX;\r\n    motionStartY = (motionStartY === null) ? y : motionStartY;\r\n\r\n    return {\r\n      x: x - motionStartX,\r\n      y: y - motionStartY\r\n    };\r\n  }\r\n\r\n  // Move the elements in the `layers` array within their ranges,\r\n  // based on mouse or motion input\r\n  //\r\n  // Parameters\r\n  //\r\n  //  e - mousemove or devicemotion event\r\n  //\r\n  // returns nothing\r\n  function plaxifier(e) {\r\n    if (new Date().getTime() < lastRender + delay) return;\r\n      lastRender = new Date().getTime();\r\n\r\n    var leftOffset = (plaxActivityTarget.offset() != null) ? plaxActivityTarget.offset().left : 0,\r\n        topOffset  = (plaxActivityTarget.offset() != null) ? plaxActivityTarget.offset().top : 0,\r\n        x          = e.pageX-leftOffset,\r\n        y          = e.pageY-topOffset;\r\n\r\n    if (!inViewport(layers[0].obj[0].parentNode)) return;\r\n\r\n    if(moveable()){\r\n      if(e.gamma === undefined){\r\n        ignoreMoveable = true;\r\n        return;\r\n      }\r\n      values = valuesFromMotion(e);\r\n\r\n      // Admittedly fuzzy measurements\r\n      x = values.x / motionDegrees;\r\n      y = values.y / motionDegrees;\r\n      // Ensure not outside of expected range, -1 to 1\r\n      x = x < motionMin ? motionMin : (x > motionMax ? motionMax : x);\r\n      y = y < motionMin ? motionMin : (y > motionMax ? motionMax : y);\r\n      // Normalize from -1 to 1 => 0 to 1\r\n      x = (x + 1) / 2;\r\n      y = (y + 1) / 2;\r\n    }\r\n\r\n    var hRatio = x/((moveable() === true) ? motionMax : plaxActivityTarget.width()),\r\n        vRatio = y/((moveable() === true) ? motionMax : plaxActivityTarget.height()),\r\n        layer, i;\r\n\r\n    for (i = layers.length; i--;) {\r\n      layer = layers[i];\r\n      if(options.useTransform && !layer.background){\r\n        newX = layer.transformStartX + layer.inversionFactor*(layer.xRange*hRatio);\r\n        newY = layer.transformStartY + layer.inversionFactor*(layer.yRange*vRatio);\r\n        newZ = layer.transformStartZ;\r\n        layer.obj\r\n            .css({'transform':'translate3d('+newX+'px,'+newY+'px,'+newZ+'px)'});\r\n      }else{\r\n        newX = layer.startX + layer.inversionFactor*(layer.xRange*hRatio);\r\n        newY = layer.startY + layer.inversionFactor*(layer.yRange*vRatio);\r\n        if(layer.background) {\r\n          layer.obj\r\n            .css('background-position', newX+'px '+newY+'px');\r\n        } else {\r\n          layer.obj\r\n            .css('left', newX)\r\n            .css('top', newY);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  $.plax = {\r\n    // Begin parallaxing\r\n    //\r\n    // Parameters\r\n    //\r\n    //  opts - options for plax\r\n    //    activityTarget - optional; plax will only work within the bounds of this element, if supplied.\r\n    //\r\n    //  Examples\r\n    //\r\n    //    $.plax.enable({ \"activityTarget\": $('#myPlaxDiv')})\r\n    //    # plax only happens when the mouse is over #myPlaxDiv\r\n    //\r\n    // returns nothing\r\n    enable: function(opts){\r\n      if (opts) {\r\n        if (opts.activityTarget) plaxActivityTarget = opts.activityTarget || $(window);\r\n        if (typeof opts.gyroRange === 'number' && opts.gyroRange > 0) motionDegrees = opts.gyroRange;\r\n      }\r\n\r\n      plaxActivityTarget.bind('mousemove.plax', function (e) {\r\n        plaxifier(e);\r\n      });\r\n\r\n      if(moveable()){\r\n        window.ondeviceorientation = function(e){plaxifier(e);};\r\n      }\r\n\r\n    },\r\n\r\n    // Stop parallaxing\r\n    //\r\n    //  Examples\r\n    //\r\n    //    $.plax.disable()\r\n    //    # plax no longer runs\r\n    //\r\n    //    $.plax.disable({ \"clearLayers\": true })\r\n    //    # plax no longer runs and all layers are forgotten\r\n    //\r\n    // returns nothing\r\n    disable: function(opts){\r\n      $(document).unbind('mousemove.plax');\r\n      window.ondeviceorientation = undefined;\r\n      if (opts && typeof opts.restorePositions === 'boolean' && opts.restorePositions) {\r\n        for(var i = layers.length; i--;) {\r\n          layer = layers[i];\r\n          if(options.useTransform && !layer.background){\r\n            layer.obj\r\n                .css('transform', 'translate3d('+layer.transformOriginX+'px,'+layer.transformOriginY+'px,'+layer.transformOriginZ+'px)')\r\n                .css('top', layer.originY);\r\n          }else{\r\n            if(layers[i].background) {\r\n              layer.obj.css('background-position', layer.originX+'px '+layer.originY+'px');\r\n            } else {\r\n              layer.obj\r\n                .css('left', layer.originX)\r\n                .css('top', layer.originY);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (opts && typeof opts.clearLayers === 'boolean' && opts.clearLayers) layers = [];\r\n    }\r\n  };\r\n\r\n  if (typeof ender !== 'undefined') {\r\n    $.ender($.fn, true);\r\n  }\r\n\r\n}))/*(function () {\r\n  return typeof jQuery !== 'undefined' ? jQuery : ender;\r\n}())*/;\r\n","/**\r\n * [响应式表格]\r\n * @param  {[number]} offset [上边距偏移量（解决与顶部固定条重叠问题）]\r\n * @param  {[Boole]} hide [是否初始化时隐藏该列]\r\n * @param  {[number]} priority [表格列优先级，值越高越先隐藏使用data-priority设置在thead>tr>th上]\r\n * @return {[type]}         [description]\r\n */\r\n\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.responsivetable',['jquery','underscore','browser','jquery.widget','jquery.waypoints','jquery.ui','jquery.dropdown','jquery.sticky'],factory);\r\n  } else {\r\n    factory( $,_,browser,widget,Waypoint );\r\n  }\r\n}(function($,_,browser,widget,Waypoint){\r\n  var Responsivetable = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.options.className = this.$el.attr('class');\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Responsivetable.prototype,{\r\n    init:function(){\r\n      this.$wrap = $(this._wrapTemp(this.options)).addClass('responsive-table-wrapper').insertAfter(this.$el);\r\n      this.$tableWrap = this.$wrap.children('.responsive-table');\r\n      this.$tableWrap.append(this.$el);\r\n      this.$el = this.$elClone = this.$el;\r\n      this.$actions = this.$tableWrap.find('>.actions');\r\n      this.$head = this.$el.find('thead');\r\n      this.$body = this.$el.find('tbody');\r\n      this.initColumn();\r\n      this.createToolbar();\r\n\r\n      this.createStickyHeader();\r\n      this.events();\r\n      this.updateCheckState();\r\n    },\r\n    events: function(){\r\n      var _this = this;\r\n      this.$toolbar.on('change','input[type=checkbox]',function(){\r\n        var $this = $(this);\r\n        var checked = $this.prop('checked');\r\n        var value = parseInt($this.val())+1;\r\n        var $cells = _this.$elClone.find('tr>:nth-child('+value+')')\r\n        $cells.toggleClass('show',checked).toggleClass('hide',!checked);\r\n      });\r\n      $(window).on('resize',function(e){\r\n        _.delay(function(){\r\n          _this.$sticky.css({width:_this.$tableWrap.width()});\r\n        },0);\r\n        _this.windowResize();\r\n      });\r\n      this.$tableWrap.on('scroll',function(){\r\n        _this.$sticky.scrollLeft(_this.$tableWrap.scrollLeft());\r\n      });\r\n      this.$checkGroup.on('click',function(e){\r\n        e.stopPropagation();\r\n      });\r\n      this.$toolbar.on('click','button[data-action=show-all]',function(){\r\n        _this.$checkGroup.find('input[type=checkbox]:not(:checked)').prop('checked',true).trigger('change');\r\n      });\r\n    },\r\n    initColumn: function(){\r\n      var _this = this;\r\n      this.$head.find('th').each(function(index){\r\n        var $this = $(this);\r\n        var data = $this.data();\r\n        data.priority = data.priority || 1;\r\n        $this.toggleClass('hide',!!(data && data.hide));\r\n      });\r\n      this.$body.children().each(function(){\r\n        var idStart = 0;\r\n        $(this).children().each(function(index){\r\n          var $cell = $(this);\r\n          var data = _this.$head.find('th').eq(index).data();\r\n          $cell.toggleClass('hide',!!(data && data.hide));\r\n          $cell.addClass('priority'+(data && data.priority || 1));\r\n        });\r\n      });\r\n    },\r\n    createToolbar: function(){\r\n      var _this = this;\r\n      this.$toolbar = $(this._tollbarTemp());\r\n      this.$toolbar.prepend(this.$actions);\r\n      this.$tableWrap.before(this.$toolbar);\r\n      \r\n      this.createCheckGroup();\r\n    },\r\n    createCheckGroup: function(){\r\n      var _this = this;\r\n      this.$checkGroup = $('<ul class=\"ui-dropdown-menu ui-dropdown-impede\">').appendTo(this.$toolbar.find('.ui-dropdown'));\r\n      this.$head.find('th').each(function(index){\r\n        var $this = $(this);\r\n        var data = $this.data();\r\n        $this.data('priority',data.priority || 1);\r\n        data = $this.data();\r\n        $this.addClass('priority'+data.priority);\r\n        _.extend(data,{_text:$this.text(),_index:index});\r\n        var $li = $(_this._liTemp(data));\r\n        _this.$checkGroup.append($li);\r\n      });\r\n    },\r\n    updateCheckState: function(){\r\n      var _this = this;\r\n      this.$checkGroup.children().each(function(index){\r\n        var $this = $(this);\r\n        var $checkbox = $this.find('input[type=checkbox]');\r\n        var $th = _this.$head.find('th:eq('+$checkbox.val()+')');\r\n        $checkbox.prop('checked',$th.css('display') != \"none\");\r\n      });\r\n    },\r\n    createStickyHeader: function(){\r\n      //ie6及以下浏览器不支持fixed定位，所以不创建stickyHeader\r\n      if(browser < 7){\r\n        this.$sticky = $('<div>');\r\n        return;\r\n      }\r\n      var _this = this;\r\n      var $el = this.$el.clone().addClass('responsivetable-clone').removeAttr('data-widget');\r\n      this.$elClone = this.$elClone.add($el);\r\n      this.$sticky = $('<div class=\"sticky-table-header\">').append($el);\r\n      this.$el.before(this.$sticky);\r\n      this.$sticky.css({\r\n        height:this.$head.height()+1,\r\n        width:this.$tableWrap.width(),\r\n        top: this.options.offset,\r\n        display: 'none'\r\n      });\r\n\r\n      _this.$tableWrap.waypoint({\r\n        offset: _this.options.offset,\r\n        handler: function(direction){\r\n          if(direction == 'down'){\r\n            _this.$sticky.css({\r\n              display: 'block',\r\n              position: 'fixed'\r\n            });\r\n          }else{\r\n            _this.$sticky.css({\r\n              display: 'none'\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n    refreshSticky: function(){\r\n      Waypoint.refreshAll();\r\n    },\r\n    windowResize: _.debounce(function(){\r\n      //ie 6,7,8修改列导致window resize修改列产生冲突,导致修改列失败，所以去除resize修改列功能\r\n      if(browser > 8){\r\n        this.$el.find('tr>.show').removeClass('show');\r\n        this.$el.find('tr>.hide').removeClass('hide');\r\n      }\r\n      this.updateCheckState();\r\n    },200),\r\n    _liTemp: _.template([\r\n      '<li><label><input type=\"checkbox\" name=\"column\" value=\"<%=_index%>\" /> <%= _text %></label></li>'\r\n    ].join('')),\r\n    _tollbarTemp: _.template([\r\n      '<div class=\"responsive-table-toolbar\">',\r\n        '<div class=\"btn-group\">',\r\n          '<button class=\"btn btn-sm\" data-action=\"show-all\" type=\"button\">显示全部</button>',\r\n          '<div class=\"ui-dropdown pull-right ml5\">',\r\n            '<i class=\"ui-dropdown-arrow\"></i>',\r\n            '<a class=\"btn btn-sm dropdown-toggle\" data-widget=\"dropdown\">显示&nbsp;&nbsp;</a>',\r\n          '</div>',\r\n        '</div>',\r\n      '</div>'\r\n    ].join('')),\r\n    _wrapTemp: _.template([\r\n      '<div class=\"<%= className %>\"><div class=\"responsive-table\"></div></div>'\r\n    ].join(''))\r\n  });\r\n  $.extend(Responsivetable,{\r\n    options : {\r\n      offset: 0\r\n    }\r\n  });\r\n\r\n  widget.install('responsivetable',Responsivetable);\r\n\r\n  return Responsivetable\r\n\r\n}));","/**\r\n * [遮罩一个元素]\r\n * \r\n * @param  {[domElement]} el [作用元素]\r\n * @return {[object]}         [Shade 实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.shade',['jquery','underscore','jquery.widget'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n  var Shade = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Shade.prototype,{\r\n    init : function(){\r\n      var attr,$body;\r\n      $body = $(document.body);\r\n      attr = this.$el.offset();\r\n      client = {\r\n        width:$body.width(),\r\n        height:$body.height()\r\n      }\r\n\r\n      attr.width= this.$el.outerWidth();\r\n      attr.height= this.$el.outerHeight();\r\n      attr.right= client.width-attr.width-attr.left;\r\n      attr.bottom= client.height-attr.height-attr.top;\r\n      this.attr = attr;\r\n      this.createWidget();\r\n    },\r\n    createWidget: function(){\r\n      var that = this;\r\n      var $content,$overlayer;\r\n      this.$widget = $(this.template());\r\n      $content = this.$widget.find('.ui-shade-content');\r\n      $overlayer = this.$widget.find('.ui-shade-overlayer');\r\n      $content.css({\r\n        width:this.attr.width,\r\n        height:this.attr.height,\r\n        top:this.attr.top,\r\n        left:this.attr.left\r\n      });\r\n      $overlayer.css({\r\n        width:this.attr.width,\r\n        height:this.attr.height,\r\n        borderTopWidth:this.attr.top,\r\n        borderRightWidth:this.attr.right,\r\n        borderBottomWidth:this.attr.bottom,\r\n        borderLeftWidth:this.attr.left\r\n      }).on('click',function(){\r\n        that.remove();\r\n      });\r\n      $content.html(this.options.content);\r\n      $(document.body).append(this.$widget);\r\n    },\r\n    remove: function(){\r\n      this.$el.data('shade',null);\r\n      this.$widget.remove();\r\n    },\r\n    template: _.template([\r\n      '<div class=\"ui-shade\">',\r\n        '<div class=\"ui-shade-content\"></div>',\r\n        '<div class=\"ui-shade-overlayer\"></div>',\r\n      '</div>'\r\n    ].join(''))\r\n  });\r\n  $.extend(Shade,{\r\n    options : {\r\n      content: ''\r\n    }\r\n  });\r\n\r\n  widget.install('shade',Shade);\r\n\r\n  return Shade\r\n\r\n}));","/**\r\n * 即将废弃\r\n * [轮播展示盒子]\r\n * @param  {[string]} direction [方向]\r\n * @param  {[string]} event [触发事件类型]\r\n * @param  {[number]} displayNumber [显示条数]\r\n * @param  {[boole]} control [是否显示控制面板]\r\n * @param  {[boole]} auto [是否自动播放]\r\n * @param  {[boole]} hoverPause [hover状态是否暂停自动播放]\r\n * @param  {[number]} delay [自动播放迟延]\r\n * @param  {[number]} duration [补间持续时间]\r\n * @param  {[string]} easing [缓动函数]\r\n * @return {[type]}         [description]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.sliderbox',['jquery','underscore','jquery.widget','jquery.easing'],factory);\r\n  } else {\r\n    factory( $,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n  var SliderBox = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.init();\r\n  }\r\n  $.extend(SliderBox.prototype,{\r\n    init : function(){\r\n      var _this = this;\r\n      this.$el.css({\r\n        position:'relative',\r\n        overflow:'hidden'\r\n      });\r\n      this.$items = this.$el.children();  \r\n      this.$items.css({\r\n        width : this.$items.width(),\r\n        height : this.$items.height()\r\n      });\r\n      this.$items.detach().addClass('ui-sliderbox-item');\r\n      if(this.options.direction == \"vertical\") this.$items.css({float:'left'});\r\n      this.$itemBox = $('<div class=\"ui-sliderbox-box\"></div>').css({\r\n        position:'absolute',left:0,top:0\r\n      }).append(this.$items).appendTo(this.$el);\r\n\r\n      if(this.options.direction == \"horizontal\") this.$itemBox.css({width:'100%'});\r\n\r\n      this.current = null;\r\n      var width = this.$items.eq(0).outerWidth(true),\r\n          height = this.$items.eq(0).outerHeight(true);\r\n      this.options.item = {\r\n        width : width,\r\n        height : height\r\n      }\r\n\r\n      if(this.options.direction == \"horizontal\"){\r\n        this.$itemBox.css({height:height*this.$items.length});\r\n        this.$el.css({\r\n          width : width,\r\n          height : height*this.options.displayNumber\r\n        });\r\n      }else{\r\n        this.$itemBox.css({width:width*this.$items.length});\r\n        this.$el.css({\r\n          width : width*this.options.displayNumber,\r\n          height : height\r\n        });\r\n      }\r\n      \r\n      this.$el.addClass('ui-sliderbox');\r\n      this.initControl();\r\n      this.slider(0);\r\n      if(this.options.auto){\r\n        if(this.options.hoverPause){\r\n          this.$el.hover($.proxy(this.closeAuto,this),$.proxy(this.openAuto,this));\r\n        }\r\n        this.openAuto();\r\n      }\r\n    },\r\n    initControl : function(){\r\n      var _this = this,total;\r\n      if(!this.options.control){\r\n        this.$controlBox = $('<div>');\r\n        return ;\r\n      }\r\n      this.$controlBox = $('<div class=\"ui-sliderbox-control\"></div>').appendTo(this.$el);\r\n\r\n      total = Math.ceil(this.$items.length/_this.options.controlSkip);\r\n      _.each(_.range(total),function(item,i){\r\n        var $ct;\r\n        if(!!_this.options.createControl){\r\n          $ct = _this.options.createControl($(this),i);\r\n        }else{\r\n          $ct = $('<a href=\"javascript:;\">'+i+'</a>');\r\n        }\r\n        _this.$controlBox.append($ct);\r\n      });\r\n\r\n      this.$controlBox.on(this.options.event,'a',function(){\r\n        var $this = $(this);\r\n        _this.slider($this.index()*_this.options.controlSkip);\r\n      });\r\n      this.$el.on('slider',function(e){\r\n        var index;\r\n        index = Math.floor(e.index/_this.options.controlSkip);\r\n        _this.$controlBox.children().eq(index).addClass('active')\r\n        .siblings('.active').removeClass('active');\r\n      });\r\n\r\n      if(_this.options.controlSkip>1){\r\n        this.prev = function(){\r\n          var target;\r\n          target = this.getIndex()-1*_this.options.controlSkip;\r\n          if(target<0) target=Math.ceil(this.$items.length/_this.options.controlSkip);\r\n          if(target>this.$items.length) target=0;\r\n          this.slider(target);\r\n        },\r\n        this.next = function(){\r\n          var target;\r\n          target = this.getIndex()+1*_this.options.controlSkip;\r\n          if(target<0) target=Math.ceil(this.$items.length/_this.options.controlSkip);\r\n          if(target>this.$items.length) target=0;\r\n          this.slider(target);\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n    slider : function(index,direction){\r\n      var _this = this;\r\n\r\n      index = (this.$items.length+index) % this.$items.length\r\n      \r\n      if(this.options.direction == \"horizontal\"){\r\n        endCss = {top:-this.options.item.height*index}\r\n      }else{\r\n        endCss = {left:-this.options.item.width*index}\r\n      }\r\n      this.$itemBox.stop(true).animate(endCss,{\r\n        duration : this.options.duration,\r\n        easing : this.options.easing\r\n      });\r\n\r\n      if(this.current == index) return false;//去除重复调用\r\n      this.current = index;\r\n      var event = $.Event('slider',{index : index});\r\n      this.$el.trigger(event);\r\n    },\r\n    getIndex: function(){\r\n      return this.current || 0;\r\n    },\r\n    prev : function(){\r\n      this.slider(this.getIndex()-1);\r\n    },\r\n    next : function(){\r\n      this.slider(this.getIndex()+1);\r\n    },\r\n    openAuto: function(){\r\n      clearInterval(this.timer);\r\n      this.timer = setInterval($.proxy(this.next,this),this.options.delay);\r\n    },\r\n    closeAuto: function(){\r\n      clearInterval(this.timer);\r\n    }\r\n  });\r\n  $.extend(SliderBox,{\r\n    options : {\r\n      direction : 'vertical',//horizontal,vertical\r\n      event : 'click',\r\n      displayNumber : 1,\r\n      control : true,\r\n      controlSkip : 1,//控制器长度\r\n      auto : true,\r\n      hoverPause: true,\r\n      delay : 3000,\r\n      duration : 400,\r\n      easing : 'easeOutExpo'\r\n    }\r\n  });\r\n\r\n\r\n  widget.install('sliderbox',SliderBox);\r\n\r\n  return SliderBox\r\n\r\n}));","/**\r\n * 把一个元素粘住\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.sticky',['jquery','jquery.widget','jquery.waypoints'],factory);\r\n  } else {\r\n    factory( jQuery,widget,Waypoint );\r\n  }\r\n}(function($,widget,Waypoint){\r\n\r\n  var Sticky = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    if(this.options.stickyoffset != undefined){\r\n      this.options.offset = this.options.stickyOffset;\r\n    }\r\n    this.$el = $(this.options.el);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Sticky.prototype,{\r\n    init: function(){\r\n      this.createWrapper();\r\n      var originalHandler = this.options.handler\r\n      this.options.static = this.$el.css('position') == \"static\";\r\n      this.options.height = this.$el.outerHeight(true);\r\n\r\n      this.waypoint = new Waypoint($.extend({}, this.options, {\r\n        element: this.wrapper,\r\n        handler: $.proxy(function(direction) {\r\n          var shouldBeStuck = this.options.direction.indexOf(direction) > -1\r\n          var wrapperHeight = shouldBeStuck ? this.options.height : ''\r\n\r\n          this.options.static && this.$wrapper.height(wrapperHeight)\r\n          this.$el.toggleClass(this.options.stuckClass, shouldBeStuck)\r\n\r\n          if (originalHandler) {\r\n            originalHandler.call(this, direction)\r\n          }\r\n        }, this)\r\n      }))\r\n    },\r\n    createWrapper : function() {\r\n      this.$el.wrap('<div class=\"sticky-wrapper\" />');\r\n      this.$wrapper = this.$el.parent().addClass(this.options.wrapperclass);\r\n      this.wrapper = this.$wrapper[0]\r\n    },\r\n    destroy : function() {\r\n      if (this.$el.parent()[0] === this.wrapper) {\r\n        this.waypoint.destroy()\r\n        this.$el.removeClass(this.options.stuckClass).unwrap()\r\n      }\r\n    }\r\n  });\r\n\r\n  $.extend(Sticky,{\r\n    options: {\r\n      stuckClass: 'stuck',\r\n      wrapperclass: '',\r\n      direction: 'down right',\r\n      handler: $.noop\r\n    }\r\n  });\r\n\r\n  widget.install('sticky',Sticky);\r\n\r\n  return Sticky;\r\n\r\n}));\r\n","/**\r\n * [标签页]\r\n * @param  {[string]} event [触发事件]\r\n * @param  {[domElement]} el [作用元素]\r\n * 有两种节构实例化一个标签页，简单的和普通的，\r\n * 简单的节构为：div>(a+div)*3\r\n * 普通的节构为：div>div.ui-tab-navs>div.ui-tab-nav>a*3^^+div.ui-tab-panels>div.ui-tab-panel*3\r\n * @return {[object]}         [Tab 实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.tab',['jquery','underscore','jquery.widget','jquery.tabNavOverflow'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n  var Tab = function(opt){\r\n    if(opt.event == \"hover\"){\r\n      opt.event = \"mouseenter\";\r\n    }\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el).addClass('ui-tab');\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Tab.prototype,{\r\n    init : function(){\r\n      var _this = this;\r\n      if(this.$el.find('>.ui-tab-navs>.ui-tab-nav').length==0){\r\n        this.simpleModel();\r\n      }else{\r\n        this.normalModel();\r\n      }\r\n      this.options.overflow && this.overflow();\r\n      var curIndex = this.$tabNav.children('.active').index();\r\n      curIndex = curIndex>=0 ? curIndex : 0;\r\n      this.select(curIndex);\r\n      this.events();\r\n      this.$el.is(':hidden') && this.$el.fadeIn(200);\r\n    },\r\n    events: function(){\r\n      var that = this;\r\n      this.$tabNav.on(this.options.event,'>',function(){\r\n        var index = $(this).index();\r\n        that.select(index);\r\n      });\r\n    },\r\n    select: function(index){\r\n      this.$curNav = this.$tabNav.children().eq(index);\r\n      this.$curPan = this.$tabPanels.eq(index);\r\n      this.$tabNav.children().removeClass(\"active\");\r\n      this.$tabPanels.removeClass(\"active\");\r\n      this.$curNav.addClass(\"active\");\r\n      this.$curPan.addClass(\"active\");\r\n    },\r\n    normalModel: function(){\r\n      this.$tabNav = this.$el.find('>.ui-tab-navs>.ui-tab-nav');\r\n      this.$tabNavs = this.$tabNav.children();\r\n      this.$tabPanels = this.$el.find('>.ui-tab-panels>.ui-tab-panel');\r\n    },\r\n    simpleModel: function(){\r\n      this.$tabNavs = this.$el.children('a');\r\n      this.$tabPanels = this.$el.children('div').addClass('ui-tab-panel');\r\n      var $navWrap = $('<div class=\"ui-tab-navs\">').prependTo(this.$el);\r\n      var $panelWrap = $('<div class=\"ui-tab-panels\">').appendTo(this.$el);\r\n      this.$tabNav = $('<div class=\"ui-tab-nav\">').appendTo($navWrap);\r\n\r\n      $panelWrap.append(this.$tabPanels);\r\n      this.$tabNav.append(this.$tabNavs);\r\n    },\r\n    overflow: function(){\r\n      var that = this;\r\n      this.$tabNav.tabNavOverflow();\r\n      var $selectName = this.$el.find('.ui-tab-navs .ui-dropdown-select-name').text('更多');\r\n      var tabNavOverflow = this.$tabNav.data('tabNavOverflow');\r\n      tabNavOverflow.$container.on('change',function(){\r\n        var index = $(this).val();\r\n        $selectName.addClass('cl-blue');\r\n        that.select(index);\r\n      });\r\n      this.$tabNav.on(this.options.event,'>a',function(){\r\n        tabNavOverflow.$container.val('').trigger('change');\r\n        $selectName.removeClass('cl-blue').text('更多');\r\n      });\r\n    }\r\n  });\r\n  $.extend(Tab,{\r\n    options : {\r\n      event: 'click',\r\n      overflow: false\r\n    }\r\n  });\r\n\r\n  widget.install('tab',Tab);\r\n\r\n  return Tab\r\n\r\n}));","/**\r\n * [tab溢出测试]\r\n * 对一个容器进行子元素单向溢出测试，如果溢出即把溢出元素放到指定容器内。\r\n * @param  {[domElement]} el [作用元素]\r\n * @param  {[string]} direction [溢出测试方向]\r\n * 方法 \r\n * refresh 重新排版\r\n * @return {[object]}         [TabNavOverflow 实例]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.tabNavOverflow',['jquery','underscore','jquery.widget','jquery.dropdownSelect'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n\r\n  var TID = 0;\r\n\r\n  var KEYMAP = {\r\n    horizontal: {\r\n      width: 'width',\r\n      itemWidth: 'outerWidth'\r\n    },\r\n    vertical: {\r\n      width: 'height',\r\n      itemWidth: 'outerHeight'\r\n    }\r\n  }\r\n\r\n  var TabNavOverflow = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(opt.el);\r\n    this.init();\r\n  }\r\n\r\n  $.extend(TabNavOverflow.prototype,{\r\n    init: function(){\r\n      TID++;\r\n      this.tid = 0;\r\n      this.width = 0;\r\n      this.maxWidth = 0;\r\n      this.$container = $('<select style=\"width:100px;\"></select>');\r\n      this.$el.after(this.$container);\r\n      this.$container.attr('name','tabnav'+TID).dropdownSelect();\r\n      this.refresh();\r\n    },\r\n    refresh: function(){\r\n      var that = this;\r\n      this.tid = 0;\r\n      this.width = this.$el.width();\r\n      var list = this.$el.children().add(this.$container.children()).detach();\r\n      this.maxWidth = 0;\r\n      $.each(list,function(key){\r\n        that.add(this);\r\n        that.tid++;\r\n      });\r\n      this.container();\r\n    },\r\n    add: function(item){\r\n      var rt = this._add(item);\r\n      this.$container.data('dropdownSelect').$widget.toggle(!rt);\r\n    },\r\n    _add: function(item){\r\n      var maxWidth\r\n        keys = KEYMAP[this.options.direction],\r\n        $item = $(item);\r\n\r\n      if(this.$container.children().length>0){\r\n        //直接测试失败\r\n        this.$container.append(this.createOption(item));\r\n        return false;\r\n      }\r\n      this.$el.append($item);\r\n      maxWidth = this.maxWidth+$item[keys.itemWidth](true);\r\n\r\n      if(maxWidth>this.width){\r\n        //测试失败\r\n        $item.detach();\r\n        this.$container.append(this.createOption(item));\r\n        return false;\r\n      }\r\n      this.maxWidth = maxWidth;\r\n      return true;\r\n    },\r\n    container: function(){\r\n      this.$container.dropdownSelect('refresh');\r\n    },\r\n    createOption: function(item){\r\n      var $el = $('<option></option>');\r\n      $el.val(this.tid);\r\n      $el.text($(item).text());\r\n      return $el;\r\n    }\r\n  });\r\n  $.extend(TabNavOverflow,{\r\n    options: {\r\n      direction: 'horizontal'\r\n    }\r\n  });\r\n\r\n  widget.install('tabNavOverflow',TabNavOverflow);\r\n\r\n  return TabNavOverflow\r\n\r\n}));","/**\r\n * 借用jqueryui tabs\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.tabs',['jquery','jquery.widget','jquery.ui'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n\r\n  //保存jquery-ui的tabs方法\r\n  var $_fn_tabs = $.fn.tabs;\r\n\r\n  var Tabs = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(this.options.el);\r\n    //使用jquery-ui的tabs方法\r\n    $_fn_tabs.call(this.$el,this.options);\r\n\r\n    this.$el.fadeIn(500);\r\n  }\r\n\r\n  $.extend(Tabs.prototype,{});\r\n  $.extend(Tabs,{});\r\n\r\n  //注册组件，覆盖jquery-ui的tabs方法\r\n  widget.install('tabs',Tabs);\r\n\r\n  return Tabs\r\n\r\n}));","/**\r\n * 借用jqueryui timepicker\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.timepicker',['jquery','jquery.widget','jquery.ui','jquery.datetimepicker'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n\r\n  //保存jquery-ui的timepicker方法\r\n  var $_fn_timepicker = $.fn.datetimepicker;\r\n\r\n  $.timepicker.regional['zh-CN'] = {\r\n    timeOnlyTitle: '选择时间',\r\n    timeText: '时间',\r\n    hourText: '小时',\r\n    minuteText: '分钟',\r\n    secondText: '秒钟',\r\n    millisecText: '毫秒',\r\n    microsecText: '微秒',\r\n    timezoneText: '时区',\r\n    currentText: '现在时间',\r\n    closeText: '关闭',\r\n    timeFormat: 'HH:mm',\r\n    timeSuffix: '',\r\n    amNames: ['AM', 'A'],\r\n    pmNames: ['PM', 'P'],\r\n    isRTL: false\r\n  };\r\n  $.timepicker.setDefaults($.timepicker.regional['zh-CN']);\r\n\r\n  var Timepicker = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(this.options.el);\r\n    //使用jquery-ui的timepicker方法\r\n    $_fn_timepicker.call(this.$el,this.options);\r\n  }\r\n\r\n  $.extend(Timepicker.prototype,{});\r\n  $.extend(Timepicker,{});\r\n\r\n  //注册组件，覆盖jquery-ui的timepicker方法\r\n  widget.install('timepicker',Timepicker);\r\n\r\n  return Timepicker\r\n\r\n}));","/**\r\n * jquery validate\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.validateForm',['jquery','jquery.widget','jquery.validate'],factory);\r\n  } else {\r\n    factory( jQuery,widget );\r\n  }\r\n}(function($,widget){\r\n\r\n\r\n  var ValidateForm = function(opt){\r\n    this.options = $.extend(true,{},arguments.callee.options,opt);\r\n    this.$el = $(this.options.el);\r\n    if(this.$el[0].nodeName.toLowerCase() == \"form\"){\r\n      this.$form = this.$el;\r\n    }else{\r\n      this.$form = this.$el.find('form');\r\n    }\r\n    this.$form.validate(opt);\r\n  }\r\n\r\n  $.extend(ValidateForm.prototype,{});\r\n  $.extend(ValidateForm,{});\r\n\r\n  widget.install('validateForm',ValidateForm);\r\n\r\n  return ValidateForm\r\n\r\n}));","/**\r\n * [瀑布流，然并卵]\r\n * @param  {[number]} column [显示列数]\r\n */\r\n(function( factory ) {\r\n  if ( typeof define === \"function\" && define.amd ) {\r\n    define('jquery.waterfall',['jquery','underscore','jquery.widget','jquery.easing'],factory);\r\n  } else {\r\n    factory( jQuery,_,widget );\r\n  }\r\n}(function($,_,widget){\r\n  //简单瀑布流实现\r\n  var Waterfall = function(opt){\r\n    this.options = $.extend(true,{},Waterfall.options,opt);\r\n    this.$el = $(opt.el).css({position:'relative'});\r\n    var _heights = [];\r\n    $.extend(this,{\r\n      createHeight : function(){\r\n        _heights = new Array();\r\n        $.each(_.range(this.options.column),function(index,ar){\r\n          _heights.push(0)\r\n        });\r\n      },\r\n      getHeight : function(index){\r\n        return _heights[index] || _heights;\r\n      },\r\n      setHeight : function(index,height){\r\n        _heights[index] = height;\r\n      },\r\n      getMinHeight : function(){\r\n        return Math.min.apply(null,_heights);\r\n      },\r\n      getMaxHeight : function(){\r\n        return Math.max.apply(null,_heights);\r\n      },\r\n      getMinIndex : function(){\r\n        return _(_heights).indexOf(this.getMinHeight()) || 0;\r\n      }\r\n    });\r\n\r\n    this.createHeight();\r\n    this.init();\r\n  }\r\n  $.extend(Waterfall.prototype,{\r\n    init : function(){\r\n      var _this = this;\r\n      list = this.$el.children().detach().toArray();\r\n      _this.append(list);\r\n    },\r\n    append : function(list){\r\n      var _this = this;\r\n      if(list instanceof $){\r\n        list = list.toArray();\r\n      }\r\n      if(!$.isArray(list)){\r\n        list = [list];\r\n      }\r\n      $.each(list,function(){\r\n        var $item = $(this).css({visibility:'hidden'}).appendTo(_this.$el);\r\n        var itemAttr = {\r\n          width : $item.outerWidth(true),\r\n          height : $item.outerHeight(true)\r\n        }\r\n\r\n        var index = _this.getMinIndex();\r\n        var minHeight = _this.getMinHeight();\r\n\r\n        $item.css({\r\n          position : 'absolute',\r\n          left : index*itemAttr.width,\r\n          top : minHeight,\r\n        });\r\n        _this.setHeight(index,minHeight+itemAttr.height);\r\n      });\r\n      this.$el.height(this.getMaxHeight());\r\n      this.show(list);\r\n    },\r\n    show : function(list){\r\n      var _this = this;\r\n      var fx = _this.options.fx;\r\n      $.each(_this.options.sort(list),function(){\r\n        var $item = $(this);\r\n        _this.$el.delay(fx.delay).queue(function(){\r\n          var position = $item.position();\r\n          var fromCss = $.extend({visibility:'visible'},position,_this.options.from(position,$item));\r\n          var toCss = $.extend(position,_this.options.to(position,$item));\r\n          $item.css(fromCss).animate(toCss,{\r\n            duration : fx.duration,\r\n            easing : fx.easing\r\n          });\r\n          $(_this.$el).dequeue();\r\n        });\r\n      });\r\n    },\r\n    refresh : function(){\r\n      this.createHeight();\r\n      this.append(this.$el.css({height:0}).stop(true,true).children().detach().stop(true,true));\r\n    }\r\n  });\r\n  $.extend(Waterfall,{\r\n    options : {\r\n      column : 2,\r\n      fx : {\r\n        delay : 100,\r\n        duration : 200,\r\n        easing : 'linear'\r\n      },\r\n      from : function(position,$item){\r\n        return {\r\n          left : 300,\r\n          top : 0,\r\n          opacity : 0\r\n        }\r\n      },\r\n      to : function(position,$item){\r\n        return {\r\n          left : position.left,\r\n          top : position.top,\r\n          opacity : 1\r\n        }\r\n      },\r\n      sort : function(list){\r\n        return list;\r\n      }\r\n    }\r\n  });\r\n\r\n  widget.install('waterfall',Waterfall);\r\n\r\n  return Waterfall\r\n\r\n}));"]}